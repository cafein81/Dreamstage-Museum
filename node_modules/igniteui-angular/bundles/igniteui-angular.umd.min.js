!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("jszip/dist/jszip"),require("rxjs/internal/Subject"),require("@angular/platform-browser"),require("rxjs/operators"),require("@angular/animations"),require("@angular/common"),require("@angular/forms"),require("@angular/core"),require("rxjs")):"function"==typeof define&&define.amd?define("igniteui-angular",["exports","jszip/dist/jszip","rxjs/internal/Subject","@angular/platform-browser","rxjs/operators","@angular/animations","@angular/common","@angular/forms","@angular/core","rxjs"],t):t(e["igniteui-angular"]={},e.JSZip,e.rxjs["internal/Subject"],e.ng.platformBrowser,e.rxjs.operators,e.ng.animations,e.ng.common,e.ng.forms,e.ng.core,e.rxjs)}(this,function(e,s,n,t,p,u,r,o,b,x){"use strict";var i={quad:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",cubic:"cubic-bezier(0.550, 0.055, 0.675, 0.190)",quart:"cubic-bezier(0.895, 0.030, 0.685, 0.220)",quint:"cubic-bezier(0.755, 0.050, 0.855, 0.060)",sine:"cubic-bezier(0.470, 0.000, 0.745, 0.715)",expo:"cubic-bezier(0.950, 0.050, 0.795, 0.035)",circ:"cubic-bezier(0.600, 0.040, 0.980, 0.335)",back:"cubic-bezier(0.600, -0.280, 0.735, 0.045)"},a={quad:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",cubic:"cubic-bezier(0.215, 0.610, 0.355, 1.000)",quart:"cubic-bezier(0.165, 0.840, 0.440, 1.000)",quint:"cubic-bezier(0.230, 1.000, 0.320, 1.000)",sine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",expo:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",circ:"cubic-bezier(0.075, 0.820, 0.165, 1.000)",back:"cubic-bezier(0.175, 0.885, 0.320, 1.275)"},l=[u.style({opacity:"{{startOpacity}}"}),u.animate("{{duration}} {{delay}} {{easing}}",u.style({opacity:"{{endOpacity}}"}))],c={delay:"0s",duration:"350ms",easing:a.sine,endOpacity:1,startOpacity:0},d=u.animation(l,{params:c}),h=u.animation(l,{params:{delay:"0s",duration:"350ms",easing:a.sine,endOpacity:0,startOpacity:1}}),g=function(e,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};function f(e,t){function i(){this.constructor=e}g(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var m=function(){return(m=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function y(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;0<=a;a--)(r=e[a])&&(s=(o<3?r(s):3<o?r(t,i,s):r(t,i))||s);return 3<o&&s&&Object.defineProperty(t,i,s),s}function C(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function S(e){var t="function"==typeof Symbol&&e[Symbol.iterator],i=0;return t?t.call(e):{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}}}function w(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,r,o=i.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(n=o.next()).done;)s.push(n.value)}catch(a){r={error:a}}finally{try{n&&!n.done&&(i=o["return"])&&i.call(o)}finally{if(r)throw r.error}}return s}function _(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(w(arguments[t]));return e}var v=[u.style({backfaceVisibility:"hidden",transformStyle:"preserve-3d"}),u.animate("{{duration}} {{delay}} {{easing}}",u.keyframes([u.style({offset:0,transform:"translateZ({{startDistance}})\n                rotate3d({{rotateX}}, {{rotateY}}, {{rotateZ}}, {{startAngle}}deg)"}),u.style({offset:1,transform:"translateZ({{endDistance}})\n                rotate3d({{rotateX}}, {{rotateY}}, {{rotateZ}}, {{endAngle}}deg)"})]))],I={delay:"0s",duration:"600ms",easing:a.quad,endAngle:180,endDistance:"0px",rotateX:1,rotateY:0,rotateZ:0,startAngle:0,startDistance:"0px"},D=u.animation(v,{params:m({},I)}),E=u.animation(v,{params:m({},I,{endAngle:-180})}),O=u.animation(v,{params:m({},I,{rotateX:0,rotateY:1})}),P=u.animation(v,{params:m({},I,{endAngle:-180,rotateX:0,rotateY:1})}),T=u.animation(v,{params:m({},I,{endDistance:"170px"})}),R=u.animation(v,{params:m({},I,{endDistance:"-170px"})}),k=u.animation(v,{params:m({},I,{endDistance:"170px",rotateX:0,rotateY:1})}),L=u.animation(v,{params:m({},I,{endDistance:"-170px",rotateX:0,rotateY:1})}),A=[u.style({opacity:"{{startOpacity}}",transform:"rotate3d({{rotateX}},{{rotateY}},{{rotateZ}},{{startAngle}}deg)",transformOrigin:"{{xPos}} {{yPos}}"}),u.animate("{{duration}} {{delay}} {{easing}}",u.style({offset:0,opacity:"{{endOpacity}}",transform:"rotate3d({{rotateX}},{{rotateY}},{{rotateZ}},{{endAngle}}deg)",transformOrigin:"{{xPos}} {{yPos}}"}))],F={delay:"0s",duration:"600ms",easing:a.quad,endAngle:0,endOpacity:1,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,startOpacity:0,xPos:"center",yPos:"center"},M=m({},F,{easing:i.quad,endOpacity:0,startOpacity:1}),V=u.animation(A,{params:m({},F)}),H=u.animation(A,{params:m({},M)}),B=u.animation(A,{params:m({},F,{xPos:"top"})}),j=u.animation(A,{params:m({},M,{xPos:"top"})}),N=u.animation(A,{params:m({},F,{xPos:"right"})}),G=u.animation(A,{params:m({},M,{xPos:"right"})}),z=u.animation(A,{params:m({},F,{xPos:"bottom"})}),W=u.animation(A,{params:m({},M,{xPos:"bottom"})}),U=u.animation(A,{params:m({},F,{xPos:"left"})}),K=u.animation(A,{params:m({},M,{xPos:"left"})}),$=u.animation(A,{params:m({},F,{xPos:"right",yPos:"top"})}),Y=u.animation(A,{params:m({},M,{xPos:"right",yPos:"top"})}),X=u.animation(A,{params:m({},F,{xPos:"right",yPos:"bottom"})}),q=u.animation(A,{params:m({},M,{xPos:"right",yPos:"bottom"})}),Z=u.animation(A,{params:m({},F,{xPos:"left",yPos:"bottom"})}),J=u.animation(A,{params:m({},M,{xPos:"left",yPos:"bottom"})}),Q=u.animation(A,{params:m({},F,{xPos:"left",yPos:"top"})}),ee=u.animation(A,{params:m({},M,{xPos:"left",yPos:"top"})}),te=u.animation(A,{params:m({},F,{rotateX:1,rotateY:1,rotateZ:0})}),ie=u.animation(A,{params:m({},M,{rotateX:1,rotateY:1,rotateZ:0})}),ne=u.animation(A,{params:m({},F,{rotateX:-1,rotateY:1,rotateZ:0})}),re=u.animation(A,{params:m({},M,{rotateX:-1,rotateY:1,rotateZ:0})}),oe=u.animation(A,{params:m({},F,{rotateX:0,rotateY:1,rotateZ:0})}),se=u.animation(A,{params:m({},M,{rotateX:0,rotateY:1,rotateZ:0})}),ae=u.animation(A,{params:m({},F,{rotateX:1,rotateY:0,rotateZ:0})}),le=u.animation(A,{params:m({},M,{rotateX:1,rotateY:0,rotateZ:0})}),ce=[u.animate("{{duration}} {{delay}} {{easing}}",u.keyframes([u.style({offset:0,transform:"rotate(0deg) translate{{direction}}(0)",transformOrigin:"{{xPos}} {{yPos}}"}),u.style({offset:.1,transform:"rotate({{endAngle}}deg) translate{{direction}}(-{{startDistance}})"}),u.style({offset:.2,transform:"rotate(-{{startAngle}}deg) translate{{direction}}({{startDistance}})"}),u.style({offset:.3,transform:"rotate({{startAngle}}deg) translate{{direction}}(-{{startDistance}})"}),u.style({offset:.4,transform:"rotate(-{{startAngle}}deg) translate{{direction}}({{startDistance}})"}),u.style({offset:.5,transform:"rotate({{startAngle}}deg) translate{{direction}}(-{{startDistance}})"}),u.style({offset:.6,transform:"rotate(-{{startAngle}}deg) translate{{direction}}({{startDistance}})"}),u.style({offset:.7,transform:"rotate({{startAngle}}deg) translate{{direction}}(-{{startDistance}})"}),u.style({offset:.8,transform:"rotate(-{{endAngle}}deg) translate{{direction}}({{endDistance}})"}),u.style({offset:.9,transform:"rotate({{endAngle}}deg) translate{{direction}}(-{{endDistance}})"}),u.style({offset:1,transform:"rotate(0deg) translate{{direction}}(0)",transformOrigin:"{{xPos}} {{yPos}}"})]))],pe={delay:"0s",direction:"X",duration:"800ms",easing:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",endAngle:0,endDistance:"8px",startAngle:0,startDistance:"10px",xPos:"center",yPos:"center"},ue=u.animation(ce,{params:m({},pe,{direction:"X"})}),de=u.animation(ce,{params:m({},pe,{direction:"Y"})}),he=u.animation(ce,{params:m({},pe,{endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",yPos:"top"})}),ge=u.animation(ce,{params:m({},pe,{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",yPos:"bottom"})}),fe=u.animation(ce,{params:m({},pe,{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"right",yPos:"center"})}),me=u.animation(ce,{params:m({},pe,{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"left",yPos:"center"})}),ye=u.animation(ce,{params:m({},pe,{direction:"Y",endAngle:8,endDistance:"0",startAngle:10,startDistance:"0",xPos:"center",yPos:"center"})}),ve=u.animation(ce,{params:m({},pe,{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"right",yPos:"top"})}),xe=u.animation(ce,{params:m({},pe,{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"right",yPos:"bottom"})}),be=u.animation(ce,{params:m({},pe,{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"left",yPos:"bottom"})}),Ce=u.animation(ce,{params:m({},pe,{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"left",yPos:"top"})}),we=[u.style({animationTimingFunction:"ease-out",transform:"scale(1)",transformOrigin:"center center"}),u.animate("{{duration}} {{delay}} {{easing}}",u.keyframes([u.style({animationTimingFunction:"ease-in",offset:.1,transform:"scale(0.91)"}),u.style({animationTimingFunction:"ease-out",offset:.17,transform:"scale(0.98)"}),u.style({animationTimingFunction:"ease-in",offset:.33,transform:"scale(0.87)"}),u.style({animationTimingFunction:"ease-out",offset:.45,transform:"scale(1)"})]))],_e=[u.animate("{{duration}} {{delay}} {{easing}}",u.keyframes([u.style({offset:0,transform:"scale({{fromScale}})"}),u.style({offset:.5,transform:"scale({{toScale}})"}),u.style({offset:1,transform:"scale({{fromScale}})"})]))],Se={delay:"0s",duration:".5s",easing:"ease-in-out",fromScale:1,toScale:1.1},Ie=[u.animate("{{duration}} {{delay}} {{easing}}",u.keyframes([u.style({offset:0,opacity:.8,transform:"scale({{fromScale}})"}),u.style({offset:.8,opacity:0,transform:"scale({{midScale}})"}),u.style({offset:1,opacity:0,transform:"scale({{toScale}})"})]))],De=u.animation(_e,{params:m({},Se)}),Ee=u.animation(_e,{params:m({},Se,{toScale:.9})}),Oe=u.animation(we,{params:m({},{delay:"0s",duration:"1.5s",easing:"ease-in-out"})}),Pe=u.animation(Ie,{params:m({},{delay:"0s",duration:".8s",easing:"ease-in-out",fromScale:.2,midScale:1.2,toScale:2.2})}),Te=[u.style({opacity:"{{startOpacity}}",transform:"scale{{direction}}({{fromScale}})",transformOrigin:"{{xPos}} {{yPos}}"}),u.animate("{{duration}} {{delay}} {{easing}}",u.style({opacity:"{{endOpacity}}",transform:"scale{{direction}}({{toScale}})",transformOrigin:"{{xPos}} {{yPos}}"}))],Re={delay:"0s",direction:"",duration:"350ms",easing:a.quad,endOpacity:1,fromScale:.5,startOpacity:0,toScale:1,xPos:"50%",yPos:"50%"},ke=m({},Re,{easing:a.sine,endOpacity:0,fromScale:1,startOpacity:1,toScale:.5}),Le=u.animation(Te,{params:Re}),Ae=u.animation(Te,{params:m({},Re,{xPos:"0",yPos:"100%"})}),Fe=u.animation(Te,{params:m({},Re,{direction:"Y",fromScale:.4})}),Me=u.animation(Te,{params:m({},Re,{xPos:"50%",yPos:"0"})}),Ve=u.animation(Te,{params:m({},Re,{xPos:"0",yPos:"50%"})}),He=u.animation(Te,{params:m({},Re,{direction:"Y",fromScale:.4,xPos:"100%",yPos:"0"})}),Be=u.animation(Te,{params:m({},Re,{xPos:"100%",yPos:"0"})}),je=u.animation(Te,{params:m({},Re,{xPos:"0",yPos:"0"})}),Ne=u.animation(Te,{params:m({},Re,{direction:"Y",fromScale:.4,xPos:"0",yPos:"100%"})}),Ge=u.animation(Te,{params:m({},Re,{xPos:"100%",yPos:"50%"})}),ze=u.animation(Te,{params:m({},Re,{direction:"X",fromScale:.4})}),We=u.animation(Te,{params:m({},Re,{xPos:"100%",yPos:"100%"})}),Ue=u.animation(Te,{params:m({},Re,{direction:"X",fromScale:.4,xPos:"0",yPos:"0"})}),Ke=u.animation(Te,{params:m({},Re,{xPos:"50%",yPos:"100%"})}),$e=u.animation(Te,{params:m({},Re,{direction:"X",fromScale:.4,xPos:"100%",yPos:"100%"})}),Ye=u.animation(Te,{params:ke}),Xe=u.animation(Te,{params:m({},ke,{xPos:"0",yPos:"100%"})}),qe=u.animation(Te,{params:m({},ke,{xPos:"100%",yPos:"100%"})}),Ze=u.animation(Te,{params:m({},ke,{direction:"Y",toScale:.3})}),Je=u.animation(Te,{params:m({},ke,{direction:"Y",toScale:.3,xPos:"100%",yPos:"0"})}),Qe=u.animation(Te,{params:m({},ke,{direction:"Y",toScale:.3,xPos:"0",yPos:"100%"})}),et=u.animation(Te,{params:m({},ke,{xPos:"50%",yPos:"0"})}),tt=u.animation(Te,{params:m({},ke,{xPos:"0",yPos:"50%"})}),it=u.animation(Te,{params:m({},ke,{xPos:"100%",yPos:"0"})}),nt=u.animation(Te,{params:m({},ke,{xPos:"0",yPos:"0"})}),rt=u.animation(Te,{params:m({},ke,{xPos:"100%",yPos:"50%"})}),ot=u.animation(Te,{params:m({},ke,{xPos:"50%",yPos:"100%"})}),st=u.animation(Te,{params:m({},ke,{direction:"X",toScale:.3})}),at=u.animation(Te,{params:m({},ke,{direction:"X",toScale:.3,xPos:"0",yPos:"0"})}),lt=u.animation(Te,{params:m({},ke,{direction:"X",toScale:.3,xPos:"100%",yPos:"100%"})}),ct=[u.style({opacity:"{{startOpacity}}",transform:"{{fromPosition}}"}),u.animate("{{duration}} {{delay}} {{easing}}",u.style({opacity:"{{endOpacity}}",transform:"{{toPosition}}"}))],pt={delay:"0s",duration:"350ms",easing:a.quad,endOpacity:1,fromPosition:"translateY(-500px)",startOpacity:0,toPosition:"translateY(0)"},ut={delay:"0s",duration:"350ms",easing:i.quad,endOpacity:0,fromPosition:"translateY(0)",startOpacity:1,toPosition:"translateY(-500px)"},dt=u.animation(ct,{params:pt}),ht=u.animation(ct,{params:{delay:"0s",duration:"350ms",easing:a.quad,endOpacity:1,fromPosition:"translateX(-500px)",startOpacity:0,toPosition:"translateY(0)"}}),gt=u.animation(ct,{params:{delay:"0s",duration:"350ms",easing:a.quad,endOpacity:1,fromPosition:"translateX(500px)",startOpacity:0,toPosition:"translateY(0)"}}),ft=u.animation(ct,{params:{delay:"0s",duration:"350ms",easing:a.quad,endOpacity:1,fromPosition:"translateY(500px)",startOpacity:0,toPosition:"translateY(0)"}}),mt=u.animation(ct,{params:m({},pt,{fromPosition:"translateY(-500px) translateX(500px)",toPosition:"translateY(0) translateX(0)"})}),yt=u.animation(ct,{params:m({},pt,{fromPosition:"translateY(-500px) translateX(-500px)",toPosition:"translateY(0) translateX(0)"})}),vt=u.animation(ct,{params:m({},pt,{fromPosition:"translateY(500px) translateX(500px)",toPosition:"translateY(0) translateX(0)"})}),xt=u.animation(ct,{params:m({},pt,{fromPosition:"translateY(500px) translateX(-500px)",toPosition:"translateY(0) translateX(0)"})}),bt=u.animation(ct,{params:ut}),Ct=u.animation(ct,{params:m({},ut,{toPosition:"translateX(500px)"})}),wt=u.animation(ct,{params:{delay:"0s",duration:"350ms",easing:i.quad,endOpacity:0,fromPosition:"translateY(0)",startOpacity:1,toPosition:"translateY(500px)"}}),_t=u.animation(ct,{params:m({},ut,{toPosition:"translateX(-500px)"})}),St=u.animation(ct,{params:m({},ut,{fromPosition:"translateY(0) translateX(0)",toPosition:"translateY(-500px) translateX(500px)"})}),It=u.animation(ct,{params:m({},ut,{fromPosition:"translateY(0) translateX(0)",toPosition:"translateY(500px) translateX(500px)"})}),Dt=u.animation(ct,{params:m({},ut,{fromPosition:"translateY(0) translateX(0)",toPosition:"translateY(500px) translateX(-500px)"})}),Et=u.animation(ct,{params:m({},ut,{fromPosition:"translateY(0) translateX(0)",toPosition:"translateY(-500px) translateX(-500px)"})}),Ot=[u.style({opacity:"{{startOpacity}}",transform:"rotate{{direction}}({{startAngle}}deg)",transformOrigin:"{{xPos}} {{yPos}}"}),u.animate("{{duration}} {{delay}} {{easing}}",u.style({opacity:"{{endOpacity}}",transform:"rotate{{direction}}({{endAngle}}deg)",transformOrigin:"{{xPos}} {{yPos}}"}))],Pt={delay:"0s",direction:"X",duration:".5s",easing:a.back,endAngle:0,endOpacity:1,startAngle:-100,startOpacity:0,xPos:"top",yPos:"center"},Tt=m({},Pt,{duration:".55s",easing:i.back,endAngle:70,endOpacity:0,startAngle:0,startOpacity:1}),Rt=u.animation(Ot,{params:m({},Pt)}),kt=u.animation(Ot,{params:m({},Pt,{direction:"Y",xPos:"center",yPos:"right"})}),Lt=u.animation(Ot,{params:m({},Pt,{startAngle:100,xPos:"bottom"})}),At=u.animation(Ot,{params:m({},Pt,{direction:"Y",startAngle:100,xPos:"center",yPos:"left"})}),Ft=u.animation(Ot,{params:m({},Pt,{duration:".6s",startAngle:70})}),Mt=u.animation(Ot,{params:m({},Pt,{direction:"Y",duration:".6s",startAngle:70,xPos:"center",yPos:"right"})}),Vt=u.animation(Ot,{params:m({},Pt,{duration:".6s",startAngle:-70,xPos:"bottom"})}),Ht=u.animation(Ot,{params:m({},Pt,{direction:"Y",duration:".6s",startAngle:-70,xPos:"center",yPos:"left"})}),Bt=u.animation(Ot,{params:m({},Tt)}),jt=u.animation(Ot,{params:m({},Tt,{direction:"Y",xPos:"center",yPos:"right"})}),Nt=u.animation(Ot,{params:m({},Tt,{endAngle:-70,xPos:"bottom"})}),Gt=u.animation(Ot,{params:m({},Tt,{direction:"Y",endAngle:-70,xPos:"center",yPos:"left"})}),zt=u.animation(Ot,{params:m({},Tt,{duration:".45s",endAngle:-100})}),Wt=u.animation(Ot,{params:m({},Tt,{direction:"Y",duration:".45s",endAngle:-100,xPos:"center",yPos:"right"})}),Ut=u.animation(Ot,{params:m({},Tt,{duration:".45s",endAngle:100,xPos:"bottom"})}),Kt=u.animation(Ot,{params:m({},Tt,{direction:"Y",duration:".45s",endAngle:100,xPos:"center",yPos:"left"})}),$t=[u.style({opacity:"{{ startOpacity }}",height:"{{ startHeight }}"}),u.animate("{{duration}} {{delay}} {{easing}}",u.style({opacity:"{{ endOpacity }}",height:"{{ endHeight }}"}))],Yt={delay:"0s",duration:"350ms",easing:i.quad,startOpacity:0,endOpacity:1,startHeight:"",endHeight:""},Xt=u.animation($t,{params:m({},Yt,{easing:a.quad,startOpacity:0,endOpacity:1,startHeight:"0px",endHeight:"*"})}),qt=u.animation($t,{params:m({},Yt,{easing:a.quad,startOpacity:1,endOpacity:0,startHeight:"*",endHeight:"0px"})}),Zt=function(){function e(){this.navs={}}return e.prototype.add=function(e,t){this.navs[e]=t},e.prototype.remove=function(e){delete this.navs[e]},e.prototype.get=function(e){if(e)return this.navs[e]},e.prototype.toggle=function(e){for(var t,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];if(this.navs[e])return(t=this.navs[e]).toggle.apply(t,_(i))},e.prototype.open=function(e){for(var t,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];if(this.navs[e])return(t=this.navs[e]).open.apply(t,_(i))},e.prototype.close=function(e){for(var t,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];if(this.navs[e])return(t=this.navs[e]).close.apply(t,_(i))},e}(),Jt=function(){function e(e){this.state=e}return e.prototype.toggleNavigationDrawer=function(){this.state.toggle(this.target,!0)},e.decorators=[{type:b.Directive,args:[{selector:"[igxNavToggle]"}]}],e.ctorParameters=function(){return[{type:Zt}]},e.propDecorators={target:[{type:b.Input,args:["igxNavToggle"]}],toggleNavigationDrawer:[{type:b.HostListener,args:["click"]}]},e}(),Qt=function(){function e(e){this.state=e}return e.prototype.closeNavigationDrawer=function(){this.state.close(this.target,!0)},e.decorators=[{type:b.Directive,args:[{selector:"[igxNavClose]"}]}],e.ctorParameters=function(){return[{type:Zt}]},e.propDecorators={target:[{type:b.Input,args:["igxNavClose"]}],closeNavigationDrawer:[{type:b.HostListener,args:["click"]}]},e}(),ei=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[Qt,Jt],exports:[Qt,Jt],providers:[Zt]}]}],e}();function ti(e,t){var i=[];if(!e)return i;for(var n=e.length;n--;)i[n]=t?ni(e[n]):e[n];return i}function ii(e,t){var i,n;if(!ri(e))throw new Error("Cannot merge into "+e+". First param must be an object.");if(!ri(t))return e;try{for(var r=S(Object.keys(t)),o=r.next();!o.done;o=r.next()){var s=o.value;e[s]=ni(t[s])}}catch(a){i={error:a}}finally{try{o&&!o.done&&(n=r["return"])&&n.call(r)}finally{if(i)throw i.error}}return e}function ni(e){var t,i;if(oi(e))return new Date(e.getTime());if(Array.isArray(e))return _(e);if(e instanceof Map||e instanceof Set)return e;if(ri(e)){var n={};try{for(var r=S(Object.keys(e)),o=r.next();!o.done;o=r.next()){var s=o.value;n[s]=ni(e[s])}}catch(a){t={error:a}}finally{try{o&&!o.done&&(i=r["return"])&&i.call(r)}finally{if(t)throw t.error}}return n}return e}function ri(e){return e&&"[object Object]"===e.toString()}function oi(e){return"[object Date]"===Object.prototype.toString.call(e)}function si(e,t){var i=null;(ai()||li())&&(i=t.style.overflow,t.style.overflow="visible"),e.selectNodeContents(t);var n=e.getBoundingClientRect().width;return(ai()||li())&&(t.style.overflow=i),n}function ai(){return 0<navigator.appVersion.indexOf("Trident/")}function li(){return/Edge[\/\s](\d+\.\d+)/.test(navigator.userAgent)}function ci(e){return 0===e.button}function pi(e){var i=[];return e.forEach(function(e){if(i.push(e),e.children){var t=Array.isArray(e.children)?e.children:e.children.toArray();i=i.concat(pi(t))}}),i}var ui=new Set(["down","up","left","right","arrowdown","arrowup","arrowleft","arrowright","home","end","space","spacebar"," "]),di=new Set("right down arrowright arrowdown".split(" ")),hi=new Set("left up arrowleft arrowup".split(" ")),gi=new Set(_(Array.from(ui),["tab","enter","f2","escape","esc"])),fi={None:0,Asc:1,Desc:2};fi[fi.None]="None",fi[fi.Asc]="Asc",fi[fi.Desc]="Desc";var mi=function(){function e(){}return e.instance=function(){return this._instance||(this._instance=new this)},e.prototype.sort=function(e,t,i,n,r){var o=this,s=t,a=i===fi.Desc?-1:1;return this.arraySort(e,function(e,t){return o.compareObjects(e,t,s,a,n,r)})},e.prototype.compareValues=function(e,t){var i=null===e||e===undefined,n=null===t||t===undefined;return i?n?0:-1:n?1:t<e?1:e<t?-1:0},e.prototype.compareObjects=function(e,t,i,n,r,o){var s=o(e,i),a=o(t,i);return r&&(s=s&&s.toLowerCase?s.toLowerCase():s,a=a&&a.toLowerCase?a.toLowerCase():a),n*this.compareValues(s,a)},e.prototype.arraySort=function(e,t){return e.sort(t)},e._instance=null,e}(),yi=function(){function e(){}return e.prototype.sort=function(e,t){return this.sortDataRecursive(e,t)},e.prototype.groupedRecordsByExpression=function(e,t,i){var n,r,o=[],s=i.fieldName,a=e.length;o.push(e[t]),r=this.getFieldValue(e[t],s),t++;var l=i.groupingComparer||mi.instance().compareValues;for(n=t;n<a&&0===l(this.getFieldValue(e[n],s),r);n++)o.push(e[n]);return o},e.prototype.sortDataRecursive=function(e,t,i){var n,r,o,s,a;void 0===i&&(i=0);var l=t.length,c=e.length;if(l<=(i=i||0)||c<=1)return e;if((o=t[i]).strategy||(o.strategy=mi.instance()),e=o.strategy.sort(e,o.fieldName,o.dir,o.ignoreCase,this.getFieldValue),i===l-1)return e;for(n=0;n<c;n++){for(1<(a=(s=this.groupedRecordsByExpression(e,n,o)).length)&&(s=this.sortDataRecursive(s,t,i+1)),r=0;r<a;r++)e[n+r]=s[r];n+=a-1}return e},e.prototype.groupDataRecursive=function(e,t,i,n,r,o,s){var a,l;void 0===o&&(o=null),void 0===s&&(s=[]);for(var c=0,p=[];c<e.length;){var u=this.groupedRecordsByExpression(e,c,t[i]),d={expression:t[i],level:i,records:ti(u),value:u[0][t[i].fieldName],groupParent:n,groups:[],height:o?o.renderedRowHeight:null};if(n?n.groups.push(d):s.push(d),i<t.length-1)p=p.concat(this.groupDataRecursive(u,t,i+1,d,r,o,s));else try{for(var h=S(u),g=h.next();!g.done;g=h.next()){var f=g.value;r.push(d),p.push(f)}}catch(m){a={error:m}}finally{try{g&&!g.done&&(l=h["return"])&&l.call(h)}finally{if(a)throw a.error}}c+=u.length}return p},e.prototype.getFieldValue=function(e,t){return e[t]},e}(),vi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.getFieldValue=function(e,t){return e.data[t]},t}(yi),xi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.groupBy=function(e,t,i,n){var r=[];return{data:this.groupDataRecursive(e,t,0,null,r,i,n),metadata:r}},t}(yi),bi={None:0,IncorrectPageIndex:1,IncorrectRecordsPerPage:2};bi[bi.None]="None",bi[bi.IncorrectPageIndex]="IncorrectPageIndex",bi[bi.IncorrectRecordsPerPage]="IncorrectRecordsPerPage";var Ci=function(){function r(e,t){this.filteringOperands=[],this.operator=e,this.fieldName=t}return r.prototype.find=function(e){var t=this.findIndex(e);return-1<t?this.filteringOperands[t]:null},r.prototype.findIndex=function(e){for(var t,i=0;i<this.filteringOperands.length;i++)if((t=this.filteringOperands[i])instanceof r){if(this.isFilteringExpressionsTreeForColumn(t,e))return i}else if(t.fieldName===e)return i;return-1},r.prototype.isFilteringExpressionsTreeForColumn=function(e,t){if(e.fieldName===t)return!0;for(var i,n=0;n<e.filteringOperands.length;n++)return(i=e.filteringOperands[n])instanceof r?this.isFilteringExpressionsTreeForColumn(i,t):i.fieldName===t;return!1},r}(),wi={ADD:"add",DELETE:"delete",UPDATE:"update"},_i=function(){function e(){this.editCellState=new Map,this.editRowState=new Map,this.destroyMap=new Map}return e.prototype.get_column_by_name=function(t){return this.grid.columnList.find(function(e){return e.field===t})},e.prototype.get_summary_data=function(){var i=this.grid,n=i.filteredData;n||(i.transactions.enabled?(n=Ti.mergeTransactions(ti(i.data),i.transactions.getAggregatedChanges(!0),i.primaryKey),i.transactions.getTransactionLog().filter(function(e){return e.type===wi.DELETE}).map(function(e){return e.id}).forEach(function(e){var t=(i.primaryKey?n.map(function(e){return e[i.primaryKey]}):n).indexOf(e);-1!==t&&n.splice(t,1)})):n=i.data);return n},e.prototype.getRowData=function(e){return this.get_all_data(this.grid.transactions.enabled)[this.get_row_index_in_data(e)]},e.prototype.escape_editMode=function(){this.grid.crudService.end()},e.prototype.get_cell_inEditMode=function(){return this.grid.crudService.cell},e.prototype.get_row_index_in_data=function(t){var i=this.grid;if(!i)return-1;var e=this.get_all_data(i.transactions.enabled);return i.primaryKey?e.findIndex(function(e){return e[i.primaryKey]===t}):e.indexOf(t)},e.prototype.get_row_by_key=function(t){var i=this.grid.primaryKey;return i!==undefined&&null!==i?this.grid.dataRowList.find(function(e){return e.rowData[i]===t}):this.grid.dataRowList.find(function(e){return e.rowData===t})},e.prototype.get_row_by_index=function(t){return this.grid.rowList.find(function(e){return e.index===t})},e.prototype.get_cell_by_key=function(e,t){var i=this.get_row_by_key(e);if(i&&i.cells)return i.cells.find(function(e){return e.column.field===t})},e.prototype.get_cell_by_index=function(e,t){var i=this.get_row_by_index(e);if(i&&i.cells)return i.cells.find(function(e){return e.columnIndex===t})},e.prototype.get_cell_by_visible_index=function(e,t){var i=this.get_row_by_index(e);if(i&&i.cells)return i.cells.find(function(e){return e.visibleColumnIndex===t})},e.prototype.submit_value=function(){var e=this.grid.crudService.cell;if(e){if(this.update_cell(e,e.editValue).cancel)return;this.escape_editMode()}},e.prototype.update_cell=function(e,t){var i,n=this.get_all_data(this.grid.transactions.enabled),r=this.get_row_index_in_data(e.id.rowID);e.editValue=t;var o=e.createEditEventArgs();if(this.grid.onCellEdit.emit(o),o.cancel)return o;if(o.newValue=e.castToNumber(o.newValue),function a(e,t){return oi(e)&&oi(t)?e.getTime()===t.getTime():e===t}(o.oldValue,o.newValue))return o;var s=this.grid.transactions.getAggregatedValue(e.id.rowID,!0);return s&&(e.value=s[e.column.field],e.rowData=s),this.grid.summaryService.clearSummaryCache(o),this.updateData(this.grid,e.id.rowID,n[r],e.rowData,((i={})[e.column.field]=o.newValue,i)),this.grid.primaryKey===e.column.field&&(this.grid.selection.is_item_selected(this.grid.id,e.id.rowID)&&(this.grid.selection.deselect_item(this.grid.id,e.id.rowID),this.grid.selection.select_item(this.grid.id,o.newValue)),this.grid.hasSummarizedColumns&&this.grid.summaryService.removeSummaries(e.id.rowID)),this.grid.rowEditable&&this.grid.crudService.row&&this.grid.crudService.row.id===e.id.rowID&&this.grid.transactions.enabled||(this.grid.summaryService.clearSummaryCache(o),this.grid._pipeTrigger++),o},e.prototype.updateData=function(e,t,i,n,r){if(e.transactions.enabled){var o={id:t,type:wi.UPDATE,newValue:r};e.transactions.add(o,n)}else ii(i,r)},e.prototype._update_row=function(e,t){var i=this.grid,n=i.crudService.row;if(e.newData=t||i.transactions.getAggregatedValue(e.id,!0),n&&e.id===n.id)e.data=m({},e.data,n.transactionState);else if(this.grid.transactions.enabled){var r=i.transactions.getState(e.id)?i.transactions.getState(e.id).value:null;e.data=r?Object.assign(e.data,r):e.data}},e.prototype.update_row=function(e,t){var i=this.grid,n=i.selection.is_item_selected(i.id,e.id),r=i.crudService.row,o=this.get_all_data(i.transactions.enabled),s=this.get_row_index_in_data(e.id),a=i.hasSummarizedColumns;this._update_row(e,t);var l=e.createEditEventArgs();if(-1===s)return l;if(i.onRowEdit.emit(l),l.cancel)return l;if(r&&i.transactions.endPending(!1),!l.newValue)return l;a&&i.summaryService.removeSummaries(l.rowID),this.updateData(i,e.id,o[s],l.oldValue,l.newValue);var c=i.primaryKey?l.newValue[i.primaryKey]:l.newValue;return n&&(i.selection.deselect_item(i.id,e.id),i.selection.select_item(i.id,c)),a&&i.summaryService.removeSummaries(c),i._pipeTrigger++,l},e.prototype.update_row_in_array=function(e,t,i){this.grid.data[i]=e},e.prototype.sort=function(e){e.dir===fi.None&&this.remove_grouping_expression(e.fieldName);var t=ti(this.grid.sortingExpressions);this.prepare_sorting_expression([t],e),this.grid.sortingExpressions=t},e.prototype.sort_multiple=function(e){var t,i,n=ti(this.grid.sortingExpressions);try{for(var r=S(e),o=r.next();!o.done;o=r.next()){var s=o.value;s.dir===fi.None&&this.remove_grouping_expression(s.fieldName),this.prepare_sorting_expression([n],s)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(i=r["return"])&&i.call(r)}finally{if(t)throw t.error}}this.grid.sortingExpressions=n},e.prototype.filter=function(e,t,i,n){var r=this.grid,o=r.filteringExpressionsTree;r.endEdit(!1),r.paging&&(r.page=0);var s=o.findIndex(e);-1<s&&o.filteringOperands.splice(s,1),this.prepare_filtering_expression(o,e,t,i,n,s),r.filteringExpressionsTree=o},e.prototype.filter_global=function(e,t,i){var n,r;if(t){var o=this.grid,s=o.filteringExpressionsTree;o.endEdit(!1),o.paging&&(o.page=0),s.filteringOperands=[];try{for(var a=S(o.columns),l=a.next();!l.done;l=a.next()){var c=l.value;this.prepare_filtering_expression(s,c.field,e,t,i||c.filteringIgnoreCase)}}catch(p){n={error:p}}finally{try{l&&!l.done&&(r=a["return"])&&r.call(a)}finally{if(n)throw n.error}}o.filteringExpressionsTree=s}},e.prototype.clear_filter=function(e){if(e&&!this.get_column_by_name(e))return;var t=this.grid;t.endEdit(!1);var i=t.filteringExpressionsTree,n=i.findIndex(e);-1<n?i.filteringOperands.splice(n,1):e||(i.filteringOperands=[]),t.filteringExpressionsTree=i},e.prototype.clear_sort=function(t){var e=this.grid.sortingExpressions,i=e.findIndex(function(e){return e.fieldName===t});-1<i&&(e.splice(i,1),this.grid.sortingExpressions=e)},e.prototype.prepare_filtering_expression=function(e,t,i,n,r,o){var s;void 0===o&&(o=-1);var a=e.findIndex(t),l=n instanceof Ci?n:null,c=n instanceof Ci?null:n,p={fieldName:t,searchVal:i,condition:c,ignoreCase:r};-1===a&&(l?-1<o?e.filteringOperands.splice(o,0,l):e.filteringOperands.push(l):c&&((s=new Ci(e.operator,t)).filteringOperands.push(p),e.filteringOperands.push(s)))},e.prototype.prepare_sorting_expression=function(e,i){if(i.dir!==fi.None){for(var t=e[0],n=1;n<e.length;n++)t.length<e[n].length&&(t=e[n]);var r=t.find(function(e){return e.fieldName===i.fieldName});e.forEach(function(e){var t=e.find(function(e){return e.fieldName===i.fieldName});t||r?!t&&r?(e.push(r),Object.assign(r,i)):Object.assign(t,i):e.push(i)})}else e.forEach(function(e){e.splice(e.findIndex(function(e){return e.fieldName===i.fieldName}),1)})},e.prototype.remove_grouping_expression=function(e){},e.prototype.should_apply_number_style=function(e){return e.dataType===Pi.Number},e.prototype.get_data=function(){var e=this.grid;return e.data?e.data:[]},e.prototype.get_all_data=function(e){void 0===e&&(e=!1);var t=this.grid,i=t.data?t.data:[];return i=e?t.dataWithAddedInTransactionRows:i},e.prototype.get_filtered_data=function(){return this.grid.filteredData},e.prototype.getSortStrategyPerColumn=function(e){return this.get_column_by_name(e)?this.get_column_by_name(e).sortStrategy:undefined},e.prototype.addRowToData=function(e){var t=this.grid;if(t.transactions.enabled){var i={id:t.primaryKey?e[t.primaryKey]:e,type:wi.ADD,newValue:e};t.transactions.add(i)}else t.data.push(e)},e.prototype.deleteRowFromData=function(e,t){var i=this.grid;if(-1!==t)if(i.transactions.enabled){var n={id:e,type:wi.DELETE,newValue:null};i.transactions.add(n,i.data[t])}else i.data.splice(t,1);else{var r=i.transactions.getState(e);i.transactions.add({id:e,type:wi.DELETE,newValue:null},r&&r.recordRef)}},e.prototype.deleteRowById=function(e){var t,i=this.grid,n=this.get_all_data();t=i.primaryKey?n.map(function(e){return e[i.primaryKey]}).indexOf(e):n.indexOf(e);var r=i.transactions.getState(e),o=r&&r.type!==wi.DELETE;if(-1!==t||o){i.endEdit(!0),i.onRowDeleted.emit({data:n[t]}),i.rowSelectable&&i.selection.is_item_selected(i.id,e)?i.deselectRows([e]):i.checkHeaderCheckboxStatus(),this.deleteRowFromData(e,t),i._pipeTrigger++,i.cdr.markForCheck();var s=i.transactions.enabled?i.dataWithAddedInTransactionRows:n;i.refreshSearch(),s.length%i.perPage==0&&s.length/i.perPage-1<i.page&&0!==i.page&&i.page--}},e.prototype.get_row_id=function(e){var t=this.grid;return t.primaryKey?e[t.primaryKey]:e},e.prototype.row_deleted_transaction=function(e){var t=this.grid;if(!t)return!1;if(!t.transactions.enabled)return!1;var i=t.transactions.getState(e);return!!i&&i.type===wi.DELETE},e.prototype.atInexistingPage=function(){var e=this.grid;return e.data.length%e.perPage==0&&e.isLastPage&&0!==e.page},e.decorators=[{type:b.Injectable}],e}(),Si={And:0,Or:1};Si[Si.And]="And",Si[Si.Or]="Or";var Ii=function(){function e(){}return e.prototype.findMatchByExpression=function(e,t){var i=t.condition,n=this.getFieldValue(e,t.fieldName);return i.logic(n,t.searchVal,t.ignoreCase)},e.prototype.matchRecord=function(e,t){if(t){if(t instanceof Ci){var i=t,n=i.operator,r=void 0,o=void 0;if(i.filteringOperands&&i.filteringOperands.length){for(var s=0;s<i.filteringOperands.length;s++){if(o=i.filteringOperands[s],!(r=this.matchRecord(e,o))&&n===Si.And)return!1;if(r&&n===Si.Or)return!0}return r}return!0}var a=t;return this.findMatchByExpression(e,a)}return!0},e}(),Di=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.filter=function(e,t){var i,n,r=e.length,o=[];if(!t||!t.filteringOperands||0===t.filteringOperands.length||!r)return e;for(i=0;i<r;i++)n=e[i],this.matchRecord(n,t)&&o.push(n);return o},t.prototype.getFieldValue=function(e,t){return e[t]},t}(Ii),Ei=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.filter=function(e,t){return this.filterImpl(e,t,undefined)},t.prototype.filterImpl=function(e,t,i){var n,r,o=e.length,s=[];if(!t||!t.filteringOperands||0===t.filteringOperands.length||!o)return e;for(n=0;n<o;n++){if((r=Ti.cloneTreeGridRecord(e[n])).parent=i,r.children){var a=this.filterImpl(r.children,t,r);r.children=0<a.length?a:null}this.matchRecord(r,t)?s.push(r):r.children&&0<r.children.length&&(r.isFilteredOutParent=!0,s.push(r))}return s},t.prototype.getFieldValue=function(e,t){return e.data[t]},t}(Ii),Oi=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,i,n){var r=this.gridAPI.grid,o={expressionsTree:t,strategy:new Ei};if(this.resetFilteredOutProperty(r.records),!o.expressionsTree||!o.expressionsTree.filteringOperands||0===o.expressionsTree.filteringOperands.length)return r.filteredData=null,e;var s=this.filter(e,o),a=[];return this.expandAllRecursive(r,s,r.expansionStates,a),r.filteredData=a,s},e.prototype.resetFilteredOutProperty=function(e){for(var t=Array.from(e.keys()),i=0;i<t.length;i++)e.get(t[i]).isFilteredOutParent=undefined},e.prototype.expandAllRecursive=function(e,t,i,n){for(var r=0;r<t.length;r++){var o=t[r];n.push(o.data),this.updateNonProcessedRecord(e,o),o.children&&0<o.children.length&&(i.set(o.rowID,!0),this.expandAllRecursive(e,o.children,i,n))}},e.prototype.updateNonProcessedRecord=function(e,t){e.records.get(t.rowID).isFilteredOutParent=t.isFilteredOutParent},e.prototype.filter=function(e,t){return t.strategy.filter(e,t.expressionsTree)},e.decorators=[{type:b.Pipe,args:[{name:"treeGridFiltering",pure:!0}]}],e.ctorParameters=function(){return[{type:_i}]},e}(),Pi={String:"string",Number:"number",Boolean:"boolean",Date:"date"},Ti=function(){function o(){}return o.sort=function(e,t,i){return void 0===i&&(i=new yi),i.sort(e,t)},o.treeGridSort=function(e,i,n){var r=[];return e.forEach(function(e){var t=o.cloneTreeGridRecord(e);t.parent=n,t.children&&(t.children=o.treeGridSort(t.children,i,t)),r.push(t)}),r=o.sort(r,i,new vi)},o.cloneTreeGridRecord=function(e){return{rowID:e.rowID,data:e.data,children:e.children,isFilteredOutParent:e.isFilteredOutParent,level:e.level,expanded:e.expanded}},o.group=function(e,t,i,n){void 0===i&&(i=null),void 0===n&&(n=[]);var r=new xi;return n.splice(0,n.length),r.groupBy(e,t.expressions,i,n)},o.restoreGroups=function(e,t){return 0===t.expressions.length?e.data:this.restoreGroupsIterative(e,t)},o.restoreGroupsIterative=function(t,i){var n,r,e,o,s=this,a=t.metadata,l=[],c=[],p=0;for(p=0;p<a.length;){for(n=[a[p]],e=a[p].groupParent;e&&c[0]!==e;)n.push(e),c[0]&&c[0].level===e.level&&c.shift(),e=e.groupParent;var u=function(){l.push(n[r]),c.unshift(n[r]);var t=d.getHierarchy(n[r]),e=i.expansion.find(function(e){return s.isHierarchyMatch(e.hierarchy||[{fieldName:n[r].expression.fieldName,value:n[r].value}],t)});if(!(o=e?e.expanded:i.defaultExpanded))return"break"},d=this;for(r=n.length-1;0<=r;r--){if("break"===u())break}c.shift(),r=Math.max(r,0);var h=n[r].records.findIndex(function(e){return e===t.data[p]}),g=Math.min(a.length-p+h,n[r].records.length);o&&l.push.apply(l,_(n[r].records.slice(h,g))),p+=g-h}return l},o.page=function(e,t){if(!t)return e;var i=e.length,n=t.index,r=[],o=t.recordsPerPage;return t.metadata={countPages:0,countRecords:e.length,error:bi.None},n<0||isNaN(n)?(t.metadata.error=bi.IncorrectPageIndex,r):o<=0||isNaN(o)?(t.metadata.error=bi.IncorrectRecordsPerPage,r):(t.metadata.countPages=Math.ceil(i/o),i?n>=t.metadata.countPages?(t.metadata.error=bi.IncorrectPageIndex,r):e.slice(n*o,(n+1)*o):e)},o.filter=function(e,t){return t.strategy||(t.strategy=new Di),t.strategy.filter(e,t.expressionsTree)},o.treeGridFilter=function(e,t){return t.strategy||(t.strategy=new Ei),t.strategy.filter(e,t.expressionsTree)},o.getHierarchy=function(e){var t=[];if(e!==undefined&&e.expression)for(t.push({fieldName:e.expression.fieldName,value:e.value});e.groupParent;)e=e.groupParent,t.unshift({fieldName:e.expression.fieldName,value:e.value});return t},o.isHierarchyMatch=function(e,i){return e.length===i.length&&e.every(function(e,t){return e.fieldName===i[t].fieldName&&e.value===i[t].value})},o.mergeTransactions=function(r,o,s,e){return void 0===e&&(e=!1),r.forEach(function(e,t){var i=s?e[s]:e,n=o.find(function(e){return e.id===i});n&&n.type===wi.UPDATE&&(r[t]=n.newValue)}),e&&o.filter(function(e){return e.type===wi.DELETE}).forEach(function(t){var e=s?r.findIndex(function(e){return e[s]===t.id}):r.findIndex(function(e){return e===t.id});0<=e&&e<r.length&&r.splice(e,1)}),r.push.apply(r,_(o.filter(function(e){return e.type===wi.ADD}).map(function(e){return e.newValue}))),r},o.mergeHierarchicalTransactions=function(o,e,s,a,l){var t,i;void 0===l&&(l=!1);var n=function(t){if(t.path){var e=c.findParentFromPath(o,a,s,t.path),i=e?e[s]:o;switch(t.type){case wi.ADD:e&&!e[s]&&(e[s]=i=[]),i.push(t.newValue);break;case wi.UPDATE:var n=i.findIndex(function(e){return e[a]===t.id});-1!==n&&(i[n]=ii(ni(i[n]),t.newValue));break;case wi.DELETE:if(l){var r=i.findIndex(function(e){return e[a]===t.id});-1!==r&&i.splice(r,1)}}}else o.push(t.newValue)},c=this;try{for(var r=S(e),p=r.next();!p.done;p=r.next()){n(p.value)}}catch(u){t={error:u}}finally{try{p&&!p.done&&(i=r["return"])&&i.call(r)}finally{if(t)throw t.error}}return o},o.findParentFromPath=function(e,i,n,t){var r,o,s,a=e,l=function(t){if(!(s=a&&a.find(function(e){return e[i]===t})))return"break";a=s[n]};try{for(var c=S(t),p=c.next();!p.done;p=c.next()){if("break"===l(p.value))break}}catch(u){r={error:u}}finally{try{p&&!p.done&&(o=c["return"])&&o.call(c)}finally{if(r)throw r.error}}return s},o}(),Ri=function(){function c(){}return c.getKeysFromData=function(e){var t=e.length;if(0===t)return[];var i=e[0],n=e[Math.floor(t/2)],r=e[t-1],o=Object.keys(i),s=Object.keys(n),a=Object.keys(r),l=new Set(o.concat(s).concat(a));return c.isSpecialData(e)?["Column 1"]:Array.from(l)},c.saveBlobToFile=function(e,t){var i=document.createElement("a");if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(e,t);else{var n=window.URL.createObjectURL(e);i.download=t,i.href=n,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(n)}},c.stringToArrayBuffer=function(e){for(var t=new ArrayBuffer(e.length),i=new Uint8Array(t),n=0;n!==e.length;++n)i[n]=255&e.charCodeAt(n);return t},c.isSpecialData=function(e){var t=e[0];return"string"==typeof t||"number"==typeof t||t instanceof Date},c.hasValue=function(e){return e!==undefined&&null!==e},c.isNullOrWhitespaces=function(e){return e===undefined||null===e||!e.trim()},c}(),ki=function(){function e(){this.flatRecords=[],this._isTreeGrid=!1,this._indexOfLastPinnedColumn=-1,this._sort=null,this.onRowExport=new b.EventEmitter,this.onColumnExport=new b.EventEmitter}return e.prototype["export"]=function(e,o){var s=this;if(o===undefined||null===o)throw Error("No options provided!");var t=e.columnList.toArray();this._columnList=new Array(t.length);var a=[],l=-1;t.forEach(function(e){var t=""!==e.header?e.header:e.field,i=!e.hidden||o.ignoreColumnsVisibility,n=o.ignoreColumnsOrder?e.index:e.visibleIndex,r={header:t,field:e.field,skip:!i,formatter:e.formatter,skipFormatter:!1};-1!==n?(s._columnList[n]=r,l=Math.max(l,n)):a.push(r),e.pinned&&i&&(s._indexOfLastPinnedColumn=n)}),a.forEach(function(e){s._columnList[++l]=e});var i=this.prepareData(e,o);this.exportData(i,o)},e.prototype.exportData=function(e,t){var n=this;if(t===undefined||null===t)throw Error("No options provided!");if(!this._columnList||0===this._columnList.length){var i=Ri.getKeysFromData(e);this._columnList=i.map(function(e){return{header:e,field:e,skip:!1}})}var r=0,o=1;this._columnList.forEach(function(e,t){if(!e.skip){var i={header:Ri.isNullOrWhitespaces(e.header)?"Column"+o++:e.header,field:e.field,columnIndex:t,cancel:!1,skipFormatter:!1};n.onColumnExport.emit(i),e.header=i.header,e.skip=i.cancel,e.skipFormatter=i.skipFormatter,e.skip&&t<=n._indexOfLastPinnedColumn&&r++,n._sort&&n._sort.fieldName===e.field&&(e.skip?n._sort=null:n._sort.fieldName=e.header)}}),this._indexOfLastPinnedColumn-=r;var s=new Array,a=Ri.isSpecialData(e);e.forEach(function(e,t){n.exportRow(s,e,t,a)}),this.exportDataImplementation(s,t),this.resetDefaults()},e.prototype.exportRow=function(e,n,t,i){var r=this,o={rowData:i?this._isTreeGrid?n.data:n:this._columnList.reduce(function(e,t){if(!t.skip){var i=r._isTreeGrid?n.data[t.field]:n[t.field];e[t.header]=t.formatter&&!t.skipFormatter?t.formatter(i):i}return e},{}),rowIndex:t,cancel:!1};this.onRowExport.emit(o),o.cancel||e.push({rowData:o.rowData,originalRowData:n})},e.prototype.prepareData=function(e,t){this.flatRecords=[];var i=e.rootRecords;this._isTreeGrid=i!==undefined,this._isTreeGrid&&this.prepareHierarchicalData(i);var n=this._isTreeGrid?this.flatRecords:e.data;if(e.filteringExpressionsTree&&0<e.filteringExpressionsTree.filteringOperands.length&&!t.ignoreFiltering){var r={expressionsTree:e.filteringExpressionsTree,logic:e.filteringLogic};n=this._isTreeGrid?(this.flatRecords=[],i=Ti.treeGridFilter(i,r),this.prepareHierarchicalData(i),this.flatRecords):Ti.filter(n,r)}return e.sortingExpressions&&0<e.sortingExpressions.length&&!t.ignoreSorting&&(this._sort=ni(e.sortingExpressions[0]),n=this._isTreeGrid?(this.flatRecords=[],i=Ti.treeGridSort(i,e.sortingExpressions),this.prepareHierarchicalData(i),this.flatRecords):Ti.sort(n,e.sortingExpressions)),n},e.prototype.prepareHierarchicalData=function(e){if(e)for(var t=0;t<e.length;t++){var i=e[t];this.flatRecords.push(i),this.prepareHierarchicalData(i.children)}},e.prototype.resetDefaults=function(){this._columnList=[],this._indexOfLastPinnedColumn=-1,this._sort=null,this.flatRecords=[]},e.propDecorators={onRowExport:[{type:b.Output}],onColumnExport:[{type:b.Output}]},e}(),Li=function(){function e(e,t){this._data=e,this._headerRecord="",this._dataRecords="",this._eor="\r\n",this._escapeCharacters=["\r","\n","\r\n"],this._delimiterLength=1,this._isSpecialData=!1,this.setDelimiter(t)}return e.prototype.prepareData=function(){if(!this._data||0===this._data.length)return"";var e=Ri.getKeysFromData(this._data);return 0===e.length?"":(this._isSpecialData=Ri.isSpecialData(this._data),this._escapeCharacters.push(this._delimiter),this._headerRecord=this.processHeaderRecord(e,this._escapeCharacters),this._dataRecords=this.processDataRecords(this._data,e,this._escapeCharacters),this._headerRecord+this._dataRecords)},e.prototype.processField=function(e,t){var i=Ri.hasValue(e)?String(e):"";return t.some(function(e){return i.includes(e)})&&(i='"'+i+'"'),i+this._delimiter},e.prototype.processHeaderRecord=function(e,t){var i,n,r="";try{for(var o=S(e),s=o.next();!s.done;s=o.next()){var a=s.value;r+=this.processField(a,this._escapeCharacters)}}catch(l){i={error:l}}finally{try{s&&!s.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return r.slice(0,-this._delimiterLength)+this._eor},e.prototype.processRecord=function(e,t,i){var n,r,o="";try{for(var s=S(t),a=s.next();!a.done;a=s.next()){var l=a.value,c=e[l]!==undefined?e[l]:this._isSpecialData?e:"";o+=this.processField(c,this._escapeCharacters)}}catch(p){n={error:p}}finally{try{a&&!a.done&&(r=s["return"])&&r.call(s)}finally{if(n)throw n.error}}return o.slice(0,-this._delimiterLength)+this._eor},e.prototype.processDataRecords=function(e,t,i){var n,r,o="";try{for(var s=S(e),a=s.next();!a.done;a=s.next()){var l=a.value;o+=this.processRecord(l,t,i)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s["return"])&&r.call(s)}finally{if(n)throw n.error}}return o},e.prototype.setDelimiter=function(e){this._delimiter=e,this._delimiterLength=e.length},e}(),Ai=function(){function e(e,t){this._fileExtension=t,this.ignoreColumnsVisibility=!1,this.ignoreFiltering=!1,this.ignoreColumnsOrder=!1,this.ignoreSorting=!1,this.setFileName(e)}return e.prototype.setFileName=function(e){this._fileName=e+(!1===e.endsWith(this._fileExtension)?this._fileExtension:"")},Object.defineProperty(e.prototype,"fileName",{get:function(){return this._fileName},set:function(e){this.setFileName(e)},enumerable:!0,configurable:!0}),e}(),Fi=function(n){function r(e,t){var i=n.call(this,e,r.getExtensionFromFileType(t))||this;return i.setFileType(t),i.setDelimiter(),i}return f(r,n),r.getExtensionFromFileType=function(e){var t="";switch(e){case Mi.CSV:t=".csv";break;case Mi.TSV:t=".tsv";break;case Mi.TAB:t=".tab";break;default:throw Error("Unsupported CSV file type!")}return t},Object.defineProperty(r.prototype,"valueDelimiter",{get:function(){return this._valueDelimiter},set:function(e){this.setDelimiter(e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fileType",{get:function(){return this._fileType},set:function(e){this.setFileType(e)},enumerable:!0,configurable:!0}),r.prototype.setFileType=function(e){if(e!==undefined&&null!==e&&e!==this._fileType){this._fileType=e;var t=r.getExtensionFromFileType(e);if(!this.fileName.endsWith(t)){var i="."+this.fileName.split(".").pop(),n=this.fileName.replace(i,t);this._fileExtension=t,this.fileName=n}}},r.prototype.setDelimiter=function(e){if(e!==undefined&&""!==e&&null!==e)this._valueDelimiter=e;else switch(this.fileType){case Mi.CSV:this._valueDelimiter=",";break;case Mi.TSV:case Mi.TAB:this._valueDelimiter="\t"}},r}(Ai),Mi={CSV:0,TSV:1,TAB:2};Mi[Mi.CSV]="CSV",Mi[Mi.TSV]="TSV",Mi[Mi.TAB]="TAB";var Vi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onExportEnded=new b.EventEmitter,e}return f(e,t),e.prototype.exportDataImplementation=function(e,t){e=e.map(function(e){return e.rowData});var i=new Li(e,t.valueDelimiter);this._stringData=i.prepareData(),this.saveFile(t),this.onExportEnded.emit({csvData:this._stringData})},e.prototype.saveFile=function(e){switch(e.fileType){case Mi.CSV:this.exportFile(this._stringData,e.fileName,"text/csv;charset=utf-8;");break;case Mi.TSV:case Mi.TAB:this.exportFile(this._stringData,e.fileName,"text/tab-separated-values;charset=utf-8;")}},e.prototype.exportFile=function(e,t,i){var n=new Blob(["\ufeff",e],{type:i});Ri.saveBlobToFile(n,t)},e.decorators=[{type:b.Injectable}],e.propDecorators={onExportEnded:[{type:b.Output}]},e}(ki),Hi={RootExcelFolder:0,RootRelsExcelFolder:1,DocPropsExcelFolder:2,XLExcelFolder:3,XLRelsExcelFolder:4,ThemeExcelFolder:5,WorksheetsExcelFolder:6,WorksheetsRelsExcelFolder:7,TablesExcelFolder:8};Hi[Hi.RootExcelFolder]="RootExcelFolder",Hi[Hi.RootRelsExcelFolder]="RootRelsExcelFolder",Hi[Hi.DocPropsExcelFolder]="DocPropsExcelFolder",Hi[Hi.XLExcelFolder]="XLExcelFolder",Hi[Hi.XLRelsExcelFolder]="XLRelsExcelFolder",Hi[Hi.ThemeExcelFolder]="ThemeExcelFolder",Hi[Hi.WorksheetsExcelFolder]="WorksheetsExcelFolder",Hi[Hi.WorksheetsRelsExcelFolder]="WorksheetsRelsExcelFolder",Hi[Hi.TablesExcelFolder]="TablesExcelFolder";var Bi={RootRelsFile:0,AppFile:1,CoreFile:2,WorkbookRelsFile:3,ThemeFile:4,WorksheetFile:5,StyleFile:6,WorkbookFile:7,ContentTypesFile:8,SharedStringsFile:9,WorksheetRelsFile:10,TablesFile:11};Bi[Bi.RootRelsFile]="RootRelsFile",Bi[Bi.AppFile]="AppFile",Bi[Bi.CoreFile]="CoreFile",Bi[Bi.WorkbookRelsFile]="WorkbookRelsFile",Bi[Bi.ThemeFile]="ThemeFile",Bi[Bi.WorksheetFile]="WorksheetFile",Bi[Bi.StyleFile]="StyleFile",Bi[Bi.WorkbookFile]="WorkbookFile",Bi[Bi.ContentTypesFile]="ContentTypesFile",Bi[Bi.SharedStringsFile]="SharedStringsFile",Bi[Bi.WorksheetRelsFile]="WorksheetRelsFile",Bi[Bi.TablesFile]="TablesFile";var ji=function(){function a(){}return a.getRels=function(){return a.XML_STRING+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>'},a.getApp=function(){return a.XML_STRING+'<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"><Application>Microsoft Excel</Application><DocSecurity>0</DocSecurity><ScaleCrop>false</ScaleCrop><HeadingPairs><vt:vector size="2" baseType="variant"><vt:variant><vt:lpstr>Worksheets</vt:lpstr></vt:variant><vt:variant><vt:i4>1</vt:i4></vt:variant></vt:vector></HeadingPairs><TitlesOfParts><vt:vector size="1" baseType="lpstr"><vt:lpstr>Sheet1</vt:lpstr></vt:vector></TitlesOfParts><Company></Company><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc><HyperlinksChanged>false</HyperlinksChanged><AppVersion>16.0300</AppVersion></Properties>'},a.getCore=function(){return a.XML_STRING+'<cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dc:creator></dc:creator><cp:lastModifiedBy></cp:lastModifiedBy><dcterms:created xsi:type="dcterms:W3CDTF">2015-06-05T18:17:20Z</dcterms:created><dcterms:modified xsi:type="dcterms:W3CDTF">2015-06-05T18:17:26Z</dcterms:modified></cp:coreProperties>'},a.getTheme=function(){return a.XML_STRING+'<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"><a:themeElements><a:clrScheme name="Office"><a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1><a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1><a:dk2><a:srgbClr val="44546A"/></a:dk2><a:lt2><a:srgbClr val="E7E6E6"/></a:lt2><a:accent1><a:srgbClr val="5B9BD5"/></a:accent1><a:accent2><a:srgbClr val="ED7D31"/></a:accent2><a:accent3><a:srgbClr val="A5A5A5"/></a:accent3><a:accent4><a:srgbClr val="FFC000"/></a:accent4><a:accent5><a:srgbClr val="4472C4"/></a:accent5><a:accent6><a:srgbClr val="70AD47"/></a:accent6><a:hlink><a:srgbClr val="0563C1"/></a:hlink><a:folHlink><a:srgbClr val="954F72"/></a:folHlink></a:clrScheme><a:fontScheme name="Office"><a:majorFont><a:latin typeface="Calibri Light" panose="020F0302020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface=" Light"/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface=" Light"/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Times New Roman"/><a:font script="Hebr" typeface="Times New Roman"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="MoolBoran"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Times New Roman"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:majorFont><a:minorFont><a:latin typeface="Calibri" panose="020F0502020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface=""/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface=""/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Arial"/><a:font script="Hebr" typeface="Arial"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="DaunPenh"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Arial"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:minorFont></a:fontScheme><a:fmtScheme name="Office"><a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:lumMod val="110000"/><a:satMod val="105000"/><a:tint val="67000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="103000"/><a:tint val="73000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="109000"/><a:tint val="81000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:satMod val="103000"/><a:lumMod val="102000"/><a:tint val="94000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:satMod val="110000"/><a:lumMod val="100000"/><a:shade val="100000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="99000"/><a:satMod val="120000"/><a:shade val="78000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w="6350" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="12700" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="19050" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="57150" dist="19050" dir="5400000" algn="ctr" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="63000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:solidFill><a:schemeClr val="phClr"><a:tint val="95000"/><a:satMod val="170000"/></a:schemeClr></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="93000"/><a:satMod val="150000"/><a:shade val="98000"/><a:lumMod val="102000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:tint val="98000"/><a:satMod val="130000"/><a:shade val="90000"/><a:lumMod val="103000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="63000"/><a:satMod val="120000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults/><a:extraClrSchemeLst/><a:extLst><a:ext uri="{05A4C25C-085E-4340-85A3-A5531E510DB2}"><thm15:themeFamily xmlns:thm15="http://schemas.microsoft.com/office/thememl/2012/main" name="Office Theme" id="{62F939B6-93AF-4DB8-9C6B-D6C7DFDC589F}" vid="{4A3C46E8-61CC-4603-A589-7422A47A8E4A}"/></a:ext></a:extLst></a:theme>'},a.getStyles=function(e){return a.XML_STRING+'<styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac x16r2" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns:x16r2="http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"><fonts count="1" x14ac:knownFonts="1"><font><sz val="11"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts><fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills><borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs><cellXfs count="'+(e?2:1)+'"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0"/><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/></cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles><dxfs count="0"/><tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleLight16"/><extLst><ext uri="{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"><x14:slicerStyles defaultSlicerStyle="SlicerStyleLight1"/></ext><ext uri="{9260A510-F301-46a8-8635-F512D64BE5F5}" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><x15:timelineStyles defaultTimelineStyle="TimeSlicerStyleLight1"/></ext></extLst></styleSheet>'},a.getWorkbook=function(){return a.XML_STRING+'<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x15" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><fileVersion appName="xl" lastEdited="6" lowestEdited="6" rupBuild="14420"/><workbookPr filterPrivacy="1" defaultThemeVersion="164011"/><bookViews><workbookView xWindow="0" yWindow="0" windowWidth="22260" windowHeight="12645"/></bookViews><sheets><sheet name="Sheet1" sheetId="1" r:id="rId1"/></sheets><calcPr calcId="162913"/><extLst><ext uri="{140A7094-0E35-4892-8432-C4D2E57EDEB5}" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><x15:workbookPr chartTrackingRefBase="1"/></ext></extLst></workbook>'},a.getWorksheetRels=function(){return a.XML_STRING+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/table" Target="../tables/table1.xml"/></Relationships>'},a.getWorkbookRels=function(e){var t=a.XML_STRING+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="theme/theme1.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet1.xml"/>';return e&&(t+=a.SHARED_STRING_RELATIONSHIP),t+="</Relationships>"},a.getSheetXML=function(e,t,i,n,r,o,s){return void 0===o&&(o=!1),void 0===s&&(s=0),a.XML_STRING+'\n<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">\n'+(o?'<sheetPr><outlinePr summaryBelow="0"/></sheetPr>':"")+'\n<dimension ref="'+e+'"/>\n<sheetViews><sheetView tabSelected="1" workbookViewId="0">'+t+'</sheetView></sheetViews>\n<sheetFormatPr defaultRowHeight="15" '+(0<s?'outlineLevelRow="'+s+'"':"")+' x14ac:dyDescent="0.25"/>\n'+i+"\n"+n+'\n<pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3"/>\n'+(r?'<tableParts count="1"><tablePart r:id="rId1"/></tableParts>':"")+"</worksheet>"},a.getSharedStringXML=function(e,t,i){return a.XML_STRING+'<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="'+e+'" uniqueCount="'+t+'">'+i+"</sst>"},a.getContentTypesXML=function(e,t){var i=a.XML_STRING+'<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">\n            <Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/>\n            <Default Extension="xml" ContentType="application/xml"/>\n            <Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"/>\n            <Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"/>\n            <Override PartName="/xl/theme/theme1.xml" ContentType="application/vnd.openxmlformats-officedocument.theme+xml"/>\n            <Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/>\n            <Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml"/>\n            <Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml"/>';return i+=e?'\t<Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/>':"",i+=t?'<Override PartName="/xl/tables/table1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"/>':"",i+="</Types>"},a.getTablesXML=function(e,t,i){return a.XML_STRING+'<table xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" id="1" name="Table1" displayName="Table1" ref="'+e+'" totalsRowShown="0">\n    <autoFilter ref="'+e+'"/>'+i+t+'<tableStyleInfo name="TableStyleMedium2" showFirstColumn="0" showLastColumn="0" showRowStripes="1" showColumnStripes="0"/>\n</table>'},a.getExcelColumn=function(e){for(var t="";0<=e;){var i=e%26;t=String.fromCharCode(65+i)+t,e=Math.floor(e/26)-1}return t},a.XML_STRING='<?xml version="1.0" encoding="UTF-8"?>\r\n',a.SHARED_STRING_RELATIONSHIP='<Relationship Id="rId4" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml" />',a}(),Ni=function(){function e(){}return e.prototype.writeElement=function(e,t){e.file(".rels",ji.getRels())},e}(),Gi=function(){function e(){}return e.prototype.writeElement=function(e,t){e.file("app.xml",ji.getApp())},e}(),zi=function(){function e(){}return e.prototype.writeElement=function(e,t){e.file("core.xml",ji.getCore())},e}(),Wi=function(){function e(){}return e.prototype.writeElement=function(e,t){var i=!1===t.isEmpty;e.file("workbook.xml.rels",ji.getWorkbookRels(i))},e}(),Ui=function(){function e(){}return e.prototype.writeElement=function(e,t){e.file("theme1.xml",ji.getTheme())},e}(),Ki=function(){function S(){}return S.prototype.writeElement=function(e,t){var i,n=[],r=[],o=t.dataDictionary,s="",a=0;if(t.isEmpty)n.push("<sheetData/>"),i="A1";else{n.push("<sheetData>");var l=t.options.rowHeight,c=l?' ht="'+l+'" customHeight="1"':"";n.push('<row r="1"'+c+">");for(var p=0;p<t.columnCount;p++){var u=ji.getExcelColumn(p)+1,d=o.saveValue(t.keys[p],p,!0);n.push('<c r="'+u+'" t="s"><v>'+d+"</v></c>")}n.push("</row>");for(p=1;p<t.rowCount;p++){if(t.isTreeGridData){var h=t.data[p-1].originalRowData,g=h.expanded?!0===h.expanded?"":' collapsed="1"':"",f=h.parent&&this.hasCollapsedParent(h)?' hidden="1"':"",m=h.level?h.level:0,y=0<m?' outlineLevel="'+m+'"':"";a=a<m?m:a,n.push('<row r="'+(p+1)+'"'+c+y+g+f+">")}else n.push('<row r="'+(p+1)+'"'+c+">");for(var v=0;v<t.columnCount;v++){var x=S.getCellData(t,p,v);n.push(x)}n.push("</row>")}n.push("</sheetData>"),i="A1:"+ji.getExcelColumn(t.columnCount-1)+t.rowCount,r.push("<cols>");for(p=0;p<t.columnCount;p++){var b=o.columnWidths[p],C=t.options.columnWidth?t.options.columnWidth:Math.max(b/96*14.4,S.MIN_WIDTH);r.push('<col min="'+(p+1)+'" max="'+(p+1)+'" width="'+C+'" customWidth="1"/>')}if(r.push("</cols>"),-1!==t.indexOfLastPinnedColumn&&!t.options.ignorePinning&&!t.options.ignoreColumnsOrder){var w=t.indexOfLastPinnedColumn+1;s='<pane xSplit="'+w+'" topLeftCell="'+(ji.getExcelColumn(w)+"1")+'" activePane="topRight" state="frozen"/>'}}var _=!t.isEmpty&&t.options.exportAsTable;e.file("sheet1.xml",ji.getSheetXML(i,s,r.join(""),n.join(""),_,t.isTreeGridData,a))},S.prototype.hasCollapsedParent=function(e){for(var t=!e.parent.expanded;e.parent;)t=t||!e.parent.expanded,e=e.parent;return t},S.getCellData=function(e,t,i){var n=e.dataDictionary,r=ji.getExcelColumn(i)+(t+1),o=e.keys[i],s=e.data[t-1].rowData,a=e.isSpecialData?s:s[o];if(a===undefined||null===a)return'<c r="'+r+'" s="1"/>';var l=n.saveValue(a,i,!1),c=-1!==l;return'<c r="'+r+'"'+(c?' t="s"':"")+(c?"":' s="1"')+"><v>"+(c?l:a)+"</v></c>"},S.MIN_WIDTH=8.34,S}(),$i=function(){function e(){}return e.prototype.writeElement=function(e,t){e.file("styles.xml",ji.getStyles(t.dataDictionary&&t.dataDictionary.hasNonStringValues))},e}(),Yi=function(){function e(){}return e.prototype.writeElement=function(e,t){e.file("workbook.xml",ji.getWorkbook())},e}(),Xi=function(){function e(){}return e.prototype.writeElement=function(e,t){e.file("[Content_Types].xml",ji.getContentTypesXML(!t.isEmpty,t.options.exportAsTable))},e}(),qi=function(){function e(){}return e.prototype.writeElement=function(e,t){var i,n,r=t.dataDictionary,o=r.getKeys(),s=new Array(o.length);try{for(var a=S(o),l=a.next();!l.done;l=a.next()){var c=l.value;s[r.getSanitizedValue(c)]="<si><t>"+c+"</t></si>"}}catch(p){i={error:p}}finally{try{l&&!l.done&&(n=a["return"])&&n.call(a)}finally{if(i)throw i.error}}e.file("sharedStrings.xml",ji.getSharedStringXML(r.stringsCount,o.length,s.join("")))},e}(),Zi=function(){function e(){}return e.prototype.writeElement=function(e,t){for(var i=t.columnCount,n=ji.getExcelColumn(i-1)+t.rowCount,r="A1:"+n,o=t.keys,s="",a='<tableColumns count="'+i+'">',l=0;l<i;l++){a+='<tableColumn id="'+(l+1)+'" name="'+o[l]+'"/>'}if(a+="</tableColumns>",t.sort){var c=t.sort,p=ji.getExcelColumn(o.indexOf(c.fieldName));s='<sortState ref="A2:'+n+'"><sortCondition descending="'+(c.dir-1)+'" ref="'+p+"1:"+p+'15"/></sortState>'}e.file("table1.xml",ji.getTablesXML(r,a,s))},e}(),Ji=function(){function e(){}return e.prototype.writeElement=function(e,t){e.file("sheet1.xml.rels",ji.getWorksheetRels())},e}(),Qi=function(){function e(){}return Object.defineProperty(e.prototype,"folderName",{get:function(){return""},enumerable:!0,configurable:!0}),e.prototype.childFiles=function(e){return[Bi.ContentTypesFile]},e.prototype.childFolders=function(e){return[Hi.RootRelsExcelFolder,Hi.DocPropsExcelFolder,Hi.XLExcelFolder]},e}(),en=function(){function e(){}return Object.defineProperty(e.prototype,"folderName",{get:function(){return"_rels"},enumerable:!0,configurable:!0}),e.prototype.childFiles=function(e){return[Bi.RootRelsFile]},e.prototype.childFolders=function(e){return[]},e}(),tn=function(){function e(){}return Object.defineProperty(e.prototype,"folderName",{get:function(){return"docProps"},enumerable:!0,configurable:!0}),e.prototype.childFiles=function(e){return[Bi.AppFile,Bi.CoreFile]},e.prototype.childFolders=function(e){return[]},e}(),nn=function(){function e(){}return Object.defineProperty(e.prototype,"folderName",{get:function(){return"xl"},enumerable:!0,configurable:!0}),e.prototype.childFiles=function(e){var t=[Bi.StyleFile,Bi.WorkbookFile];return e.isEmpty||t.push(Bi.SharedStringsFile),t},e.prototype.childFolders=function(e){var t=[Hi.XLRelsExcelFolder,Hi.ThemeExcelFolder,Hi.WorksheetsExcelFolder];return!e.isEmpty&&e.options.exportAsTable&&t.push(Hi.TablesExcelFolder),t},e}(),rn=function(){function e(){}return Object.defineProperty(e.prototype,"folderName",{get:function(){return"_rels"},enumerable:!0,configurable:!0}),e.prototype.childFiles=function(e){return[Bi.WorkbookRelsFile]},e.prototype.childFolders=function(e){return[]},e}(),on=function(){function e(){}return Object.defineProperty(e.prototype,"folderName",{get:function(){return"theme"},enumerable:!0,configurable:!0}),e.prototype.childFiles=function(e){return[Bi.ThemeFile]},e.prototype.childFolders=function(e){return[]},e}(),sn=function(){function e(){}return Object.defineProperty(e.prototype,"folderName",{get:function(){return"worksheets"},enumerable:!0,configurable:!0}),e.prototype.childFiles=function(e){return[Bi.WorksheetFile]},e.prototype.childFolders=function(e){return e.isEmpty||!e.options.exportAsTable?[]:[Hi.WorksheetsRelsExcelFolder]},e}(),an=function(){function e(){}return Object.defineProperty(e.prototype,"folderName",{get:function(){return"tables"},enumerable:!0,configurable:!0}),e.prototype.childFiles=function(e){return[Bi.TablesFile]},e.prototype.childFolders=function(e){return[]},e}(),ln=function(){function e(){}return Object.defineProperty(e.prototype,"folderName",{get:function(){return"_rels"},enumerable:!0,configurable:!0}),e.prototype.childFiles=function(e){return[Bi.WorksheetRelsFile]},e.prototype.childFolders=function(e){return[]},e}(),cn=function(){function e(){}return e.getExcelFolder=function(e){switch(e){case Hi.RootExcelFolder:return new Qi;case Hi.RootRelsExcelFolder:return new en;case Hi.DocPropsExcelFolder:return new tn;case Hi.XLExcelFolder:return new nn;case Hi.XLRelsExcelFolder:return new rn;case Hi.ThemeExcelFolder:return new on;case Hi.WorksheetsExcelFolder:return new sn;case Hi.WorksheetsRelsExcelFolder:return new ln;case Hi.TablesExcelFolder:return new an;default:throw new Error("Unknown excel folder type!")}},e.getExcelFile=function(e){switch(e){case Bi.RootRelsFile:return new Ni;case Bi.AppFile:return new Gi;case Bi.CoreFile:return new zi;case Bi.WorkbookRelsFile:return new Wi;case Bi.ThemeFile:return new Ui;case Bi.WorksheetFile:return new Ki;case Bi.StyleFile:return new $i;case Bi.WorkbookFile:return new Yi;case Bi.ContentTypesFile:return new Xi;case Bi.SharedStringsFile:return new qi;case Bi.WorksheetRelsFile:return new Ji;case Bi.TablesFile:return new Zi;default:throw Error("Unknown excel file type!")}},e}(),pn=function(){function i(e,t){this.hasNonStringValues=!1,this._dictionary={},this._widthsDictionary={},this._counter=0,this.dirtyKeyCollections(),this._calculateColumnWidth=!t,this._columnWidths=new Array(e),this._columnTypeInfo=new Array(e),this._calculateColumnWidth||this._columnWidths.fill(t),this.stringsCount=0}return Object.defineProperty(i.prototype,"columnWidths",{get:function(){return this._columnWidths},enumerable:!0,configurable:!0}),i.prototype.saveValue=function(e,t,i){this._columnTypeInfo[t]===undefined&&!1===i&&(this._columnTypeInfo[t]="string"==typeof e||"boolean"==typeof e||e instanceof Date);var n="",r=this._columnTypeInfo[t]||i;if(r?(n=this.sanitizeValue(e),this._dictionary[n]===undefined&&(this._dictionary[n]=this._counter++,this.dirtyKeyCollections()),this.stringsCount++):this.hasNonStringValues=!0,this._calculateColumnWidth){var o=this.getTextWidth(e),s=Math.max(this._columnWidths[t]||0,o);this._columnWidths[t]=s}return r?this.getSanitizedValue(n):-1},i.prototype.getValue=function(e){return this.getSanitizedValue(this.sanitizeValue(e))},i.prototype.getSanitizedValue=function(e){return this._dictionary[e]},i.prototype.getKeys=function(){return this._keysAreValid||(this._keys=Object.keys(this._dictionary),this._keysAreValid=!0),this._keys},i.prototype.getTextWidth=function(e){if(this._widthsDictionary[e]===undefined){var t=this.getContext().measureText(e);this._widthsDictionary[e]=t.width+i.TEXT_PADDING}return this._widthsDictionary[e]},i.prototype.getContext=function(){if(!this._context){var e=document.createElement("canvas");this._context=e.getContext("2d"),this._context.font=i.DEFAULT_FONT}return this._context},i.prototype.sanitizeValue=function(e){return!1===Ri.hasValue(e)?"":String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},i.prototype.dirtyKeyCollections=function(){this._keysAreValid=!1},i.DEFAULT_FONT="11pt Calibri",i.TEXT_PADDING=5,i}(),un=function(){function e(e,t,i,n,r){void 0===r&&(r=!1),this._data=e,this.options=t,this.indexOfLastPinnedColumn=i,this.sort=n,this.isTreeGridData=r,this.initializeData()}return Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnCount",{get:function(){return this._columnCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowCount",{get:function(){return this._rowCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return!this.rowCount||!this._columnCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keys",{get:function(){return this._keys},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSpecialData",{get:function(){return this._isSpecialData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataDictionary",{get:function(){return this._dataDictionary},enumerable:!0,configurable:!0}),e.prototype.initializeData=function(){if(this._data&&0!==this._data.length){var e=this._data.map(function(e){return e.rowData});this._keys=Ri.getKeysFromData(e),0!==this._keys.length&&(this._isSpecialData=Ri.isSpecialData(e),this._columnCount=this._keys.length,this._rowCount=this._data.length+1,this._dataDictionary=new pn(this._columnCount,this.options.columnWidth))}},e}(),dn=function(t){function y(){var e=null!==t&&t.apply(this,arguments)||this;return e.onExportEnded=new b.EventEmitter,e}return f(y,t),y.populateFolder=function(e,t,i){var n,r,o,s;try{for(var a=S(e.childFolders(i)),l=a.next();!l.done;l=a.next()){var c=l.value,p=cn.getExcelFolder(c),u=t.folder(p.folderName);y.populateFolder(p,u,i)}}catch(f){n={error:f}}finally{try{l&&!l.done&&(r=a["return"])&&r.call(a)}finally{if(n)throw n.error}}try{for(var d=S(e.childFiles(i)),h=d.next();!h.done;h=d.next()){var g=h.value;cn.getExcelFile(g).writeElement(t,i)}}catch(m){o={error:m}}finally{try{h&&!h.done&&(s=d["return"])&&s.call(d)}finally{if(o)throw o.error}}},y.prototype.exportDataImplementation=function(e,t){var i=this;if(this._isTreeGrid){var n=0;if(e.forEach(function(e){n=Math.max(n,e.originalRowData.level)}),7<n)throw Error("Can create an outline of up to eight levels!")}var r=new un(e,t,this._indexOfLastPinnedColumn,this._sort,this._isTreeGrid);this._xlsx=new s;var o=cn.getExcelFolder(Hi.RootExcelFolder);y.populateFolder(o,this._xlsx,r),this._xlsx.generateAsync(y.ZIP_OPTIONS).then(function(e){i.saveFile(e,t.fileName),i.onExportEnded.emit({xlsx:i._xlsx})})},y.prototype.saveFile=function(e,t){var i=new Blob([Ri.stringToArrayBuffer(atob(e))],{type:""});Ri.saveBlobToFile(i,t)},y.ZIP_OPTIONS={compression:"DEFLATE",type:"base64"},y.decorators=[{type:b.Injectable}],y.propDecorators={onExportEnded:[{type:b.Output}]},y}(ki),hn=function(i){function e(e){var t=i.call(this,e,".xlsx")||this;return t.ignorePinning=!1,t.exportAsTable=!0,t}return f(e,i),Object.defineProperty(e.prototype,"columnWidth",{get:function(){return this._columnWidth},set:function(e){if(e<0)throw Error("Invalid value for column width!");this._columnWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowHeight",{get:function(){return this._rowHeight},set:function(e){if(e<0)throw Error("Invalid value for row height!");this._rowHeight=e},enumerable:!0,configurable:!0}),e}(Ai),gn={Left:-1,Center:-.5,Right:0};gn[gn.Left]="Left",gn[gn.Center]="Center",gn[gn.Right]="Right";var fn={Top:-1,Middle:-.5,Bottom:0};fn[fn.Top]="Top",fn[fn.Middle]="Middle",fn[fn.Bottom]="Bottom";var mn=function Zd(e,t){this.x=e,this.y=t};function yn(e){var t={bottom:0,height:0,left:0,right:0,top:0,width:0};if(e.target instanceof HTMLElement)t=e.target.getBoundingClientRect();else if(e.target instanceof mn){var i=e.target;t={bottom:i.y,height:0,left:i.x,right:i.x,top:i.y,width:0}}return t}function vn(e){var t=e.documentElement.clientWidth,i=e.documentElement.clientHeight,n=function r(){var e=document.documentElement,t=e.getBoundingClientRect(),i=-t.left||document.body.scrollLeft||window.scrollX||e.scrollLeft||0,n=-t.top||document.body.scrollTop||window.scrollY||e.scrollTop||0;return new mn(i,n)}();return{top:n.y,left:n.x,right:n.x+t,bottom:n.y+i,width:t,height:i}}function xn(e){var t=Object.assign(Object.create(Object.getPrototypeOf(e)),e);return t.settings=ni(t.settings),t}var bn=function(){function e(e){this._defaultSettings={horizontalDirection:gn.Center,verticalDirection:fn.Middle,horizontalStartPoint:gn.Center,verticalStartPoint:fn.Middle,openAnimation:d,closeAnimation:h,minSize:{width:0,height:0}},this.settings=Object.assign({},this._defaultSettings,e)}return e.prototype.position=function(e,t,i,n){switch(e.classList.add("igx-overlay__content--relative"),e.parentElement.classList.add("igx-overlay__wrapper--flex"),this.settings.horizontalDirection){case gn.Left:e.parentElement.style.justifyContent="flex-start";break;case gn.Center:e.parentElement.style.justifyContent="center";break;case gn.Right:e.parentElement.style.justifyContent="flex-end"}switch(this.settings.verticalDirection){case fn.Top:e.parentElement.style.alignItems="flex-start";break;case fn.Middle:e.parentElement.style.alignItems="center";break;case fn.Bottom:e.parentElement.style.alignItems="flex-end"}},e.prototype.clone=function(){return xn(this)},e}(),Cn=function Jd(e){},wn=function(t){function e(e){return t.call(this,e)||this}return f(e,t),e.prototype.initialize=function(e,t,i){},e.prototype.attach=function(){},e.prototype.detach=function(){},e}(Cn);function _n(r){var o=!1;return function(t,i,e){if(e&&e.value){var n=e.value;return e.value=function(){var e="function"==typeof t?t.name:t.constructor.name;return o=In(e+"."+i+": "+r,o),n.call(this,arguments)},e}}}function Sn(c){return function(e,t){var i,n,r=!1,o=e.constructor.name+"."+t+": "+c,s=Object.getOwnPropertyDescriptor(e,t);if(s)return i=s.get,n=s.set,i&&(s.get=function(){return r=In(o,r),i.call(this)}),n&&(s.set=function(e){r=In(o,r),n.call(this,e)}),s;var a=function l(e,t){var i="_"+t;for(;e.hasOwnProperty(i);)i="_"+i;return i}(e,t);Object.defineProperty(e,t,{configurable:!0,enumerable:!0,set:function(e){r=In(o,r),this[a]=e},get:function(){return r=In(o,r),this[a]}})}}function In(e,t){return!t&&b.isDevMode()&&console.warn(e),!0}var Dn=!1,En=function(){function e(e,t,i,n,r,o){var s=this;this._factoryResolver=e,this._appRef=t,this._injector=i,this.builder=n,this.document=r,this._zone=o,this._componentId=0,this._overlayInfos=[],this.destroy$=new x.Subject,this._defaultSettings={positionStrategy:new bn,scrollStrategy:new wn,modal:!0,closeOnOutsideClick:!0},this.onOpening=new b.EventEmitter,this.onOpened=new b.EventEmitter,this.onClosing=new b.EventEmitter,this.onClosed=new b.EventEmitter,this.onAnimation=new b.EventEmitter,this.documentClicked=function(e){for(var t=s._overlayInfos.length;t--;){var i=s._overlayInfos[t];if(i.settings.modal)return;if(i.settings.closeOnOutsideClick){if(i.elementRef.nativeElement.contains(e.target))return;var n=i.settings.positionStrategy.settings.target,r=!1;if(n){var o=n.getBoundingClientRect();r=e.clientX>=o.left&&e.clientX<=o.right&&e.clientY>=o.top&&e.clientY<=o.bottom}i.settings.excludePositionTarget&&r||i.closeAnimationPlayer&&i.closeAnimationPlayer.hasStarted()||s._hide(i.id,e)}}},this.repositionAll=function(){for(var e=s._overlayInfos.length;e--;)s.reposition(s._overlayInfos[e].id)},this._document=this.document}return e.prototype.attach=function(e,t,i){var n;return(n=this.getOverlayInfo(e,i))?(n.id=(this._componentId++).toString(),t=Object.assign({},this._defaultSettings,t),n.settings=t,this._overlayInfos.push(n),n.id):null},e.prototype.show=function(e,t){var i,n;if("string"==typeof e){if(n=e,!(i=this.getOverlayById(e)))return console.warn("igxOverlay.show was called with wrong id: "+e),null}else{if(Dn=In("`show(component, settings?)` overload is deprecated. Use `attach(component)` to obtain an Id.Then `show(id, settings?)` with provided Id.",Dn),n=(this._componentId++).toString(),!(i=this.getOverlayInfo(e)))return;i.id=n}return t=Object.assign({},this._defaultSettings,i.settings,t),i.settings=t,this._show(i),n},e.prototype.hide=function(e){this._hide(e)},e.prototype.hideAll=function(){for(var e=this._overlayInfos.length;e--;)this.hide(this._overlayInfos[e].id)},e.prototype.reposition=function(e){var t=this.getOverlayById(e);if(t&&t.settings){var i=t.elementRef.nativeElement.parentElement,n=i.getBoundingClientRect();t.settings.positionStrategy.position(i,{width:n.width,height:n.height},this._document,!1)}else console.error("Wrong id provided in overlay.reposition method. Id: "+e)},e.prototype._show=function(e){var t={id:e.id,componentRef:e.componentRef,cancel:!1};if(this.onOpening.emit(t),t.cancel)e.componentRef&&(this._appRef.detachView(e.componentRef.hostView),e.componentRef.destroy());else{if(!e.closeAnimationPlayer||e.closeAnimationPlayer&&!e.closeAnimationPlayer.hasStarted()){var i=e.elementRef.nativeElement.getBoundingClientRect();e.initialSize={width:i.width,height:i.height},e.hook=this.placeElementHook(e.elementRef.nativeElement),this.moveElementToOverlay(e),e.componentRef&&e.componentRef.changeDetectorRef.detectChanges(),this.updateSize(e),-1===this._overlayInfos.indexOf(e)&&this._overlayInfos.push(e),e.settings.positionStrategy.position(e.elementRef.nativeElement.parentElement,{width:e.initialSize.width,height:e.initialSize.height},document,!0),e.settings.scrollStrategy.initialize(this._document,this,e.id),e.settings.scrollStrategy.attach()}this.addOutsideClickListener(e),this.addResizeHandler(e.id),e.settings.modal&&this.setupModalWrapper(e),e.settings.positionStrategy.settings.openAnimation?this.playOpenAnimation(e):(e.elementRef.nativeElement.parentElement.style.visibility="",this.onOpened.emit({id:e.id,componentRef:e.componentRef}))}},e.prototype._hide=function(e,t){var i=this.getOverlayById(e);if(i){var n={id:e,componentRef:i.componentRef,cancel:!1,event:t};if(this.onClosing.emit(n),!n.cancel){i.settings.scrollStrategy.detach(),this.removeOutsideClickListener(i),this.removeResizeHandler(i.id);var r=i.elementRef.nativeElement;if(i.settings.modal){var o=r.parentNode.parentNode;this.applyAnimationParams(o,i.settings.positionStrategy.settings.closeAnimation),o.classList.remove("igx-overlay__wrapper--modal"),o.classList.add("igx-overlay__wrapper")}i.settings.positionStrategy.settings.closeAnimation?this.playCloseAnimation(i):this.onCloseDone(i)}}else console.warn("igxOverlay.hide was called with wrong id: "+e)},e.prototype.getOverlayInfo=function(e,t){var i={ngZone:this._zone};if(e instanceof b.ElementRef)i.elementRef=e;else{var n=void 0,r=t?t.componentFactoryResolver:this._factoryResolver;try{n=r.resolveComponentFactory(e)}catch(l){return console.error(l),null}var o=t?t.injector:this._injector,s=n.create(o);this._appRef.attachView(s.hostView);var a=s.location.nativeElement;i.elementRef={nativeElement:a},i.componentRef=s}return i},e.prototype.placeElementHook=function(e){if(!e.parentElement)return null;var t=this._document.createElement("div");return e.parentElement.insertBefore(t,e),t},e.prototype.moveElementToOverlay=function(e){var t=this.getWrapperElement(),i=this.getContentElement(t,e.settings.modal);this.getOverlayElement(e).appendChild(t);var n=e.elementRef.nativeElement.scrollTop;i.appendChild(e.elementRef.nativeElement),n&&(e.elementRef.nativeElement.scrollTop=n)},e.prototype.getWrapperElement=function(){var e=this._document.createElement("div");return e.classList.add("igx-overlay__wrapper"),e},e.prototype.getContentElement=function(e,t){var i=this._document.createElement("div");return t?(i.classList.add("igx-overlay__content--modal"),i.addEventListener("click",function(e){e.stopPropagation()})):i.classList.add("igx-overlay__content"),i.addEventListener("scroll",function(e){e.stopPropagation()}),i.style.visibility="hidden",e.appendChild(i),i},e.prototype.getOverlayElement=function(e){return e.settings.outlet?e.settings.outlet.nativeElement:(this._overlayElement||(this._overlayElement=this._document.createElement("div"),this._overlayElement.classList.add("igx-overlay"),this._document.body.appendChild(this._overlayElement)),this._overlayElement)},e.prototype.updateSize=function(e){e.componentRef&&(e.initialSize=e.elementRef.nativeElement.getBoundingClientRect()),0!==e.initialSize.width&&(e.elementRef.nativeElement.parentElement.style.width=e.initialSize.width+"px")},e.prototype.setupModalWrapper=function(e){var t=this,i=e.elementRef.nativeElement.parentElement.parentElement;x.fromEvent(i,"keydown").pipe(p.filter(function(e){return"Escape"===e.key||"Esc"===e.key}),p.takeUntil(this.destroy$)).subscribe(function(){return t.hide(e.id)}),i.classList.remove("igx-overlay__wrapper"),this.applyAnimationParams(i,e.settings.positionStrategy.settings.openAnimation),i.classList.add("igx-overlay__wrapper--modal")},e.prototype.onCloseDone=function(e){this.cleanUp(e),this.onClosed.emit({id:e.id,componentRef:e.componentRef})},e.prototype.cleanUp=function(e){var t=e.elementRef.nativeElement,i=this.getOverlayElement(e);if(i.contains(t)){i.removeChild(t.parentNode.parentNode),e.componentRef&&(this._appRef.detachView(e.componentRef.hostView),e.componentRef.destroy()),e.hook&&(e.hook.parentElement.insertBefore(e.elementRef.nativeElement,e.hook),e.hook.parentElement.removeChild(e.hook));var n=this._overlayInfos.indexOf(e);this._overlayInfos.splice(n,1),0===this._overlayInfos.length&&this._overlayElement&&this._overlayElement.parentElement&&(this._overlayElement.parentElement.removeChild(this._overlayElement),this._overlayElement=null)}else console.warn("Component with id:"+e.id+" is already removed!")},e.prototype.playOpenAnimation=function(e){var t=this;if(!e.openAnimationPlayer){var i=this.builder.build(e.settings.positionStrategy.settings.openAnimation);e.openAnimationPlayer=i.create(e.elementRef.nativeElement);var n=e.openAnimationPlayer._renderer;e.openAnimationInnerPlayer=n.engine.players[n.engine.players.length-1],e.openAnimationPlayer.onDone(function(){t.onOpened.emit({id:e.id,componentRef:e.componentRef}),e.openAnimationPlayer&&(e.openAnimationPlayer.reset(),e.openAnimationPlayer=null),e.closeAnimationPlayer&&e.closeAnimationPlayer.hasStarted()&&e.closeAnimationPlayer.reset()})}if(!e.openAnimationPlayer.hasStarted()){if(e.closeAnimationPlayer&&e.closeAnimationPlayer.hasStarted()){var r=1-e.closeAnimationInnerPlayer.getPosition();e.closeAnimationPlayer.reset(),e.closeAnimationPlayer=null,e.openAnimationPlayer.init(),e.openAnimationPlayer.setPosition(r)}this.onAnimation.emit({id:e.id,animationPlayer:e.openAnimationPlayer,animationType:"open"}),e.elementRef.nativeElement.parentElement.style.visibility="",e.openAnimationPlayer.play()}},e.prototype.playCloseAnimation=function(e){var t=this;if(!e.closeAnimationPlayer){var i=this.builder.build(e.settings.positionStrategy.settings.closeAnimation);e.closeAnimationPlayer=i.create(e.elementRef.nativeElement);var n=e.closeAnimationPlayer._renderer;e.closeAnimationInnerPlayer=n.engine.players[n.engine.players.length-1],e.closeAnimationPlayer.onDone(function(){e.closeAnimationPlayer&&(e.closeAnimationPlayer.reset(),e.closeAnimationPlayer=null),e.openAnimationPlayer&&e.openAnimationPlayer.hasStarted()&&e.openAnimationPlayer.reset(),t.onCloseDone(e)})}if(!e.closeAnimationPlayer.hasStarted()){if(e.openAnimationPlayer&&e.openAnimationPlayer.hasStarted()){var r=1-e.openAnimationInnerPlayer.getPosition();e.openAnimationPlayer.reset(),e.openAnimationPlayer=null,e.closeAnimationPlayer.init(),e.closeAnimationPlayer.setPosition(r)}this.onAnimation.emit({id:e.id,animationPlayer:e.closeAnimationPlayer,animationType:"close"}),e.closeAnimationPlayer.play()}},e.prototype.applyAnimationParams=function(e,t){if(t){if(10===t.type&&(t=t.animation),t.options&&t.options.params){var i=t.options.params;i.duration&&(e.style.transitionDuration=i.duration),i.easing&&(e.style.transitionTimingFunction=i.easing)}}else e.style.transitionDuration="0ms"},e.prototype.getOverlayById=function(t){return t?this._overlayInfos.find(function(e){return e.id===t}):null},e.prototype.addOutsideClickListener=function(e){var t=this;e.settings.closeOnOutsideClick&&(e.settings.modal?x.fromEvent(e.elementRef.nativeElement.parentElement.parentElement,"click").pipe(p.takeUntil(this.destroy$)).subscribe(function(){return t.hide(e.id)}):this._overlayInfos.filter(function(e){return e.settings.closeOnOutsideClick&&!e.settings.modal}).length-this._overlayInfos.filter(function(e){return e.settings.closeOnOutsideClick&&!e.settings.modal&&e.closeAnimationPlayer&&e.closeAnimationPlayer.hasStarted()}).length==1&&this._document.addEventListener("click",this.documentClicked,!0))},e.prototype.removeOutsideClickListener=function(t){if(!1===t.settings.modal){var i=!0;this._overlayInfos.forEach(function(e){!1===e.settings.modal&&e.id!==t.id&&(i=!1)}),i&&this._document.removeEventListener("click",this.documentClicked,!0)}},e.prototype.addResizeHandler=function(e){var t=this._overlayInfos.filter(function(e){return e.closeAnimationPlayer&&e.closeAnimationPlayer.hasStarted()}).length;this._overlayInfos.length-t==1&&this._document.defaultView.addEventListener("resize",this.repositionAll)},e.prototype.removeResizeHandler=function(e){var t=this._overlayInfos.filter(function(e){return e.closeAnimationPlayer&&e.closeAnimationPlayer.hasStarted()}).length;this._overlayInfos.length-t==1&&this._document.defaultView.removeEventListener("resize",this.repositionAll)},e.prototype.ngOnDestroy=function(){this.destroy$.next(!0),this.destroy$.complete()},e.decorators=[{type:b.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:b.ComponentFactoryResolver},{type:b.ApplicationRef},{type:b.Injector},{type:u.AnimationBuilder},{type:undefined,decorators:[{type:b.Inject,args:[r.DOCUMENT]}]},{type:b.NgZone}]},e.ngInjectableDef=b.defineInjectable({factory:function(){return new e(b.inject(b.ComponentFactoryResolver),b.inject(b.ApplicationRef),b.inject(b.INJECTOR),b.inject(u.AnimationBuilder),b.inject(r.DOCUMENT),b.inject(b.NgZone))},token:e,providedIn:"root"}),e}(),On=function(){function e(e){this._defaultSettings={target:null,horizontalDirection:gn.Right,verticalDirection:fn.Bottom,horizontalStartPoint:gn.Left,verticalStartPoint:fn.Bottom,openAnimation:He,closeAnimation:Je,minSize:{width:0,height:0}},this.settings=Object.assign({},this._defaultSettings,e)}return e.prototype.position=function(e,t,i,n){var r=yn(this.settings),o=e.getBoundingClientRect();this.setStyle(e,r,o)},e.prototype.clone=function(){return xn(this)},e.prototype.setStyle=function(e,t,i){var n=t.right+t.width*this.settings.horizontalStartPoint,r=t.bottom+t.height*this.settings.verticalStartPoint,o=e.parentElement.getBoundingClientRect();switch(e.style.right="",e.style.left="",e.style.bottom="",e.style.top="",this.settings.horizontalDirection){case gn.Left:e.style.right=Math.round(o.right-n)+"px";break;case gn.Center:e.style.left=Math.round(n-o.left-i.width/2)+"px";break;case gn.Right:e.style.left=Math.round(n-o.left)+"px"}switch(this.settings.verticalDirection){case fn.Top:e.style.bottom=Math.round(o.bottom-r)+"px";break;case fn.Middle:e.style.top=Math.round(r-o.top-i.height/2)+"px";break;case fn.Bottom:e.style.top=Math.round(r-o.top)+"px"}},e}(),Pn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.position=function(e,t,i,n){var r=yn(this.settings),o=e.getBoundingClientRect();if(n){var s={};s.targetRect=r,s.contentElementRect=o,this._initialSettings=this._initialSettings||Object.assign({},this.settings),this.settings=Object.assign({},this._initialSettings),s.viewPortRect=vn(i),this.updateViewPortFit(s),s.fitHorizontal&&s.fitVertical||this.fitInViewport(e,s)}this.setStyle(e,r,o)},t.prototype.updateViewPortFit=function(e){e.left=this.calculateLeft(e.targetRect,e.contentElementRect,this.settings.horizontalStartPoint,this.settings.horizontalDirection),e.right=e.left+e.contentElementRect.width,e.fitHorizontal=e.viewPortRect.left<e.left&&e.right<e.viewPortRect.right,e.top=this.calculateTop(e.targetRect,e.contentElementRect,this.settings.verticalStartPoint,this.settings.verticalDirection),e.bottom=e.top+e.contentElementRect.height,e.fitVertical=e.viewPortRect.top<e.top&&e.bottom<e.viewPortRect.bottom},t.prototype.calculateLeft=function(e,t,i,n){return e.right+e.width*i+t.width*n},t.prototype.calculateTop=function(e,t,i,n){return e.bottom+e.height*i+t.height*n},t}(On),Tn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.fitInViewport=function(e,t){var i=[];if(!t.fitHorizontal)if(this.canFlipHorizontal(t))this.flipHorizontal();else{var n=this.horizontalPush(t);i.push("translateX("+n+"px)")}if(!t.fitVertical)if(this.canFlipVertical(t))this.flipVertical();else{var r=this.verticalPush(t);i.push("translateY("+r+"px)")}e.style.transform=i.join(" ").trim()},t.prototype.canFlipHorizontal=function(e){var t=-1*(this.settings.horizontalStartPoint+1),i=-1*(this.settings.horizontalDirection+1),n=this.calculateLeft(e.targetRect,e.contentElementRect,t,i),r=n+e.contentElementRect.width;return e.viewPortRect.left<n&&r<e.viewPortRect.right},t.prototype.canFlipVertical=function(e){var t=-1*(this.settings.verticalStartPoint+1),i=-1*(this.settings.verticalDirection+1),n=this.calculateTop(e.targetRect,e.contentElementRect,t,i),r=n+e.contentElementRect.height;return e.viewPortRect.top<n&&r<e.viewPortRect.bottom},t.prototype.flipHorizontal=function(){switch(this.settings.horizontalDirection){case gn.Left:this.settings.horizontalDirection=gn.Right;break;case gn.Right:this.settings.horizontalDirection=gn.Left}switch(this.settings.horizontalStartPoint){case gn.Left:this.settings.horizontalStartPoint=gn.Right;break;case gn.Right:this.settings.horizontalStartPoint=gn.Left}},t.prototype.flipVertical=function(){switch(this.settings.verticalDirection){case fn.Top:this.settings.verticalDirection=fn.Bottom;break;case fn.Bottom:this.settings.verticalDirection=fn.Top}switch(this.settings.verticalStartPoint){case fn.Top:this.settings.verticalStartPoint=fn.Bottom;break;case fn.Bottom:this.settings.verticalStartPoint=fn.Top}},t.prototype.horizontalPush=function(e){var t=e.left,i=e.right-e.viewPortRect.right;return t<0?Math.abs(t):0<i?-Math.min(i,t):0},t.prototype.verticalPush=function(e){var t=e.top,i=e.bottom-e.viewPortRect.bottom;return t<0?Math.abs(t):0<i?-Math.min(i,t):0},t}(Pn),Rn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.fitInViewport=function(e,t){e.classList.add("igx-overlay__content--elastic");var i=[];if(!t.fitHorizontal){var n=Math.max(0,t.contentElementRect.width-this.settings.minSize.width),r=Math.max(0,t.viewPortRect.left-t.left),o=Math.max(0,t.right-t.viewPortRect.right),s=Math.min(n,r+o);if(e.style.width=t.contentElementRect.width-s+"px",this.settings.horizontalDirection===gn.Center)0<(a=r*s/(r+o))&&i.push("translateX("+a+"px)")}if(!t.fitVertical){n=Math.max(0,t.contentElementRect.height-this.settings.minSize.height);var a,l=Math.max(0,t.viewPortRect.top-t.top),c=Math.max(0,t.bottom-t.viewPortRect.bottom);s=Math.min(n,l+c);if(e.style.height=t.contentElementRect.height-s+"px",this.settings.verticalDirection===fn.Middle)0<(a=l*s/(l+c))&&i.push("translateY("+a+"px)")}e.style.transform=i.join(" ").trim()},t}(Pn),kn=function(i){function e(e){var t=i.call(this,e)||this;return t._initialized=!1,t.onScroll=function(){t._overlayService.repositionAll()},t._scrollContainer=e,t}return f(e,i),e.prototype.initialize=function(e,t,i){this._initialized||(this._overlayService=t,this._id=i,this._document=e,this._zone=t.getOverlayById(i).ngZone,this._initialized=!0)},e.prototype.attach=function(){var e=this;this._zone?this._zone.runOutsideAngular(function(){e.addScrollEventListener()}):this.addScrollEventListener()},e.prototype.detach=function(){this._scrollContainer?this._scrollContainer.removeEventListener("scroll",this.onScroll,!0):this._document.removeEventListener("scroll",this.onScroll,!0),this._initialized=!1},e.prototype.addScrollEventListener=function(){this._scrollContainer?this._scrollContainer.addEventListener("scroll",this.onScroll,!0):this._document.addEventListener("scroll",this.onScroll,!0)},e}(Cn),Ln=function(i){function e(e){var t=i.call(this,e)||this;return t._initialized=!1,t.onScroll=function(e){e.preventDefault(),t._sourceElement&&t._sourceElement===e.srcElement||(t._sourceElement=e.srcElement,t._initialScrollTop=t._sourceElement.scrollTop,t._initialScrollLeft=t._sourceElement.scrollLeft),t._sourceElement.scrollTop=t._initialScrollTop,t._sourceElement.scrollLeft=t._initialScrollLeft},t}return f(e,i),e.prototype.initialize=function(e,t,i){this._initialized||(this._document=e,this._initialized=!0)},e.prototype.attach=function(){this._document.addEventListener("scroll",this.onScroll,!0),this._document.addEventListener("wheel",this.onWheel,!0)},e.prototype.detach=function(){this._document.removeEventListener("scroll",this.onScroll,!0),this._document.removeEventListener("wheel",this.onWheel,!0),this._sourceElement=null,this._initialScrollTop=0,this._initialScrollLeft=0,this._initialized=!1},e.prototype.onWheel=function(e){e.stopImmediatePropagation(),e.preventDefault()},e}(Cn),An=function(i){function e(e){var t=i.call(this,e)||this;return t._initialized=!1,t.onScroll=function(e){t._sourceElement&&(t.cumulativeScrollTop+=t._sourceElement.scrollTop,t.cumulativeScrollLeft+=t._sourceElement.scrollLeft,(Math.abs(t.cumulativeScrollTop-t.initialScrollTop)>t._threshold||Math.abs(t.cumulativeScrollLeft-t.initialScrollLeft)>t._threshold)&&(t._document.removeEventListener("scroll",t.onScroll,!0),t._overlayService.hide(t._id)))},t._scrollContainer=e,t._threshold=10,t.cumulativeScrollTop=0,t.cumulativeScrollLeft=0,t}return f(e,i),e.prototype.initialize=function(e,t,i){this._initialized||(this._overlayService=t,this._id=i,this._document=e,this._initialized=!0)},e.prototype.attach=function(){this._scrollContainer?(this._scrollContainer.addEventListener("scroll",this.onScroll),this._sourceElement=this._scrollContainer):(this._document.addEventListener("scroll",this.onScroll),document.documentElement.scrollHeight>document.documentElement.clientHeight?this._sourceElement=document.documentElement:document.body.scrollHeight>document.body.clientHeight&&(this._sourceElement=document.body)),this._sourceElement&&(this.cumulativeScrollTop=0,this.cumulativeScrollLeft=0,this.initialScrollTop=this._sourceElement.scrollTop,this.initialScrollLeft=this._sourceElement.scrollLeft)},e.prototype.detach=function(){this._scrollContainer?this._scrollContainer.removeEventListener("scroll",this.onScroll):this._document.removeEventListener("scroll",this.onScroll),this._sourceElement=null,this.cumulativeScrollTop=0,this.cumulativeScrollLeft=0,this.initialScrollTop=0,this.initialScrollLeft=0,this._initialized=!1},e}(Cn),Fn=function(){function e(){this._isPending=!1,this._pendingTransactions=[],this._pendingStates=new Map,this.onStateUpdate=new b.EventEmitter}return Object.defineProperty(e.prototype,"canRedo",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canUndo",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._isPending},enumerable:!0,configurable:!0}),e.prototype.add=function(e,t){this._isPending&&(this.updateState(this._pendingStates,e,t),this._pendingTransactions.push(e))},e.prototype.getTransactionLog=function(e){return[]},e.prototype.undo=function(){},e.prototype.redo=function(){},e.prototype.getAggregatedChanges=function(n){var r=this,o=[];return this._pendingStates.forEach(function(e,t){var i=n?r.getAggregatedValue(t,n):e.value;o.push({id:t,newValue:i,type:e.type})}),o},e.prototype.getState=function(e){return this._pendingStates.get(e)},e.prototype.getAggregatedValue=function(e,t){var i=this._pendingStates.get(e);return i?t?this.updateValue(i):i.value:null},e.prototype.commit=function(e,t){},e.prototype.clear=function(e){this._pendingStates.clear(),this._pendingTransactions=[]},e.prototype.startPending=function(){this._isPending=!0},e.prototype.endPending=function(e){this._isPending=!1,this._pendingStates.clear(),this._pendingTransactions=[]},e.prototype.updateState=function(e,t,i){var n=e.get(t.id);n?ri(n.value)?ii(n.value,t.newValue):n.value=t.newValue:(n={value:ni(t.newValue),recordRef:i,type:t.type},e.set(t.id,n))},e.prototype.updateValue=function(e){return this.mergeValues(e.recordRef,e.value)},e.prototype.mergeValues=function(e,t){return ri(e)||ri(t)?ii(ii({},e),t):t||e},e.decorators=[{type:b.Injectable}],e}(),Mn=function(c){function e(){var e=null!==c&&c.apply(this,arguments)||this;return e._transactions=[],e._redoStack=[],e._undoStack=[],e._states=new Map,e.onStateUpdate=new b.EventEmitter,e}return f(e,c),Object.defineProperty(e.prototype,"canUndo",{get:function(){return 0<this._undoStack.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canRedo",{get:function(){return 0<this._redoStack.length},enumerable:!0,configurable:!0}),e.prototype.add=function(e,t){var i=this._isPending?this._pendingStates:this._states;this.verifyAddedTransaction(i,e,t),this.addTransaction(e,i,t)},e.prototype.addTransaction=function(e,t,i){this.updateState(t,e,i),(this._isPending?this._pendingTransactions:this._transactions).push(e),this._isPending||(this._undoStack.push([{transaction:e,recordRef:i}]),this._redoStack=[],this.onStateUpdate.emit())},e.prototype.getTransactionLog=function(t){return t!==undefined?this._transactions.filter(function(e){return e.id===t}):_(this._transactions)},e.prototype.getAggregatedChanges=function(n){var r=this,o=[];return this._states.forEach(function(e,t){var i=n?r.mergeValues(e.recordRef,e.value):e.value;o.push({id:t,newValue:i,type:e.type})}),o},e.prototype.getState=function(e){return this._states.get(e)},Object.defineProperty(e.prototype,"enabled",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.getAggregatedValue=function(e,t){var i=this._states.get(e),n=c.prototype.getState.call(this,e);if(!i&&!n)return null;var r=c.prototype.getAggregatedValue.call(this,e,!1),o=i&&i.value,s=this.mergeValues(o,r);if(t){var a=i?i.recordRef:n.recordRef;s=this.mergeValues(a,s)}return s},e.prototype.endPending=function(e){var t,i;if(this._isPending=!1,e){var n=[];try{for(var r=S(this._pendingTransactions),o=r.next();!o.done;o=r.next()){var s=o.value,a=this._pendingStates.get(s.id);this._transactions.push(s),this.updateState(this._states,s,a.recordRef),n.push({transaction:s,recordRef:a.recordRef})}}catch(l){t={error:l}}finally{try{o&&!o.done&&(i=r["return"])&&i.call(r)}finally{if(t)throw t.error}}this._undoStack.push(n),this._redoStack=[],this.onStateUpdate.emit()}c.prototype.endPending.call(this,e)},e.prototype.commit=function(t,e){var i=this;if(e!==undefined){var n=this.getState(e);n&&this.updateRecord(t,n)}else this._states.forEach(function(e){i.updateRecord(t,e)});this.clear(e)},e.prototype.clear=function(t){t!==undefined?(this._transactions=this._transactions.filter(function(e){return e.id!==t}),this._states["delete"](t),this._undoStack=this._undoStack.map(function(e){return e.filter(function(e){return e.transaction.id!==t})}).filter(function(e){return 0<e.length})):(this._transactions=[],this._states.clear(),this._undoStack=[]),this._redoStack=[],this.onStateUpdate.emit()},e.prototype.undo=function(){var e,t,i,n;if(!(this._undoStack.length<=0)){var r=this._undoStack.pop();this._transactions.splice(this._transactions.length-r.length),this._redoStack.push(r),this._states.clear();try{for(var o=S(this._undoStack),s=o.next();!s.done;s=o.next()){var a=s.value;try{for(var l=S(a),c=l.next();!c.done;c=l.next()){var p=c.value;this.updateState(this._states,p.transaction,p.recordRef)}}catch(u){i={error:u}}finally{try{c&&!c.done&&(n=l["return"])&&n.call(l)}finally{if(i)throw i.error}}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(t=o["return"])&&t.call(o)}finally{if(e)throw e.error}}this.onStateUpdate.emit()}},e.prototype.redo=function(){var e,t;if(0<this._redoStack.length){var i;i=this._redoStack.pop();try{for(var n=S(i),r=n.next();!r.done;r=n.next()){var o=r.value;this.updateState(this._states,o.transaction,o.recordRef),this._transactions.push(o.transaction)}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n["return"])&&t.call(n)}finally{if(e)throw e.error}}this._undoStack.push(i),this.onStateUpdate.emit()}},e.prototype.verifyAddedTransaction=function(e,t,i){var n=e.get(t.id);switch(t.type){case wi.ADD:if(n)throw new Error("Cannot add this transaction. Transaction with id: "+t.id+" has been already added.");break;case wi.DELETE:case wi.UPDATE:if(n&&n.type===wi.DELETE)throw new Error("Cannot add this transaction. Transaction with id: "+t.id+" has been already deleted.");if(!n&&!i&&!this._isPending)throw new Error("Cannot add this transaction. This is first transaction of type "+t.type+" for id "+t.id+". For first transaction of this type recordRef is mandatory.")}},e.prototype.updateState=function(e,t,i){var n=e.get(t.id);if(n)switch(t.type){case wi.DELETE:n.type===wi.ADD?e["delete"](t.id):n.type===wi.UPDATE&&(n.value=t.newValue,n.type=wi.DELETE);break;case wi.UPDATE:ri(n.value)?(n.type===wi.ADD&&(n.value=this.mergeValues(n.value,t.newValue)),n.type===wi.UPDATE&&ii(n.value,t.newValue)):n.value=t.newValue}else n={value:ni(t.newValue),recordRef:i,type:t.type},e.set(t.id,n);this._isPending||this.cleanState(t.id,e)},e.prototype.cleanState=function(e,t){var i,n,r=t.get(e);if(r&&r.value&&r.recordRef)if(ri(r.recordRef)){try{for(var o=S(Object.keys(r.value)),s=o.next();!s.done;s=o.next()){var a=s.value;JSON.stringify(r.recordRef[a])===JSON.stringify(r.value[a])&&delete r.value[a]}}catch(l){i={error:l}}finally{try{s&&!s.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}r.type!==wi.DELETE&&0===Object.keys(r.value).length&&t["delete"](e)}else r.recordRef===r.value&&t["delete"](e)},e.prototype.updateRecord=function(e,t){var i=e.findIndex(function(e){return JSON.stringify(e)===JSON.stringify(t.recordRef||{})});switch(t.type){case wi.ADD:e.push(t.value);break;case wi.DELETE:0<=i&&i<e.length&&e.splice(i,1);break;case wi.UPDATE:0<=i&&i<e.length&&(e[i]=this.updateValue(t))}},e.decorators=[{type:b.Injectable}],e}(Fn),Vn=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return f(e,o),e.prototype.getAggregatedChanges=function(n){var r=this,o=[];return this._states.forEach(function(e,t){var i=n?r.mergeValues(e.recordRef,e.value):ni(e.value);r.clearArraysFromObject(i),o.push({id:t,path:e.path,newValue:i,type:e.type})}),o},e.prototype.updateState=function(i,n,e){if(o.prototype.updateState.call(this,i,n,e),n.path){var t=i.get(n.id);t&&(t.path=n.path),n.type===wi.DELETE&&i.forEach(function(e,t){if(e.path&&-1!==e.path.indexOf(n.id))switch(e.type){case wi.ADD:i["delete"](t);break;case wi.UPDATE:i.get(t).type=wi.DELETE,i.get(t).value=null}})}},e.prototype.commit=function(e,t,i,n){if(i!==undefined){var r=this.getAggregatedChanges(!0);n!==undefined&&(r=r.filter(function(e){return e.id===n})),Ti.mergeHierarchicalTransactions(e,r,i,t,!0)}else o.prototype.commit.call(this,e,n);this.clear(n)},e.prototype.clearArraysFromObject=function(e){var t,i;if(e)try{for(var n=S(Object.keys(e)),r=n.next();!r.done;r=n.next()){var o=r.value;Array.isArray(e[o])&&delete e[o]}}catch(s){t={error:s}}finally{try{r&&!r.done&&(i=n["return"])&&i.call(n)}finally{if(t)throw t.error}}},e.decorators=[{type:b.Injectable}],e}(Mn),Hn=function(){function e(e,t,i,n){var r=this;this.elementRef=e,this.cdr=t,this.overlayService=i,this.navigationService=n,this.destroy$=new x.Subject,this._overlaySubFilter=[p.filter(function(e){return e.id===r._overlayId}),p.takeUntil(this.destroy$)],this.onOpened=new b.EventEmitter,this.onOpening=new b.EventEmitter,this.onClosed=new b.EventEmitter,this.onClosing=new b.EventEmitter,this._collapsed=!0,this.overlayClosed=function(){r._collapsed=!0,r.cdr.detectChanges(),delete r._overlayId,r.unsubscribe(),r.onClosed.emit()}}return Object.defineProperty(e.prototype,"collapsed",{get:function(){return this._collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hiddenClass",{get:function(){return this.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultClass",{get:function(){return!this.collapsed},enumerable:!0,configurable:!0}),e.prototype.open=function(e){var t,i,n,r=this,o=this.overlayService.getOverlayById(this._overlayId),s=!!o&&o.openAnimationPlayer,a=!!o&&o.closeAnimationPlayer;if(!s&&(this._collapsed||a)){o||(this._overlayId=this.overlayService.attach(this.elementRef,e)),this._collapsed=!1,this.cdr.detectChanges();var l={cancel:!1};if(this.onOpening.emit(l),l.cancel)return this._collapsed=!0,void this.cdr.detectChanges();this.overlayService.show(this._overlayId,e),this.unsubscribe(),this._overlayOpenedSub=(t=this.overlayService.onOpened).pipe.apply(t,_(this._overlaySubFilter)).subscribe(function(){r.onOpened.emit()}),this._overlayClosingSub=(i=this.overlayService.onClosing).pipe.apply(i,_(this._overlaySubFilter)).subscribe(function(e){var t={cancel:!1,event:e.event};r.onClosing.emit(t),e.cancel=t.cancel,e.cancel||r.clearSubscription(r._overlayClosingSub)}),this._overlayClosedSub=(n=this.overlayService.onClosed).pipe.apply(n,_(this._overlaySubFilter)).subscribe(this.overlayClosed)}},e.prototype.close=function(){var e=this.overlayService.getOverlayById(this._overlayId),t=!!e&&e.closeAnimationPlayer;this._collapsed||t||this.overlayService.hide(this._overlayId)},e.prototype.toggle=function(e){this.collapsed||this.isClosing?this.open(e):this.close()},Object.defineProperty(e.prototype,"isClosing",{get:function(){var e=this.overlayService.getOverlayById(this._overlayId);return!!e&&e.closeAnimationPlayer},enumerable:!0,configurable:!0}),e.prototype.reposition=function(){this.overlayService.reposition(this._overlayId)},e.prototype.ngOnInit=function(){this.navigationService&&this.id&&this.navigationService.add(this.id,this)},e.prototype.ngOnDestroy=function(){this.navigationService&&this.id&&this.navigationService.remove(this.id),!this.collapsed&&this._overlayId&&this.overlayService.hide(this._overlayId),this.unsubscribe(),this.destroy$.next(!0),this.destroy$.complete()},e.prototype.unsubscribe=function(){this.clearSubscription(this._overlayOpenedSub),this.clearSubscription(this._overlayClosingSub),this.clearSubscription(this._overlayClosedSub)},e.prototype.clearSubscription=function(e){e&&!e.closed&&e.unsubscribe()},e.decorators=[{type:b.Directive,args:[{exportAs:"toggle",selector:"[igxToggle]"}]}],e.ctorParameters=function(){return[{type:b.ElementRef},{type:b.ChangeDetectorRef},{type:En,decorators:[{type:b.Inject,args:[En]}]},{type:Zt,decorators:[{type:b.Optional}]}]},e.propDecorators={onOpened:[{type:b.Output}],onOpening:[{type:b.Output}],onClosed:[{type:b.Output}],onClosing:[{type:b.Output}],id:[{type:b.Input}],hiddenClass:[{type:b.HostBinding,args:["class.igx-toggle--hidden"]},{type:b.HostBinding,args:["attr.aria-hidden"]}],defaultClass:[{type:b.HostBinding,args:["class.igx-toggle"]}]},e}(),Bn=function(){function e(e,t){this.element=e,this.navigationService=t}return Object.defineProperty(e.prototype,"closeOnOutsideClick",{get:function(){return this._closeOnOutsideClick},set:function(e){this._closeOnOutsideClick=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){return"string"==typeof this._target?this.navigationService.get(this._target):this._target},set:function(e){null!==e&&""!==e&&(this._target=e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this._overlayDefaults={positionStrategy:new On({target:this.element.nativeElement}),scrollStrategy:new kn,closeOnOutsideClick:!0,modal:!1,excludePositionTarget:!0}},e.prototype.onClick=function(){this._closeOnOutsideClick!==undefined&&(this._overlayDefaults.closeOnOutsideClick=this._closeOnOutsideClick),this.outlet&&(this._overlayDefaults.outlet=this.outlet);var e=Object.assign({},this._overlayDefaults,this.overlaySettings);this.updateOverlaySettings(e),this.target.toggle(e)},e.prototype.updateOverlaySettings=function(e){if(e&&e.positionStrategy){var t=e.positionStrategy.clone();t.settings.target=this.element.nativeElement,e.positionStrategy=t}return e},e.decorators=[{type:b.Directive,args:[{exportAs:"toggle-action",selector:"[igxToggleAction]"}]}],e.ctorParameters=function(){return[{type:b.ElementRef},{type:Zt,decorators:[{type:b.Optional}]}]},e.propDecorators={overlaySettings:[{type:b.Input}],closeOnOutsideClick:[{type:b.Input}],outlet:[{type:b.Input,args:["igxToggleOutlet"]}],target:[{type:b.Input,args:["igxToggleAction"]}],onClick:[{type:b.HostListener,args:["click"]}]},y([Sn("igxToggleAction 'closeOnOutsideClick' input is deprecated. Use 'overlaySettings' input object instead."),C("design:type",Boolean),C("design:paramtypes",[Boolean])],e.prototype,"closeOnOutsideClick",null),e}(),jn=function(){function e(e){this.element=e}return Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.element.nativeElement},enumerable:!0,configurable:!0}),e.decorators=[{type:b.Directive,args:[{exportAs:"overlay-outlet",selector:"[igxOverlayOutlet]"}]}],e.ctorParameters=function(){return[{type:b.ElementRef}]},e}(),Nn=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[Hn,Bn,jn],exports:[Hn,Bn,jn],providers:[Zt]}]}],e}(),Gn={Up:-1,Down:1};Gn[Gn.Up]="Up",Gn[Gn.Down]="Down";var zn="escape",Wn="enter",Un="space",Kn="IgxDropDownBaseToken",$n=function(){function e(){this.selection=new Map}return e.prototype.get=function(e){return this.selection.get(e)},e.prototype.set=function(e,t){if(!e)throw Error("Invalid value for component id!");this.selection.set(e,t)},e.prototype.clear=function(e){this.selection.set(e,this.get_empty())},e.prototype.size=function(e){var t=this.get(e);return t?t.size:0},e.prototype.add_item=function(e,t,i){if(i||(i=new Set(this.get(e))),i===undefined&&(i=this.get_empty()),!t&&0!==t)throw Error("Invalid value for item id!");return i.add(t),i},e.prototype.add_items=function(t,e,i){var n,r=this;return i?n=this.get_empty():e&&0===e.length&&(n=new Set(this.get(t))),e.forEach(function(e){return n=r.add_item(t,e,n)}),n},e.prototype.select_item=function(e,t,i){this.set(e,this.add_item(e,t,i))},e.prototype.select_items=function(e,t,i){this.set(e,this.add_items(e,t,i))},e.prototype.delete_item=function(e,t,i){if(i||(i=new Set(this.get(e))),i!==undefined)return i["delete"](t),i},e.prototype.delete_items=function(t,e){var i,n=this;return e.forEach(function(e){return i=n.delete_item(t,e,i)}),i},e.prototype.deselect_item=function(e,t,i){this.set(e,this.delete_item(e,t,i))},e.prototype.deselect_items=function(e,t,i){this.set(e,this.delete_items(e,t))},e.prototype.is_item_selected=function(e,t){var i=this.get(e);return!!i&&i.has(t)},e.prototype.first_item=function(e){var t=this.get(e);if(t&&0<t.size)return t.values().next().value},e.prototype.are_all_selected=function(e,t){return 0<t&&t===this.size(e)},e.prototype.are_none_selected=function(e){return 0===this.size(e)},e.prototype.get_all_ids=function(e,t){return t?e.map(function(e){return e[t]}):e},e.prototype.get_empty=function(){return new Set},e.decorators=[{type:b.Injectable,args:[{providedIn:"root"}]}],e.ngInjectableDef=b.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),Yn=0,Xn=function(){function e(){this._id=Yn++,this.role="group",this.groupClass=!0,this.disabled=!1}return Object.defineProperty(e.prototype,"labelId",{get:function(){return"igx-item-group-label-"+this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"labelledBy",{get:function(){return this.labelId},enumerable:!0,configurable:!0}),e.decorators=[{type:b.Component,args:[{selector:"igx-drop-down-item-group",template:'\n        <label id="{{labelId}}">{{ label }}</label>\n        <ng-content select="igx-drop-down-item"></ng-content>\n    '}]}],e.propDecorators={labelledBy:[{type:b.HostBinding,args:["attr.aria-labelledby"]}],role:[{type:b.HostBinding,args:["attr.role"]}],groupClass:[{type:b.HostBinding,args:["class.igx-drop-down__group"]}],disabled:[{type:b.Input},{type:b.HostBinding,args:["attr.aria-disabled"]},{type:b.HostBinding,args:["class.igx-drop-down__group--disabled"]}],label:[{type:b.Input}]},e}(),qn=0,Zn=!1,Jn=function(){function e(e,t,i,n){this.dropDown=e,this.elementRef=t,this.group=i,this.selection=n,this._focused=!1,this._selected=!1,this._index=null,this._disabled=!1,this.id="igx-drop-down-item-"+qn++,this.role="option"}return Object.defineProperty(e.prototype,"hasIndex",{get:function(){return null!==this._index&&this._index!==undefined},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemID",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return null===this._index?(Zn=In('IgxDropDownItemBase: Automatic index is deprecated.Bind in the template instead using `<igx-drop-down-item [index]="i"` instead.`',Zn),this.itemIndex):this._index},set:function(e){this._index=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemStyle",{get:function(){return!this.isHeader},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemStyleCosy",{get:function(){return"cosy"===this.dropDown.displayDensity&&!this.isHeader},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemStyleCompact",{get:function(){return"compact"===this.dropDown.displayDensity&&!this.isHeader},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(e){this.isHeader||(this._selected=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelected",{get:function(){return this.selected},set:function(e){this.selected=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"focused",{get:function(){return!this.isHeader&&!this.disabled&&this._focused},set:function(e){this._focused=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFocused",{get:function(){return this.focused},set:function(e){this.focused=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerClassCosy",{get:function(){return this.isHeader&&"cosy"===this.dropDown.displayDensity},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerClassCompact",{get:function(){return this.isHeader&&"compact"===this.dropDown.displayDensity},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.group&&this.group.disabled||this._disabled},set:function(e){this._disabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemIndex",{get:function(){return this.dropDown.items.indexOf(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"elementHeight",{get:function(){return this.elementRef.nativeElement.clientHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.elementRef},enumerable:!0,configurable:!0}),e.prototype.clicked=function(e){},e.prototype.ngDoCheck=function(){if(this._selected){var e=this.dropDown.selectedItem;e?(this.hasIndex?this._index!==e.index||this.value!==e.value:this!==e)&&this.dropDown.selectItem(this):this.dropDown.selectItem(this)}},e.ctorParameters=function(){return[{type:undefined,decorators:[{type:b.Inject,args:[Kn]}]},{type:b.ElementRef},{type:Xn,decorators:[{type:b.Optional}]},{type:$n,decorators:[{type:b.Optional},{type:b.Inject,args:[$n]}]}]},e.propDecorators={id:[{type:b.HostBinding,args:["attr.id"]},{type:b.Input}],index:[{type:b.Input}],value:[{type:b.Input}],itemStyle:[{type:b.HostBinding,args:["class.igx-drop-down__item"]}],itemStyleCosy:[{type:b.HostBinding,args:["class.igx-drop-down__item--cosy"]}],itemStyleCompact:[{type:b.HostBinding,args:["class.igx-drop-down__item--compact"]}],selected:[{type:b.Input},{type:b.HostBinding,args:["attr.aria-selected"]},{type:b.HostBinding,args:["class.igx-drop-down__item--selected"]}],isSelected:[{type:b.Input}],focused:[{type:b.HostBinding,args:["class.igx-drop-down__item--focused"]}],isHeader:[{type:b.Input},{type:b.HostBinding,args:["class.igx-drop-down__header"]}],headerClassCosy:[{type:b.HostBinding,args:["class.igx-drop-down__header--cosy"]}],headerClassCompact:[{type:b.HostBinding,args:["class.igx-drop-down__header--compact"]}],disabled:[{type:b.Input},{type:b.HostBinding,args:["attr.aria-disabled"]},{type:b.HostBinding,args:["class.igx-drop-down__item--disabled"]}],role:[{type:b.Input},{type:b.HostBinding,args:["attr.role"]}],clicked:[{type:b.HostListener,args:["click",["$event"]]}]},y([Sn("IgxDropDownItemBase `isSelected` property is deprecated.\nUse `selected` instead."),C("design:type",Boolean),C("design:paramtypes",[Boolean])],e.prototype,"isSelected",null),y([Sn("IgxDropDownItemBase `isFocused` property is depracated.\nUse `focused` instead."),C("design:type",Boolean),C("design:paramtypes",[Boolean])],e.prototype,"isFocused",null),e}(),Qn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),Object.defineProperty(t.prototype,"focused",{get:function(){var e=this._focused;if(this.hasIndex){var t=this.selection.first_item(this.dropDown.id+"-active"),i=t?t.index:-1;e=this._index===i}return!this.isHeader&&!this.disabled&&e},set:function(e){this._focused=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){if(this.hasIndex){var e=this.selection.first_item(""+this.dropDown.id);return!!e&&(e.index===this._index&&e.value===this.value)}return this._selected},set:function(e){this.isHeader||(this._selected=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setTabIndex",{get:function(){return this.dropDown.allowItemsFocus&&!(this.disabled||this.isHeader)?0:null},enumerable:!0,configurable:!0}),t.prototype.clicked=function(e){if(this.disabled||this.isHeader){var t=this.dropDown.items.find(function(e){return e.focused});this.dropDown.allowItemsFocus&&t&&t.element.nativeElement.focus({preventScroll:!0})}else this.selection&&this.dropDown.selectItem(this,e)},t.prototype.mousedownHandler=function(e){e.preventDefault()},t.decorators=[{type:b.Component,args:[{selector:"igx-drop-down-item",template:"<ng-content></ng-content>"}]}],t.propDecorators={setTabIndex:[{type:b.HostBinding,args:["attr.tabindex"]}],clicked:[{type:b.HostListener,args:["click",["$event"]]}],mousedownHandler:[{type:b.HostListener,args:["mousedown",["$event"]]}]},t}(Jn),er={comfortable:"comfortable",cosy:"cosy",compact:"compact"},tr=new b.InjectionToken("DisplayDensity"),ir=function(){function e(e){this.displayDensityOptions=e,this.onDensityChanged=new b.EventEmitter,this.oldDisplayDensityOptions={displayDensity:er.comfortable},Object.assign(this.oldDisplayDensityOptions,e)}return Object.defineProperty(e.prototype,"displayDensity",{get:function(){return this._displayDensity||this.displayDensityOptions&&this.displayDensityOptions.displayDensity||er.comfortable},set:function(e){var t=this._displayDensity;if(this._displayDensity=e,t!==this._displayDensity){var i={oldDensity:t,newDensity:this._displayDensity};this.onDensityChanged.emit(i)}},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.initialDensity=this._displayDensity},e.prototype.ngDoCheck=function(){if(!this._displayDensity&&this.displayDensityOptions&&this.oldDisplayDensityOptions.displayDensity!==this.displayDensityOptions.displayDensity){var e={oldDensity:this.oldDisplayDensityOptions.displayDensity,newDensity:this.displayDensityOptions.displayDensity};this.onDensityChanged.emit(e),this.oldDisplayDensityOptions=Object.assign(this.oldDisplayDensityOptions,this.displayDensityOptions)}},e.prototype.getComponentDensityClass=function(e){switch(this.displayDensity){case er.cosy:return e+"--"+er.cosy;case er.compact:return e+"--"+er.compact;default:return e}},e.propDecorators={displayDensity:[{type:b.Input}],onDensityChanged:[{type:b.Output}]},e}(),nr=0,rr=function(r){function e(e,t,i){var n=r.call(this,i)||this;return n.elementRef=e,n.cdr=t,n._displayDensityOptions=i,n._focusedItem=null,n._id="igx-drop-down-"+nr++,n.onSelection=new b.EventEmitter,n.maxHeight=null,n.cssClass=!0,n}return f(e,r),Object.defineProperty(e.prototype,"scrollContainer",{get:function(){return this.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e,t,i=[];if(this.children!==undefined)try{for(var n=S(this.children.toArray()),r=n.next();!r.done;r=n.next()){var o=r.value;o.isHeader||i.push(o)}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n["return"])&&t.call(n)}finally{if(e)throw e.error}}return i},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headers",{get:function(){var e,t,i=[];if(this.children!==undefined)try{for(var n=S(this.children.toArray()),r=n.next();!r.done;r=n.next()){var o=r.value;o.isHeader&&i.push(o)}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n["return"])&&t.call(n)}finally{if(e)throw e.error}}return i},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),e.prototype.onItemActionKey=function(e,t){switch(e){case Wn:case Un:this.selectItem(this.focusedItem,t)}},e.prototype.selectItem=function(e,t){this.onSelection.emit({newSelection:e,oldSelection:null,cancel:!1})},Object.defineProperty(e.prototype,"focusedItem",{get:function(){return this._focusedItem},set:function(e){this._focusedItem=e},enumerable:!0,configurable:!0}),e.prototype.navigate=function(e,t){var i=-1;this._focusedItem&&(i=t||this.focusedItem.itemIndex);var n=this.getNearestSiblingFocusableItemIndex(i,e);this.navigateItem(n)},e.prototype.getNearestSiblingFocusableItemIndex=function(e,t){for(var i=e,n=this.items;n[i+t]&&n[i+t].disabled;)i+=t;return 0<=(i+=t)&&i<n.length?i:-1},e.prototype.navigateItem=function(e){if(-1!==e){var t=this._focusedItem,i=this.items[e];t&&(t.focused=!1),this.focusedItem=i,this.scrollToHiddenItem(i),this.focusedItem.focused=!0}},e.prototype.navigateFirst=function(){this.navigate(Gn.Down,-1)},e.prototype.navigateLast=function(){this.navigate(Gn.Up,this.items.length)},e.prototype.navigateNext=function(){this.navigate(Gn.Down)},e.prototype.navigatePrev=function(){this.navigate(Gn.Up)},e.prototype.scrollToHiddenItem=function(e){var t=e.element.nativeElement.getBoundingClientRect(),i=this.scrollContainer.getBoundingClientRect();i.top>t.top&&(this.scrollContainer.scrollTop-=i.top-t.top),i.bottom<t.bottom&&(this.scrollContainer.scrollTop+=t.bottom-i.bottom)},e.ctorParameters=function(){return[{type:b.ElementRef},{type:b.ChangeDetectorRef},{type:undefined,decorators:[{type:b.Optional},{type:b.Inject,args:[tr]}]}]},e.propDecorators={onSelection:[{type:b.Output}],width:[{type:b.Input}],height:[{type:b.Input}],id:[{type:b.Input}],maxHeight:[{type:b.Input},{type:b.HostBinding,args:["style.maxHeight"]}],cssClass:[{type:b.HostBinding,args:["class.igx-drop-down"]}]},e}(ir),or=function(){function e(e,t){this.cdr=e,this._viewContainer=t,this.cssClass="igx-display-container",this.notVirtual=!0}return e.decorators=[{type:b.Component,args:[{selector:"igx-display-container",template:'\n        <ng-template\n            #display_container\n            igxScrollInertia\n            [IgxScrollInertiaScrollContainer]="scrollContainer"\n            [IgxScrollInertiaDirection]="scrollDirection">\n        </ng-template>\n    '}]}],e.ctorParameters=function(){return[{type:b.ChangeDetectorRef},{type:b.ViewContainerRef}]},e.propDecorators={_vcr:[{type:b.ViewChild,args:["display_container",{read:b.ViewContainerRef}]}],cssClass:[{type:b.HostBinding,args:["class"]}],notVirtual:[{type:b.HostBinding,args:["class.igx-display-container--inactive"]}]},e}(),sr=function(){function e(e){this.elementRef=e,this.cssClasses="igx-vhelper--horizontal"}return e.decorators=[{type:b.Component,args:[{selector:"igx-horizontal-virtual-helper",template:'<div #horizontal_container class="igx-vhelper__placeholder-content" [style.width.px]="width"></div>'}]}],e.ctorParameters=function(){return[{type:b.ElementRef}]},e.propDecorators={_vcr:[{type:b.ViewChild,args:["horizontal_container",{read:b.ViewContainerRef}]}],width:[{type:b.Input}],cssClasses:[{type:b.HostBinding,args:["class"]}]},e}(),ar=function(){function e(e,t){this.elementRef=e,this.cdr=t,this.cssClasses="igx-vhelper--vertical"}return Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(e){this.destroyed||(this._height=e,this.cdr.detectChanges())},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.destroyed=!0},e.decorators=[{type:b.Component,args:[{selector:"igx-virtual-helper",template:'<div #container class="igx-vhelper__placeholder-content" [style.height.px]="height"></div>'}]}],e.ctorParameters=function(){return[{type:b.ElementRef},{type:b.ChangeDetectorRef}]},e.propDecorators={scrollTop:[{type:b.HostBinding,args:["scrollTop"]}],_vcr:[{type:b.ViewChild,args:["container",{read:b.ViewContainerRef}]}],itemsLength:[{type:b.Input}],cssClasses:[{type:b.HostBinding,args:["class"]}]},e}(),lr=function(){function e(e,t){this.element=e,this._zone=t,this.wheelStep=50,this.inertiaStep=1.5,this.swipeToleranceX=20,this.inertiaDeltaY=3,this.inertiaDeltaX=2,this.inertiaDuration=.5,this._savedSpeedsX=[],this.setPointerCaptureFName="function"==typeof Element.prototype.msSetPointerCapture?"msSetPointerCapture":"setPointerCapture",this.releasePointerCaptureFName="function"==typeof Element.prototype.msReleasePointerCapture?"msReleasePointerCapture":"releasePointerCapture"}return e.prototype.ngOnInit=function(){var t=this;this._zone.runOutsideAngular(function(){var e=t.element.nativeElement.parentElement||t.element.nativeElement.parentNode;e.addEventListener("wheel",function(e){t.onWheel(e)}),e.addEventListener("touchstart",function(e){t.onTouchStart(e)}),e.addEventListener("touchmove",function(e){t.onTouchMove(e)}),e.addEventListener("touchend",function(e){t.onTouchEnd(e)}),e.addEventListener("pointerdown",function(e){t.onPointerDown(e)}),e.addEventListener("pointerup",function(e){t.onPointerUp(e)}),e.addEventListener("MSGestureStart",function(e){t.onMSGestureStart(e)}),e.addEventListener("MSGestureChange",function(e){t.onMSGestureChange(e)})})},e.prototype.onWheel=function(e){if(this.IgxScrollInertiaScrollContainer){var t,i,n=this.wheelStep,r=1/this.wheelStep;if(this._startX=this.IgxScrollInertiaScrollContainer.scrollLeft,this._startY=this.IgxScrollInertiaScrollContainer.scrollTop,e.wheelDeltaX?-r<(t=-e.wheelDeltaX/120)&&t<r&&(t=Math.sign(t)*r):e.deltaX&&(t=this.calcAxisCoords(e.deltaX,-1,1)),e.wheelDeltaY?-r<(i=-e.wheelDeltaY/120)&&i<r&&(i=Math.sign(i)*r):e.deltaY&&(i=this.calcAxisCoords(e.deltaY,-1,1)),t&&"horizontal"===this.IgxScrollInertiaDirection){this._scrollToX(this._startX+t*n);var o=this.IgxScrollInertiaScrollContainer.scrollLeft,s=parseInt(this.IgxScrollInertiaScrollContainer.children[0].style.width,10);0<o&&o<s&&e.preventDefault()}else i&&"vertical"===this.IgxScrollInertiaDirection&&(this._scrollToY(this._startY+i*n),this.preventParentScroll(e))}},e.prototype.preventParentScroll=function(e){var t=this.IgxScrollInertiaScrollContainer.scrollTop,i=this.IgxScrollInertiaScrollContainer.children[0].scrollHeight-this.IgxScrollInertiaScrollContainer.offsetHeight;0<t&&t<i&&(e.preventDefault(),e.stopPropagation&&e.stopPropagation())},e.prototype.onTouchStart=function(e){if("function"==typeof MSGesture||!this.IgxScrollInertiaScrollContainer)return!1;cancelAnimationFrame(this._touchInertiaAnimID);var t=e.touches[0];this._startX=this.IgxScrollInertiaScrollContainer.scrollLeft,this._startY=this.IgxScrollInertiaScrollContainer.scrollTop,this._touchStartX=t.pageX,this._touchStartY=t.pageY,this._lastTouchEnd=(new Date).getTime(),this._lastTouchX=t.pageX,this._lastTouchY=t.pageY,this._savedSpeedsX=[],this._savedSpeedsY=[],this._totalMovedX=0,this._offsetRecorded=!1,this._offsetDirection=0,this._touchPrevented=!1,"vertical"===this.IgxScrollInertiaDirection&&this.preventParentScroll(e)},e.prototype.onTouchMove=function(e){if("function"==typeof MSGesture)return this._touchPrevented=!1;if(this.IgxScrollInertiaScrollContainer){var t,i=e.touches[0],n=this._startX+(this._touchStartX-i.pageX)*Math.sign(this.inertiaStep),r=this._startY+(this._touchStartY-i.pageY)*Math.sign(this.inertiaStep),o=(new Date).getTime()-this._lastTouchEnd;if(0!==o&&o<100){var s=(this._lastTouchX-i.pageX)/o,a=(this._lastTouchY-i.pageY)/o;this._savedSpeedsX.length<5||this._savedSpeedsX.shift(),this._savedSpeedsX.push(s),this._savedSpeedsY.length<5||this._savedSpeedsY.shift(),this._savedSpeedsY.push(a)}this._lastTouchEnd=(new Date).getTime(),this._lastMovedX=this._lastTouchX-i.pageX,this._lastMovedY=this._lastTouchY-i.pageY,this._lastTouchX=i.pageX,this._lastTouchY=i.pageY,this._totalMovedX+=this._lastMovedX,0===(t=Math.abs(this._totalMovedX)<this.swipeToleranceX&&!this._offsetRecorded?this._scrollTo(this._startX,r):(this._offsetRecorded||(this._offsetDirection=Math.sign(n-this._startX),this._offsetRecorded=!0),this._scrollTo(n-this._offsetDirection*this.swipeToleranceX,r))).x&&0===t.y&&(this._touchPrevented=!0),"vertical"===this.IgxScrollInertiaDirection&&this.preventParentScroll(e)}},e.prototype.onTouchEnd=function(e){if("function"!=typeof MSGesture){for(var t=0,i=0,n=0;n<this._savedSpeedsX.length;n++)t+=this._savedSpeedsX[n],i+=this._savedSpeedsY[n];t=this._savedSpeedsX.length?t/this._savedSpeedsX.length:0,i=this._savedSpeedsX.length?i/this._savedSpeedsY.length:0,(.1<Math.abs(t)||.1<Math.abs(i))&&(2<Math.abs(this._lastMovedX)||2<Math.abs(this._lastMovedY))&&this._inertiaInit(t,i),"vertical"===this.IgxScrollInertiaDirection&&this.preventParentScroll(e)}},e.prototype.onPointerDown=function(e){if(!e||2!==e.pointerType&&"touch"!==e.pointerType||"function"!=typeof MSGesture)return!0;this.IgxScrollInertiaScrollContainer&&(e.target[this.setPointerCaptureFName](this._pointer=e.pointerId),this._gestureObject||(this._gestureObject=new MSGesture,this._gestureObject.target=this.element.nativeElement.parentElement||this.element.nativeElement.parentNode),this._gestureObject.addPointer(this._pointer))},e.prototype.onPointerUp=function(e){if(!this._pointer)return!0;this.IgxScrollInertiaScrollContainer&&(e.target[this.releasePointerCaptureFName](this._pointer),delete this._pointer)},e.prototype.onMSGestureStart=function(e){if(this.IgxScrollInertiaScrollContainer)return this._startX=this.IgxScrollInertiaScrollContainer.scrollLeft,this._startY=this.IgxScrollInertiaScrollContainer.scrollTop,this._touchStartX=e.screenX,this._touchStartY=e.screenY,this._totalMovedX=0,this._offsetRecorded=!1,this._offsetDirection=0,!1},e.prototype.onMSGestureChange=function(e){if(this.IgxScrollInertiaScrollContainer){var t=e,i=this._startX+this._touchStartX-t.screenX,n=this._startY+this._touchStartY-t.screenY;return this._totalMovedX=this._touchStartX-t.screenX,Math.abs(this._totalMovedX)<this.swipeToleranceX&&!this._offsetRecorded?this._scrollToY(n):(this._offsetRecorded||(this._offsetDirection=Math.sign(i-this._startX),this._offsetRecorded=!0),this._scrollTo(i-this._offsetDirection*this.swipeToleranceX,n)),!1}},e.prototype.calcAxisCoords=function(e,t,i){return e===undefined||e<t?e=t:i<e&&(e=i),e},e.prototype._scrollTo=function(e,t){this.IgxScrollInertiaScrollContainer.scrollLeft,this.IgxScrollInertiaScrollContainer.scrollTop;return{x:this._scrollToX(e),y:this._scrollToY(t)}},e.prototype._scrollToX=function(e){this.IgxScrollInertiaScrollContainer.scrollLeft=e},e.prototype._scrollToY=function(e){this.IgxScrollInertiaScrollContainer.scrollTop=e},e.prototype._inertiaInit=function(e,t){var i=this,n=this.inertiaStep,r=this.inertiaDuration,o=0;this._nextX=this.IgxScrollInertiaScrollContainer.scrollLeft,this._nextY=this.IgxScrollInertiaScrollContainer.scrollTop;var s=function(){6<o?cancelAnimationFrame(i._touchInertiaAnimID):(Math.abs(e),Math.abs(t),(o+=.05/(1*r))<=1?(Math.abs(t)<=Math.abs(e)*i.inertiaDeltaY&&(i._nextX+=1*e*15*n),Math.abs(t)>=Math.abs(e)*i.inertiaDeltaX&&(i._nextY+=1*t*15*n)):(Math.abs(t)<=Math.abs(e)*i.inertiaDeltaY&&(i._nextX+=Math.abs(2/(o+.55)-.3)*e*15*n),Math.abs(t)>=Math.abs(e)*i.inertiaDeltaX&&(i._nextY+=Math.abs(2/(o+.55)-.3)*t*15*n)),i._scrollTo(i._nextX,i._nextY),i._touchInertiaAnimID=requestAnimationFrame(s))};this._touchInertiaAnimID=requestAnimationFrame(s)},e.prototype.ngOnDestroy=function(){var t=this;this._zone.runOutsideAngular(function(){var e=t.element.nativeElement.parentElement||t.element.nativeElement.parentNode;e.removeEventListener("wheel",function(e){t.onWheel(e)}),e.removeEventListener("touchstart",function(e){t.onTouchStart(e)}),e.removeEventListener("touchmove",function(e){t.onTouchMove(e)}),e.removeEventListener("touchend",function(e){t.onTouchEnd(e)}),e.removeEventListener("pointerdown",function(e){t.onPointerDown(e)}),e.removeEventListener("pointerup",function(e){t.onPointerUp(e)}),e.removeEventListener("MSGestureStart",function(e){t.onMSGestureStart(e)}),e.removeEventListener("MSGestureChange",function(e){t.onMSGestureChange(e)})})},e.decorators=[{type:b.Directive,args:[{selector:"[igxScrollInertia]"}]}],e.ctorParameters=function(){return[{type:b.ElementRef},{type:b.NgZone}]},e.propDecorators={IgxScrollInertiaDirection:[{type:b.Input}],IgxScrollInertiaScrollContainer:[{type:b.Input}],wheelStep:[{type:b.Input}],inertiaStep:[{type:b.Input}],swipeToleranceX:[{type:b.Input}],inertiaDeltaY:[{type:b.Input}],inertiaDeltaX:[{type:b.Input}],inertiaDuration:[{type:b.Input}]},e}(),cr=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[lr],exports:[lr],imports:[r.CommonModule]}]}],e}(),pr=function(){function e(){this._master=new Map}return e.prototype.isMaster=function(e){return this._master.get(e.igxForScrollOrientation)===e},e.prototype.setMaster=function(e,t){void 0===t&&(t=!1);var i=e.igxForScrollOrientation;!i||!t&&this._master.has(i)||this._master.set(i,e)},e.prototype.resetMaster=function(){this._master.clear()},e.prototype.sizesCache=function(e){return this._master.get(e).sizesCache},e.prototype.chunkSize=function(e){return this._master.get(e).state.chunkSize},e.decorators=[{type:b.Injectable,args:[{providedIn:"root"}]}],e.ngInjectableDef=b.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),ur=function(){function e(e,t,i,n,r,o){this._viewContainer=e,this._template=t,this._differs=i,this.resolver=n,this.cdr=r,this._zone=o,this.state={startIndex:0,chunkSize:0},this.totalItemCount=null,this.onChunkLoad=new b.EventEmitter,this.onDataChanged=new b.EventEmitter,this.onBeforeViewDestroyed=new b.EventEmitter,this.onChunkPreload=new b.EventEmitter,this._sizesCache=[],this._differ=null,this.heightCache=[],this.MAX_PERF_SCROLL_DIFF=4,this._virtHeight=0,this._virtHeightRatio=1,this._virtScrollTop=0,this._bScrollInternal=!1,this._embeddedViews=[]}return Object.defineProperty(e.prototype,"sizesCache",{get:function(){return this._sizesCache},set:function(e){this._sizesCache=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_isScrolledToBottom",{get:function(){if(!this.getVerticalScroll())return!0;var e=this.getVerticalScroll().scrollTop,t=this.getVerticalScroll().scrollHeight;return Math.round(e+this.igxForContainerSize)===t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_isAtBottomIndex",{get:function(){return this.igxForOf&&this.state.startIndex+this.state.chunkSize>this.igxForOf.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRemote",{get:function(){return null!==this.totalItemCount},enumerable:!0,configurable:!0}),e.prototype.removeScrollEventListeners=function(){var e=this;if("horizontal"===this.igxForScrollOrientation)this._zone.runOutsideAngular(function(){return e.getHorizontalScroll().removeEventListener("scroll",e.func)});else{var t=this.getVerticalScroll();t&&this._zone.runOutsideAngular(function(){return t.removeEventListener("scroll",e.verticalScrollHandler)})}},e.prototype.verticalScrollHandler=function(e){this.onScroll(e)},e.prototype.isScrollable=function(){return this.vh.instance.height>parseInt(this.igxForContainerSize,10)},e.prototype.ngOnInit=function(){var t=this,e=0,i=this.igxForScrollContainer?this.igxForScrollContainer._viewContainer:this._viewContainer;this.igxForSizePropName=this.igxForSizePropName||"width";var n=this.resolver.resolveComponentFactory(or);if(this.dc=this._viewContainer.createComponent(n,0),this.dc.instance.scrollDirection=this.igxForScrollOrientation,"function"==typeof MSGesture&&(this.dc.instance._viewContainer.element.nativeElement.style.touchAction="none"),this.igxForOf&&this.igxForOf.length){this.dc.instance.notVirtual=!(this.igxForContainerSize&&this.state.chunkSize<this.igxForOf.length),e=this.initSizesCache(this.igxForOf),this.hScroll=this.getElement(i,"igx-horizontal-virtual-helper"),this.hScroll&&(this.state.startIndex=this.getIndexAt(this.hScroll.scrollLeft,this.sizesCache,0)),this.state.chunkSize=this._calculateChunkSize();for(var r=0;r<this.state.chunkSize&&this.igxForOf[r]!==undefined;r++){var o=this.igxForOf[r],s=this.dc.instance._vcr.createEmbeddedView(this._template,{$implicit:o,index:this.igxForOf.indexOf(o)});this._embeddedViews.push(s)}}if("vertical"===this.igxForScrollOrientation){this.dc.instance._viewContainer.element.nativeElement.style.top="0px";var a=this.resolver.resolveComponentFactory(ar);this.vh=i.createComponent(a),this._maxHeight=this._calcMaxBrowserHeight(),this.vh.instance.height=this.igxForOf?this._calcHeight():0,this._zone.runOutsideAngular(function(){t.verticalScrollHandler=t.verticalScrollHandler.bind(t),t.vh.instance.elementRef.nativeElement.addEventListener("scroll",t.verticalScrollHandler),t.dc.instance.scrollContainer=t.vh.instance.elementRef.nativeElement})}if("horizontal"===this.igxForScrollOrientation){if(this.func=function(e){t.onHScroll(e)},this.hScroll=this.getElement(i,"igx-horizontal-virtual-helper"),this.hScroll)this._zone.runOutsideAngular(function(){t.hScroll.addEventListener("scroll",t.func),t.dc.instance.scrollContainer=t.hScroll});else{var l=this.resolver.resolveComponentFactory(sr);this.hvh=i.createComponent(l),this.hvh.instance.width=e,this.hScroll=this.hvh.instance.elementRef.nativeElement,this._zone.runOutsideAngular(function(){t.hvh.instance.elementRef.nativeElement.addEventListener("scroll",t.func),t.dc.instance.scrollContainer=t.hScroll})}var c=this.hScroll.scrollLeft-(this.sizesCache&&this.sizesCache.length?this.sizesCache[this.state.startIndex]:0);this.dc.instance._viewContainer.element.nativeElement.style.left=-c+"px"}},e.prototype.ngOnDestroy=function(){this.removeScrollEventListeners()},e.prototype.ngOnChanges=function(e){var t="igxForOf";if(t in e){var i=e[t].currentValue;if(!this._differ&&i)try{this._differ=this._differs.find(i).create(this.igxForTrackBy)}catch(o){throw new Error('Cannot find a differ supporting object "'+i+'" of type "'+dr(i)+'".\n                     NgFor only supports binding to Iterables such as Arrays.')}}var n="igxForItemSize";n in e&&!e[n].firstChange&&"vertical"===this.igxForScrollOrientation&&(this.initSizesCache(this.igxForOf),this._applyChanges());var r="igxForContainerSize";r in e&&!e[r].firstChange&&this.igxForOf&&this._recalcOnContainerChange(e)},e.prototype.ngDoCheck=function(){var e=this;if(this._differ&&this._differ.diff(this.igxForOf)){if(!this.igxForOf)return;this._updateSizeCache(),this._zone.run(function(){e._applyChanges(),e.cdr.markForCheck(),e._updateScrollOffset(),e.onDataChanged.emit()})}},e.prototype.addScrollTop=function(e){if(0===e&&"horizontal"===this.igxForScrollOrientation)return!1;var t=this._virtScrollTop,i=parseInt(this.igxForContainerSize,10),n=this._virtHeight-i;if(this._bScrollInternal=!0,this._virtScrollTop+=e,this._virtScrollTop=0<this._virtScrollTop?this._virtScrollTop<n?this._virtScrollTop:n:0,this.vh.instance.elementRef.nativeElement.scrollTop+=e/this._virtHeightRatio,Math.abs(e/this._virtHeightRatio)<1){var r=this.fixedUpdateAllElements(this._virtScrollTop);this.dc.instance._viewContainer.element.nativeElement.style.top=-r+"px"}var o=this.vh.instance.elementRef.nativeElement.scrollTop,s=this.vh.instance.elementRef.nativeElement.scrollHeight-i;return 0<this._virtScrollTop&&0===o||this._virtScrollTop<n&&o===s?this.vh.instance.elementRef.nativeElement.scrollTop=this._virtScrollTop/this._virtHeightRatio:0===this._virtScrollTop&&0<o?this.vh.instance.elementRef.nativeElement.scrollTop=0:this._virtScrollTop===n&&o<s&&(this.vh.instance.elementRef.nativeElement.scrollTop=s),this._virtScrollTop!==t},e.prototype.scrollTo=function(e){if(!(e<0||e>(this.isRemote?this.totalItemCount:this.igxForOf.length)-1)){var t=parseInt(this.igxForContainerSize,10),i="horizontal"===this.igxForScrollOrientation?this.hScroll.scrollLeft:this.vh.instance.elementRef.nativeElement.scrollTop,n=e<this.state.startIndex||i>this.sizesCache[e],r=n?this.sizesCache[e]:this.sizesCache[e+1]-t;if(!(r<0))if("horizontal"===this.igxForScrollOrientation)this.hScroll.scrollLeft=r;else{var o=this._virtHeight-t;o<r&&(r=o),this._bScrollInternal=!0,this._virtScrollTop=r,this.vh.instance.elementRef.nativeElement.scrollTop=this._virtScrollTop/this._virtHeightRatio,this._adjustToIndex=n?null:e}}},e.prototype.scrollNext=function(){var e=Math.ceil("horizontal"===this.igxForScrollOrientation?this.hScroll.scrollLeft:this.vh.instance.elementRef.nativeElement.scrollTop),t=this.getIndexAt(e+parseInt(this.igxForContainerSize,10),this.sizesCache,0);this.scrollTo(t)},e.prototype.scrollPrev=function(){this.scrollTo(this.state.startIndex-1)},e.prototype.scrollNextPage=function(){"horizontal"===this.igxForScrollOrientation?this.hvh.instance.elementRef.nativeElement.scrollLeft+=parseInt(this.igxForContainerSize,10):this.addScrollTop(parseInt(this.igxForContainerSize,10))},e.prototype.scrollPrevPage=function(){if("horizontal"===this.igxForScrollOrientation)this.hvh.instance.elementRef.nativeElement.scrollLeft-=parseInt(this.igxForContainerSize,10);else{var e=parseInt(this.igxForContainerSize,10);this.addScrollTop(-e)}},e.prototype.getColumnScrollLeft=function(e){return this.sizesCache[e]},e.prototype.getVerticalScroll=function(){return this.vh?this.vh.instance.elementRef.nativeElement:null},e.prototype.getItemCountInView=function(){var e="horizontal"===this.igxForScrollOrientation?this.hScroll.scrollLeft:this.vh.instance.elementRef.nativeElement.scrollTop,t=this.getIndexAt(e,this.sizesCache,0);return 0<e-this.sizesCache[t]&&t++,this.getIndexAt(e+parseInt(this.igxForContainerSize,10),this.sizesCache,0)-t},e.prototype.getHorizontalScroll=function(){return this.getElement(this._viewContainer,"igx-horizontal-virtual-helper")||this.hScroll},e.prototype.getSizeAt=function(e){return this.sizesCache[e+1]-this.sizesCache[e]},e.prototype.getScrollForIndex=function(e,t){var i=parseInt(this.igxForContainerSize,10);return t?Math.max(0,this.sizesCache[e+1]-i):this.sizesCache[e]},e.prototype.onScroll=function(e){var t=this;if(parseInt(this.vh.instance.elementRef.nativeElement.style.height,10)){var i=parseInt(this.igxForContainerSize,10),n=e.target.children[0].scrollHeight-i,r=e.target.scrollTop/n;if(this._bScrollInternal)this._bScrollInternal=!1;else{var o=this._virtHeight-i;this._virtScrollTop=r*o}var s=this.state.startIndex,a=this.fixedUpdateAllElements(this._virtScrollTop);this.dc.instance._viewContainer.element.nativeElement.style.top=-a+"px",requestAnimationFrame(function(){t.recalcUpdateSizes()}),this.dc.changeDetectorRef.detectChanges(),s!==this.state.startIndex&&this.onChunkLoad.emit(this.state)}},e.prototype.recalcUpdateSizes=function(){for(var e="horizontal"===this.igxForScrollOrientation?this.igxForSizePropName:"height",t=[],i=0,n=0;n<this._embeddedViews.length;n++){var r=this._embeddedViews[n].rootNodes.find(function(e){return e.nodeType===Node.ELEMENT_NODE});if(r){var o=r.offsetHeight?r.offsetHeight:parseInt(this.igxForItemSize,10),s=this.state.startIndex+n;if(!this.isRemote&&!this.igxForOf[s])continue;var a="height"===e?this.heightCache[s]:this.igxForOf[s][e],l="height"===e?o:r.clientWidth;"height"===e?this.heightCache[s]=l:this.igxForOf[s][e]=l;var c=l-a;t.push(c),i+=c,this.sizesCache[s+1]+=i}}if(0<Math.abs(i)){for(var p=this.state.startIndex+this.state.chunkSize+1;p<this.sizesCache.length;p++)this.sizesCache[p]+=i;if("horizontal"===this.igxForScrollOrientation){var u=parseInt(this.hScroll.children[0].style.width,10)+i;this.hScroll.children[0].style.width=u+"px"}var d=function(e,t){return e+t};if("vertical"===this.igxForScrollOrientation){var h=this._isScrolledToBottom&&!this.dc.instance.notVirtual,g=this.heightCache.reduce(d);if(g>this._maxHeight&&(this._virtHeightRatio=g/this._maxHeight),this.vh.instance.height=Math.min(this.vh.instance.height+i,this._maxHeight),this._virtHeight=g,this.vh.instance.destroyed||this.vh.instance.cdr.detectChanges(),h&&!this._isAtBottomIndex){var f=parseInt(this.igxForContainerSize,10),m=this.fixedUpdateAllElements(this._virtHeight-f);return void(this.dc.instance._viewContainer.element.nativeElement.style.top=-m+"px")}if(this._adjustToIndex){var y=this._adjustToIndex-this.state.startIndex+1,v=t.slice(0,y).reduce(d),x=parseInt(this.dc.instance._viewContainer.element.nativeElement.style.top,10);this.dc.instance._viewContainer.element.nativeElement.style.top=x-v+"px",this._adjustToIndex=null}}}},e.prototype.fixedUpdateAllElements=function(e){var t=this.isRemote?this.totalItemCount:this.igxForOf.length,i=this.getIndexAt(e,this.sizesCache,0);i+this.state.chunkSize>t&&(i=t-this.state.chunkSize);var n=this.state.startIndex,r=i-this.state.startIndex;return this.state.startIndex=i,r&&(this.onChunkPreload.emit(this.state),this.isRemote||(0<r&&r<=this.MAX_PERF_SCROLL_DIFF?this.moveApplyScrollNext(n):r<0&&Math.abs(r)<=this.MAX_PERF_SCROLL_DIFF?this.moveApplyScrollPrev(n):this.fixedApplyScroll())),e-this.sizesCache[this.state.startIndex]},e.prototype.moveApplyScrollNext=function(e){for(var t=e+this.state.chunkSize,i=t;i<t+this.state.startIndex-e&&this.igxForOf[i]!==undefined;i++){var n=this.igxForOf[i],r=this._embeddedViews.shift(),o=r.context;o.$implicit=n,o.index=this.getContextIndex(n);var s=this.dc.instance._vcr.detach(0);this.dc.instance._vcr.insert(s),this._embeddedViews.push(r)}},e.prototype.moveApplyScrollPrev=function(e){for(var t=e-1;t>=this.state.startIndex&&this.igxForOf[t]!==undefined;t--){var i=this.igxForOf[t],n=this._embeddedViews.pop(),r=n.context;r.$implicit=i,r.index=this.getContextIndex(i);var o=this.dc.instance._vcr.detach(this.dc.instance._vcr.length-1);this.dc.instance._vcr.insert(o,0),this._embeddedViews.unshift(n)}},e.prototype.getContextIndex=function(e){return this.isRemote?this.state.startIndex+this.igxForOf.indexOf(e):this.igxForOf.indexOf(e)},e.prototype.fixedApplyScroll=function(){for(var e=0,t=this.state.startIndex+this.state.chunkSize,i=this.state.startIndex;i<t&&this.igxForOf[i]!==undefined;i++){var n=this.igxForOf[i],r=this._embeddedViews[e++].context;r.$implicit=n,r.index=this.getContextIndex(n)}},e.prototype.onHScroll=function(e){if(parseInt(this.hScroll.children[0].style.width,10)){var t=e.target.scrollLeft,i=this.state.startIndex,n=this.fixedUpdateAllElements(t);this.dc.instance._viewContainer.element.nativeElement.style.left=-n+"px",this.dc.changeDetectorRef.detectChanges(),i!==this.state.startIndex&&this.onChunkLoad.emit(this.state)}},Object.defineProperty(e.prototype,"igxForTrackBy",{get:function(){return this._trackByFn},set:function(e){this._trackByFn=e},enumerable:!0,configurable:!0}),e.prototype._applyChanges=function(){var e=this.state.chunkSize;if(this.applyChunkSizeChange(),this._recalcScrollBarSize(),this.igxForOf&&this.igxForOf.length&&this.dc){var t=Object.assign([],this._embeddedViews),i=this.state.startIndex,n=this.state.chunkSize+this.state.startIndex;this.isRemote&&(i=0,n=this.igxForOf.length);for(var r=i;r<n&&this.igxForOf[r]!==undefined;r++){var o=this.igxForOf[r],s=t.shift().context;s.$implicit=o,s.index=this.getContextIndex(o)}this.dc.changeDetectorRef.detectChanges(),e!==this.state.chunkSize&&this.onChunkLoad.emit(this.state),"vertical"===this.igxForScrollOrientation&&this.recalcUpdateSizes()}},e.prototype._calcMaxBrowserHeight=function(){var e=document.createElement("div"),t=e.style;t.position="absolute",t.top="9999999999999999px",document.body.appendChild(e);var i=Math.abs(e.getBoundingClientRect().top);return document.body.removeChild(e),i},e.prototype._calculateChunkSize=function(){var e=0;return null!==this.igxForContainerSize&&this.igxForContainerSize!==undefined?(this.sizesCache||this.initSizesCache(this.igxForOf),e=this._calcMaxChunkSize(),this.igxForOf&&e>this.igxForOf.length&&(e=this.igxForOf.length)):this.igxForOf&&(e=this.igxForOf.length),e},e.prototype.getElement=function(e,t){var i=e.element.nativeElement.parentNode.getElementsByTagName(t);return 0<i.length?i[0]:null},e.prototype.initSizesCache=function(e){var t=0,i=0,n="horizontal"===this.igxForScrollOrientation?this.igxForSizePropName:"height",r=0;this.sizesCache=[],this.heightCache=[],this.sizesCache.push(0);for(var o=this.isRemote?this.totalItemCount:e.length;r<o;r++)"height"===n?(i=parseInt(this.igxForItemSize,10)||0,this.heightCache.push(i)):i=this._getItemSize(e[r],n),t+=i,this.sizesCache.push(t);return t},e.prototype._updateSizeCache=function(){if("horizontal"!==this.igxForScrollOrientation){var e=this.vh.instance.elementRef.nativeElement,t=(0<this.heightCache.length?this.heightCache.reduce(function(e,t){return e+t}):0)-this.initSizesCache(this.igxForOf);if(0<Math.abs(t)&&0<e.scrollTop){this.recalcUpdateSizes();var i=parseInt(this.dc.instance._viewContainer.element.nativeElement.style.top,10);e.scrollTop=this.sizesCache[this.state.startIndex]-i}}else this.initSizesCache(this.igxForOf)},e.prototype._calcMaxChunkSize=function(){var i=this,e=0,t=0,n=0,r=[],o=0,s=parseInt(this.igxForContainerSize,10);if(!s)return 0;for(var a="horizontal"===this.igxForScrollOrientation?this.igxForSizePropName:"height",l=function(e,t){return e+i._getItemSize(t,a)};e<this.igxForOf.length;e++){var c=this.igxForOf[e];"height"===a&&(c={value:this.igxForOf[e],height:this.heightCache[e]});var p="height"===a?this.heightCache[e]:this._getItemSize(c,a);if((o=r.reduce(l,p))<s){if(r.push(c),t=r.length,e===this.igxForOf.length-1)for(var u="height"===a?r[0].value:r[0],d=this.igxForOf.indexOf(u)-1;0<=d&&o<=s;){u="height"===a?r[0].value:r[0],d=this.igxForOf.indexOf(u)-1;var h=this.igxForOf[d],g="height"===a?this.heightCache[d]:parseInt(h[a],10);o=r.reduce(l,g),r.unshift(h),t=r.length}}else r.push(c),t=r.length+1,r.shift();n<t&&(n=t)}return n},e.prototype.getIndexAt=function(e,t,i){var n=0,r=t.length-1;if(0===e)return 0;for(;n<=r;){var o=Math.floor((n+r)/2),s=e-t[o];if(0<s)n=o+1;else{if(!(s<0))return o;r=o-1}}return r},e.prototype._recalcScrollBarSize=function(){var e=this.isRemote?this.totalItemCount:this.igxForOf?this.igxForOf.length:0;if(this.dc.instance.notVirtual=!(this.igxForContainerSize&&this.dc&&this.state.chunkSize<e),"horizontal"===this.igxForScrollOrientation){var t=this.igxForContainerSize?this.initSizesCache(this.igxForOf):0;this.hScroll.style.width=this.igxForContainerSize+"px",this.hScroll.children[0].style.width=t+"px"}"vertical"===this.igxForScrollOrientation&&(this.vh.instance.elementRef.nativeElement.style.height=parseInt(this.igxForContainerSize,10)+"px",this.vh.instance.height=this._calcHeight())},e.prototype._calcHeight=function(){var e;return e=this.heightCache?this.heightCache.reduce(function(e,t){return e+t},0):this.initSizesCache(this.igxForOf),(this._virtHeight=e)>this._maxHeight&&(this._virtHeightRatio=e/this._maxHeight,e=this._maxHeight),e},e.prototype._recalcOnContainerChange=function(e){this.dc.instance._viewContainer.element.nativeElement.style.top="0px",this.dc.instance._viewContainer.element.nativeElement.style.left="0px";var t=this.state.chunkSize;if(this.applyChunkSizeChange(),this._recalcScrollBarSize(),t!==this.state.chunkSize&&this.onChunkLoad.emit(this.state),this.sizesCache&&this.hScroll&&0!==this.hScroll.scrollLeft){var i=this.fixedUpdateAllElements(this.hScroll.scrollLeft);this.dc.instance._viewContainer.element.nativeElement.style.left=-i+"px"}},e.prototype.removeLastElem=function(){var e=this._embeddedViews.pop();this.onBeforeViewDestroyed.emit(e),e.destroy(),this.state.chunkSize--},e.prototype.addLastElem=function(){var e=this,t=this.state.startIndex+this.state.chunkSize;if(this.isRemote||this.igxForOf){t>=this.igxForOf.length&&(t=this.igxForOf.length-this.state.chunkSize);var i=this.igxForOf[t],n=this.dc.instance._vcr.createEmbeddedView(this._template,{$implicit:i,index:t});this._embeddedViews.push(n),this.state.chunkSize++,this._zone.run(function(){e.cdr.markForCheck()})}},e.prototype.applyChunkSizeChange=function(){var e=this.isRemote?this.igxForOf?this.igxForOf.length:0:this._calculateChunkSize();if(e>this.state.chunkSize)for(var t=e-this.state.chunkSize,i=0;i<t;i++)this.addLastElem();else if(e<this.state.chunkSize)for(t=this.state.chunkSize-e,i=0;i<t;i++)this.removeLastElem()},e.prototype._updateScrollOffset=function(){"horizontal"===this.igxForScrollOrientation?this._updateHScrollOffset():this._updateVScrollOffset()},e.prototype._updateVScrollOffset=function(){var e,t=this.vh.instance.elementRef.nativeElement;e=t&&parseInt(t.style.height,10)?t.scrollTop-this.sizesCache[this.state.startIndex]:0,this.dc.instance._viewContainer.element.nativeElement.style.top=-e+"px"},e.prototype._updateHScrollOffset=function(){var e;e=this.hScroll&&parseInt(this.hScroll.children[0].style.width,10)?this.hScroll.scrollLeft-this.sizesCache[this.state.startIndex]:0,this.dc.instance._viewContainer.element.nativeElement.style.left=-e+"px"},e.prototype._getItemSize=function(e,t){var i=e[t];return"number"==typeof i?i:this.igxForItemSize},e.decorators=[{type:b.Directive,args:[{selector:"[igxFor][igxForOf]"}]}],e.ctorParameters=function(){return[{type:b.ViewContainerRef},{type:b.TemplateRef},{type:b.IterableDiffers},{type:b.ComponentFactoryResolver},{type:b.ChangeDetectorRef},{type:b.NgZone}]},e.propDecorators={igxForOf:[{type:b.Input}],igxForSizePropName:[{type:b.Input}],igxForScrollOrientation:[{type:b.Input}],igxForScrollContainer:[{type:b.Input}],igxForContainerSize:[{type:b.Input}],igxForItemSize:[{type:b.Input}],onChunkLoad:[{type:b.Output}],onDataChanged:[{type:b.Output}],onBeforeViewDestroyed:[{type:b.Output}],onChunkPreload:[{type:b.Output}],igxForTrackBy:[{type:b.Input}]},e}();function dr(e){return e.name||typeof e}var hr=function(l){function e(e,t,i,n,r,o,s){var a=l.call(this,e,t,i,n,r,o)||this;return a.syncService=s,a.onDataChanging=new b.EventEmitter,a}return f(e,l),Object.defineProperty(e.prototype,"igxGridForOf",{get:function(){return this.igxForOf},set:function(e){this.igxForOf=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.syncService.setMaster(this),l.prototype.ngOnInit.call(this),this.removeScrollEventListeners()},e.prototype.ngOnChanges=function(e){var t="igxGridForOf";if(this.syncService.setMaster(this),t in e){var i=e[t].currentValue;if(!this._differ&&i)try{this._differ=this._differs.find(i).create(this.igxForTrackBy)}catch(o){throw new Error('Cannot find a differ supporting object "'+i+'" of type "'+dr(i)+'".\n                     NgFor only supports binding to Iterables such as Arrays.')}}var n="igxForItemSize";n in e&&!e[n].firstChange&&"vertical"===this.igxForScrollOrientation&&this.initSizesCache(this.igxForOf);var r="igxForContainerSize";r in e&&!e[r].firstChange&&this.igxForOf&&this._recalcOnContainerChange(e)},Object.defineProperty(e.prototype,"sizesCache",{get:function(){return this.syncService.isMaster(this)?this._sizesCache:this.syncService.sizesCache(this.igxForScrollOrientation)},set:function(e){this._sizesCache=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemsDimension",{get:function(){return"horizontal"===this.igxForScrollOrientation?this.igxForSizePropName:"height"},enumerable:!0,configurable:!0}),e.prototype.getItemSize=function(e){var t=0,i="horizontal"===this.igxForScrollOrientation?this.igxForSizePropName:"height";return"height"===i?(t=parseInt(this.igxForItemSize,10)||0,e&&e.summaries?t=e.max:e&&e.groups&&e.height&&(t=e.height)):t=parseInt(e[i],10)||0,t},e.prototype.initSizesCache=function(e){if(!this.syncService.isMaster(this)){var t=this.syncService.sizesCache(this.igxForScrollOrientation);return t[t.length-1]}var i=0,n=0,r=0;this.sizesCache=[],this.heightCache=[],this.sizesCache.push(0);for(var o=this.isRemote?this.totalItemCount:e.length;r<o;r++)n=this.getItemSize(e[r]),"height"===this.itemsDimension&&this.heightCache.push(n),i+=n,this.sizesCache.push(i);return i},e.prototype._updateSizeCache=function(e){var t=this;if(void 0===e&&(e=null),"horizontal"!==this.igxForScrollOrientation){var i=this.vh.instance.elementRef.nativeElement,n=0<this.heightCache.length?this.heightCache.reduce(function(e,t){return e+t}):0,r=n-(e&&!this.isRemote?this.handleCacheChanges(e):this.initSizesCache(this.igxForOf));0<Math.abs(r)&&requestAnimationFrame(function(){t.recalcUpdateSizes();var e=parseInt(t.dc.instance._viewContainer.element.nativeElement.style.top,10);0!==i.scrollTop?i.scrollTop=t.sizesCache[t.state.startIndex]-e:t._updateScrollOffset()})}else this.initSizesCache(this.igxForOf)},e.prototype.handleCacheChanges=function(e){var t=this,i=[],n=[],r=[];r.push(0);var o=0,s=0;return e.forEachRemovedItem(function(){return s++}),e.forEachIdentityChange(function(e){e.currentIndex!==e.previousIndex&&(i[e.currentIndex]=e)}),e.forEachItem(function(e){null!==e.previousIndex&&(s<2||!i.length||i[e.currentIndex])?n[e.currentIndex]=t.heightCache[e.previousIndex]:n[e.currentIndex]=t.getItemSize(e.item),r[e.currentIndex+1]=r[e.currentIndex]+n[e.currentIndex],o+=n[e.currentIndex]}),this.heightCache=n,this.sizesCache=r,o},e.prototype.assumeMaster=function(){this._sizesCache=this.syncService.sizesCache(this.igxForScrollOrientation),this.syncService.setMaster(this,!0)},e.prototype.ngDoCheck=function(){if(this._differ){var e=this._differ.diff(this.igxForOf);if(e){var t={containerSize:this.igxForContainerSize};if(this.onDataChanging.emit(t),!this.igxForOf)return;this.igxForOf.length||"vertical"!==this.igxForScrollOrientation||this.syncService.resetMaster(),this.syncService.setMaster(this),this.igxForContainerSize=t.containerSize,this._updateSizeCache(e),this._applyChanges(),this._updateScrollOffset(),this.onDataChanged.emit()}}},e.prototype.onScroll=function(e){var t=this;if(parseInt(this.vh.instance.elementRef.nativeElement.style.height,10)){var i=parseInt(this.igxForContainerSize,10),n=e.target.children[0].scrollHeight-i,r=e.target.scrollTop/n;if(this._bScrollInternal)this._bScrollInternal=!1;else{var o=this._virtHeight-i;this._virtScrollTop=r*o}var s=this.fixedUpdateAllElements(this._virtScrollTop);this.dc.instance._viewContainer.element.nativeElement.style.top=-s+"px",requestAnimationFrame(function(){t.recalcUpdateSizes()})}},e.prototype.onHScroll=function(e){if(this.hScroll&&parseInt(this.hScroll.children[0].style.width,10)){var t=this.fixedUpdateAllElements(e);this.dc.instance._viewContainer.element.nativeElement.style.left=-t+"px"}},e.prototype.addLastElem=function(){var e=this.state.startIndex+this.state.chunkSize;if(this.isRemote||this.igxForOf){e>=this.igxForOf.length&&(e=this.igxForOf.length-this.state.chunkSize);var t=this.igxForOf[e],i=this.dc.instance._vcr.createEmbeddedView(this._template,{$implicit:t,index:e});this._embeddedViews.push(i),this.state.chunkSize++}},e.prototype._updateViews=function(e){var t=this;if(this.igxForOf&&this.igxForOf.length&&this.dc){var i=Object.assign([],this._embeddedViews),n=void 0,r=void 0;if(this.isRemote)n=0,r=this.igxForOf.length;else{var o="horizontal"===this.igxForScrollOrientation?this.hScroll.scrollLeft:this.vh.instance.elementRef.nativeElement.scrollTop;(n=this.getIndexAt(o,this.sizesCache,0))+this.state.chunkSize>this.igxForOf.length&&(n=this.igxForOf.length-this.state.chunkSize),this.state.startIndex=n,r=this.state.chunkSize+this.state.startIndex}for(var s=n;s<r&&this.igxForOf[s]!==undefined;s++){var a=this.igxForOf[s],l=i.shift().context;l.$implicit=a,l.index=this.getContextIndex(a)}e!==this.state.chunkSize&&this.onChunkLoad.emit(this.state),"vertical"===this.igxForScrollOrientation&&requestAnimationFrame(function(){t.recalcUpdateSizes()})}},e.prototype._applyChanges=function(){var e=this.state.chunkSize;this.applyChunkSizeChange(),this._recalcScrollBarSize(),this._updateViews(e)},e.prototype._calcMaxChunkSize=function(){return this.syncService.isMaster(this)?l.prototype._calcMaxChunkSize.call(this):this.syncService.chunkSize(this.igxForScrollOrientation)},e.decorators=[{type:b.Directive,args:[{selector:"[igxGridFor][igxGridForOf]"}]}],e.ctorParameters=function(){return[{type:b.ViewContainerRef},{type:b.TemplateRef},{type:b.IterableDiffers},{type:b.ComponentFactoryResolver},{type:b.ChangeDetectorRef},{type:b.NgZone},{type:pr}]},e.propDecorators={igxGridForOf:[{type:b.Input}],onDataChanging:[{type:b.Output}]},e}(ur),gr=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[ur,hr,or,ar,sr],entryComponents:[or,ar,sr],exports:[ur,hr],imports:[cr,r.CommonModule]}]}],e}(),fr=function(o){function e(e,t,i,n){var r=o.call(this,e,t,n)||this;return r.elementRef=e,r.cdr=t,r.selection=i,r._displayDensityOptions=n,r.destroy$=new x.Subject,r.onOpening=new b.EventEmitter,r.onOpened=new b.EventEmitter,r.onClosing=new b.EventEmitter,r.onClosed=new b.EventEmitter,r.allowItemsFocus=!1,r}return f(e,o),Object.defineProperty(e.prototype,"focusedItem",{get:function(){var t=this;return this.virtDir?this._focusedItem&&-1!==this._focusedItem.index&&this.children.find(function(e){return e.index===t._focusedItem.index})||null:this._focusedItem},set:function(e){if(!e)return this.selection.clear(this.id+"-active"),void(this._focusedItem=null);this._focusedItem=e,this.virtDir&&(this._focusedItem={value:e.value,index:e.index}),this.selection.set(this.id+"-active",new Set([this._focusedItem]))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},set:function(e){this.toggleDirective.id=e,this.selection.set(e,this.selection.get(this.id)),this.selection.clear(this.id),this.selection.set(e,this.selection.get(this.id+"-active")),this.selection.clear(this.id+"-active"),this._id=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"listId",{get:function(){return this.id+"-list"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedItem",{get:function(){var e=this.selection.first_item(this.id);return e||null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collapsed",{get:function(){return this.toggleDirective.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollContainer",{get:function(){return this.toggleDirective.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collectionLength",{get:function(){if(this.virtDir)return this.virtDir.totalItemCount||this.virtDir.igxForOf.length},enumerable:!0,configurable:!0}),e.prototype.open=function(e){this.toggleDirective.open(e),this.updateScrollPosition()},e.prototype.close=function(){this.toggleDirective.close()},e.prototype.toggle=function(e){this.collapsed||this.toggleDirective.isClosing?this.open(e):this.close()},e.prototype.setSelectedItem=function(e){var t;e<0||e>=this.items.length||(t=this.virtDir?{value:this.virtDir.igxForOf[e],index:e}:this.items[e],this.selectItem(t))},e.prototype.navigateItem=function(e){var t=this;if(this.virtDir){if(-1===e||e>=this.collectionLength)return;var i=e>(this.focusedItem?this.focusedItem.index:-1)?Gn.Down:Gn.Up,n=this.isIndexOutOfBounds(e,i);this.focusedItem={value:this.virtDir.igxForOf[e],index:e},n&&this.virtDir.scrollTo(e),n?this.virtDir.onChunkLoad.pipe(p.take(1)).subscribe(function(){t.skipHeader(i)}):this.skipHeader(i)}else o.prototype.navigateItem.call(this,e);this.allowItemsFocus&&this.focusedItem&&(this.focusedItem.element.nativeElement.focus(),this.cdr.markForCheck())},e.prototype.isIndexOutOfBounds=function(e,t){var i=this.virtDir.state,n=this.virtDir.getVerticalScroll().scrollTop,r=this.virtDir.getScrollForIndex(e,t===Gn.Down),o=e<i.startIndex||e>i.chunkSize+i.startIndex,s=t===Gn.Down?n<r:r<n;return o||s},e.prototype.skipHeader=function(e){this.focusedItem&&(this.focusedItem.isHeader||this.focusedItem.disabled)&&(e===Gn.Up?this.navigatePrev():this.navigateNext())},e.prototype.updateScrollPosition=function(){if(this.virtDir)if(this.selectedItem){var e=this.virtDir.getScrollForIndex(this.selectedItem.index);e-=(this.virtDir.igxForContainerSize/this.virtDir.igxForItemSize/2-1)*this.virtDir.igxForItemSize,this.virtDir.getVerticalScroll().scrollTop=e}else this.virtDir.scrollTo(0)},e.prototype.onToggleOpening=function(e){this.onOpening.emit(e),e.cancel||(!this.virtDir&&this.selectedItem&&this.scrollToItem(this.selectedItem),this.virtDir&&(this.virtDir.getVerticalScroll().scrollTop=this._scrollPosition))},e.prototype.onToggleOpened=function(){this.selectedItem?(this.focusedItem=this.selectedItem,this._focusedItem.focused=!0):this.allowItemsFocus&&this.navigateFirst(),this.onOpened.emit()},e.prototype.onToggleClosing=function(e){this.onClosing.emit(e),this.virtDir&&(this._scrollPosition=this.virtDir.getVerticalScroll().scrollTop)},e.prototype.onToggleClosed=function(){this._focusedItem&&(this._focusedItem.focused=!1),this.onClosed.emit()},e.prototype.ngOnDestroy=function(){this.destroy$.next(!0),this.destroy$.complete(),this.selection.clear(this.id),this.selection.clear(this.id+"-active")},e.prototype.scrollToItem=function(e){var t=this,i=this.calculateScrollPosition(e);ai()?setTimeout(function(){t.scrollContainer.scrollTop=i},1):this.scrollContainer.scrollTop=i},e.prototype.calculateScrollPosition=function(e){if(!e)return 0;var t=e.element.nativeElement.getBoundingClientRect(),i=this.scrollContainer.getBoundingClientRect().top-t.top,n=this.scrollContainer.scrollTop-i;return n-=this.scrollContainer.clientHeight/2,n+=e.elementHeight/2,Math.floor(n)},e.prototype.ngOnInit=function(){this.toggleDirective.id=this.id},e.prototype.ngAfterViewInit=function(){this.virtDir&&(this.virtDir.igxForItemSize=28)},e.prototype.onItemActionKey=function(e,t){o.prototype.onItemActionKey.call(this,e,t),this.close()},e.prototype.navigateFirst=function(){this.virtDir?this.navigateItem(0):o.prototype.navigateFirst.call(this)},e.prototype.navigateLast=function(){this.virtDir?this.navigateItem(this.virtDir.totalItemCount?this.virtDir.totalItemCount-1:this.virtDir.igxForOf.length-1):o.prototype.navigateLast.call(this)},e.prototype.navigateNext=function(){this.virtDir?this.navigateItem(this._focusedItem?this._focusedItem.index+1:0):o.prototype.navigateNext.call(this)},e.prototype.navigatePrev=function(){this.virtDir?this.navigateItem(this._focusedItem?this._focusedItem.index-1:0):o.prototype.navigatePrev.call(this)},e.prototype.selectItem=function(e,t){var i=this.selectedItem;if(e||(e=this.focusedItem),null!==e&&!(e instanceof Jn&&e.isHeader)){this.virtDir&&(e={value:e.value,index:e.index});var n={oldSelection:i,newSelection:e,cancel:!1};this.onSelection.emit(n),n.cancel||(this.selection.set(this.id,new Set([e])),this.virtDir||(i&&(i.selected=!1),e&&(e.selected=!0)),t&&this.toggleDirective.close())}},e.decorators=[{type:b.Component,args:[{selector:"igx-drop-down",template:'<div class="igx-drop-down__list" igxToggle [style.width]="width" [style.height]="height"\n[style.maxHeight]="maxHeight" [attr.id]="this.listId" role="listbox"\n    (onOpening)="onToggleOpening($event)" (onOpened)="onToggleOpened()"\n    (onClosing)="onToggleClosing($event)" (onClosed)="onToggleClosed()">\n    <ng-container *ngIf="!collapsed">\n        <ng-content></ng-content>\n    </ng-container>\n</div>\n',providers:[{provide:Kn,useExisting:e}]}]}],e.ctorParameters=function(){return[{type:b.ElementRef},{type:b.ChangeDetectorRef},{type:$n},{type:undefined,decorators:[{type:b.Optional},{type:b.Inject,args:[tr]}]}]},e.propDecorators={virtDir:[{type:b.ContentChild,args:[ur,{read:ur}]}],toggleDirective:[{type:b.ViewChild,args:[Hn]}],children:[{type:b.ContentChildren,args:[b.forwardRef(function(){return Qn}),{descendants:!0}]}],onOpening:[{type:b.Output}],onOpened:[{type:b.Output}],onClosing:[{type:b.Output}],onClosed:[{type:b.Output}],allowItemsFocus:[{type:b.Input}],id:[{type:b.Input}]},e}(rr),mr=function(){function e(e){this.dropdown=e,this._target=null}return Object.defineProperty(e.prototype,"target",{get:function(){return this._target},set:function(e){this._target=e||this.dropdown},enumerable:!0,configurable:!0}),e.prototype.handleKeyDown=function(e){if(e){var t=e.key.toLowerCase();if(this.target.collapsed)return;if(-1===["esc","escape","enter","space","spacebar"," ","arrowup","up","arrowdown","down","home","end"].indexOf(t))return;switch(e.preventDefault(),e.stopPropagation(),t){case"esc":case"escape":this.target.onItemActionKey(zn,e);break;case"enter":this.target.onItemActionKey(Wn,e);break;case"space":case"spacebar":case" ":this.target.onItemActionKey(Un,e);break;case"arrowup":case"up":this.onArrowUpKeyDown();break;case"arrowdown":case"down":this.onArrowDownKeyDown();break;case"home":this.onHomeKeyDown();break;case"end":this.onEndKeyDown();break;default:return}}},e.prototype.onArrowDownKeyDown=function(){this.target.navigateNext()},e.prototype.onArrowUpKeyDown=function(){this.target.navigatePrev()},e.prototype.onEndKeyDown=function(){this.target.navigateLast()},e.prototype.onHomeKeyDown=function(){this.target.navigateFirst()},e.decorators=[{type:b.Directive,args:[{selector:"[igxDropDownItemNavigation]"}]}],e.ctorParameters=function(){return[{type:rr,decorators:[{type:b.Self},{type:b.Optional},{type:b.Inject,args:[Kn]}]}]},e.propDecorators={target:[{type:b.Input,args:["igxDropDownItemNavigation"]}],handleKeyDown:[{type:b.HostListener,args:["keydown",["$event"]]}]},e}(),yr=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[fr,Qn,Xn,mr],exports:[fr,Qn,Xn,mr],imports:[r.CommonModule,Nn],providers:[$n]}]}],e}(),vr={START:0,END:1};vr[vr.START]="START",vr[vr.END]="END";var xr=function(){function e(e){this._element=e,this._position=vr.START,this.isPositionStart=!1,this.isPositionEnd=!1}return Object.defineProperty(e.prototype,"position",{get:function(){return this._position.toString()},set:function(e){var t=vr[e.toUpperCase()];t!==undefined&&(this._position=t,this._applyPosition(this._position))},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this._applyPosition(this._position)},e.prototype._applyPosition=function(e){switch(this.isPositionStart=this.isPositionEnd=!1,e){case vr.START:this.isPositionStart=!0;break;case vr.END:this.isPositionEnd=!0}},e.decorators=[{type:b.Directive,args:[{selector:"igx-hint,[igxHint]"}]}],e.ctorParameters=function(){return[{type:b.ElementRef}]},e.propDecorators={isPositionStart:[{type:b.HostBinding,args:["class.igx-input-group__hint-item--start"]}],isPositionEnd:[{type:b.HostBinding,args:["class.igx-input-group__hint-item--end"]}],position:[{type:b.Input,args:["position"]}]},e}(),br=function Qd(){},Cr=["required","pattern","minlength","maxlength","min","max","step"],wr={INITIAL:0,VALID:1,INVALID:2};wr[wr.INITIAL]="INITIAL",wr[wr.VALID]="VALID",wr[wr.INVALID]="INVALID";var _r=function(){function e(e,t,i,n,r){this.inputGroup=e,this.ngModel=t,this.formControl=i,this.element=n,this.cdr=r,this._valid=wr.INITIAL,this.isInput=!1,this.isTextArea=!1}return Object.defineProperty(e.prototype,"ngControl",{get:function(){return this.ngModel?this.ngModel:this.formControl},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.nativeElement.value},set:function(e){this.nativeElement.value=e,this.checkValidity()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.nativeElement.hasAttribute("disabled")},set:function(e){this.nativeElement.disabled=e,this.inputGroup.disabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return this.nativeElement.hasAttribute("required")},set:function(e){"boolean"==typeof e&&(this.nativeElement.required=this.inputGroup.isRequired=e,e&&!this.nativeElement.checkValidity()?this._valid=wr.INVALID:this._valid=wr.INITIAL)},enumerable:!0,configurable:!0}),e.prototype.onFocus=function(e){this.inputGroup.isFocused=!0},e.prototype.onBlur=function(e){this.inputGroup.isFocused=!1,this._valid=wr.INITIAL,this.ngControl?this.ngControl.valid||(this._valid=wr.INVALID):this._hasValidators()&&!this.nativeElement.checkValidity()&&(this._valid=wr.INVALID)},e.prototype.onInput=function(){this.checkValidity()},e.prototype.ngAfterViewInit=function(){if(this.inputGroup.hasPlaceholder=this.nativeElement.hasAttribute("placeholder"),this.inputGroup.disabled=this.inputGroup.disabled||this.nativeElement.hasAttribute("disabled"),this.inputGroup.isRequired=this.nativeElement.hasAttribute("required"),this.ngControl||(this._valid=wr.INITIAL),!this.inputGroup.isRequired&&this.ngControl&&this.ngControl.control.validator){var e=this.ngControl.control.validator({});this.inputGroup.isRequired=e&&e.required}"textarea"===this.nativeElement.tagName.toLowerCase()?this.isTextArea=!0:this.isInput=!0,this.ngControl&&(this._statusChanges$=this.ngControl.statusChanges.subscribe(this.onStatusChanged.bind(this))),this.cdr.detectChanges()},e.prototype.ngOnDestroy=function(){this._statusChanges$&&this._statusChanges$.unsubscribe()},e.prototype.focus=function(){this.nativeElement.focus()},Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.element.nativeElement},enumerable:!0,configurable:!0}),e.prototype.onStatusChanged=function(){(this.ngControl.control.validator||this.ngControl.control.asyncValidator)&&(this.ngControl.control.touched||this.ngControl.control.dirty?this.inputGroup.isFocused?this._valid=this.ngControl.valid?wr.VALID:wr.INVALID:this._valid=this.ngControl.valid?wr.INITIAL:wr.INVALID:this._valid!==wr.INITIAL?this._valid=this.ngControl.valid?wr.INITIAL:wr.INVALID:this._valid===wr.INITIAL&&this.ngControl.value!==undefined&&this.ngControl.invalid&&(this._valid=wr.INVALID))},Object.defineProperty(e.prototype,"hasPlaceholder",{get:function(){return this.nativeElement.hasAttribute("placeholder")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholder",{get:function(){return this.nativeElement.placeholder},enumerable:!0,configurable:!0}),e.prototype._hasValidators=function(){var e,t;try{for(var i=S(Cr),n=i.next();!n.done;n=i.next()){var r=n.value;if(this.nativeElement.hasAttribute(r))return!0}}catch(o){e={error:o}}finally{try{n&&!n.done&&(t=i["return"])&&t.call(i)}finally{if(e)throw e.error}}return!(!this.ngControl||!this.ngControl.control.validator&&!this.ngControl.control.asyncValidator)},Object.defineProperty(e.prototype,"focused",{get:function(){return this.inputGroup.isFocused},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){return this._valid},set:function(e){this._valid=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isValid",{get:function(){return this.valid!==wr.INVALID},enumerable:!0,configurable:!0}),e.prototype.checkValidity=function(){!this.ngControl&&this._hasValidators()&&(this._valid=this.nativeElement.checkValidity()?wr.VALID:wr.INVALID)},e.decorators=[{type:b.Directive,args:[{selector:"[igxInput]",exportAs:"igxInput"}]}],e.ctorParameters=function(){return[{type:br},{type:o.NgModel,decorators:[{type:b.Optional},{type:b.Self},{type:b.Inject,args:[o.NgModel]}]},{type:o.FormControlName,decorators:[{type:b.Optional},{type:b.Self},{type:b.Inject,args:[o.FormControlName]}]},{type:b.ElementRef},{type:b.ChangeDetectorRef}]},e.propDecorators={value:[{type:b.Input,args:["value"]}],disabled:[{type:b.Input}],required:[{type:b.Input}],isInput:[{type:b.HostBinding,args:["class.igx-input-group__input"]}],isTextArea:[{type:b.HostBinding,args:["class.igx-input-group__textarea"]}],onFocus:[{type:b.HostListener,args:["focus",["$event"]]}],onBlur:[{type:b.HostListener,args:["blur",["$event"]]}],onInput:[{type:b.HostListener,args:["input"]}]},e}(),Sr=0,Ir=function(){function e(){this.defaultClass=!0,this.id="igx-label-"+Sr++}return e.decorators=[{type:b.Directive,args:[{selector:"[igxLabel]"}]}],e.propDecorators={defaultClass:[{type:b.HostBinding,args:["class.igx-input-group__label"]}],id:[{type:b.HostBinding,args:["attr.id"]},{type:b.Input}]},e}(),Dr=function(){function e(){}return e.decorators=[{type:b.Directive,args:[{selector:"igx-prefix,[igxPrefix]"}]}],e}(),Er=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[Dr],exports:[Dr]}]}],e}(),Or=function(){function e(){}return e.decorators=[{type:b.Directive,args:[{selector:"igx-suffix,[igxSuffix]"}]}],e}(),Pr=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[Or],exports:[Or]}]}],e}(),Tr=0,Rr={LINE:0,BOX:1,BORDER:2,SEARCH:3};Rr[Rr.LINE]="LINE",Rr[Rr.BOX]="BOX",Rr[Rr.BORDER]="BORDER",Rr[Rr.SEARCH]="SEARCH";var kr=function(n){function e(e,t){var i=n.call(this,t)||this;return i._element=e,i._displayDensityOptions=t,i._type=Rr.LINE,i._filled=!1,i._supressInputAutofocus=!1,i.id="igx-input-group-"+Tr++,i.defaultClass=!0,i.hasPlaceholder=!1,i.isRequired=!1,i.isFocused=!1,i.isBox=!1,i.isBorder=!1,i.isSearch=!1,i.disabled=!1,i.hasWarning=!1,i.element=e,i}return f(e,n),Object.defineProperty(e.prototype,"validClass",{get:function(){return this.input.valid===wr.VALID},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"invalidClass",{get:function(){return this.input.valid===wr.INVALID},enumerable:!0,configurable:!0}),e.prototype.onClick=function(e){this._supressInputAutofocus||this.input.focus()},Object.defineProperty(e.prototype,"type",{get:function(){return this._type.toString()},set:function(e){var t=Rr[e.toUpperCase()];if(t!==undefined){switch(this.isBox=this.isBorder=this.isSearch=!1,t){case Rr.BOX:this.isBox=!0;break;case Rr.BORDER:this.isBorder=!0;break;case Rr.SEARCH:this.isSearch=!0}this._type=t}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"supressInputAutofocus",{get:function(){return this._supressInputAutofocus},set:function(e){this._supressInputAutofocus=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFilled",{get:function(){return this._filled||this.input&&this.input.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisplayDensityCosy",{get:function(){return this.displayDensity===er.cosy},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisplayDensityComfortable",{get:function(){return this.displayDensity===er.comfortable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisplayDensityCompact",{get:function(){return this.displayDensity===er.compact},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasHints",{get:function(){return 0<this.hints.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasBorder",{get:function(){return this._type===Rr.LINE||this._type===Rr.BOX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isTypeLine",{get:function(){return this._type===Rr.LINE},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isTypeBox",{get:function(){return this._type===Rr.BOX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isTypeBorder",{get:function(){return this._type===Rr.BORDER},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isTypeSearch",{get:function(){return this._type===Rr.SEARCH},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filled",{get:function(){return this._filled},set:function(e){this._filled=e},enumerable:!0,configurable:!0}),e.decorators=[{type:b.Component,args:[{selector:"igx-input-group",template:'<div class="igx-input-group__wrapper" *ngIf="isTypeBox; else bundle">\n    <ng-container *ngTemplateOutlet="bundle"></ng-container>\n</div>\n<div class="igx-input-group__hint">\n    <ng-content select="igx-hint,[igxHint]"></ng-content>\n</div>\n<ng-template #bundle>\n    <div class="igx-input-group__bundle">\n        <ng-content select="igx-prefix,[igxPrefix]"></ng-content>\n        <div class="igx-input-group__bundle-main">\n            <ng-content select="[igxLabel]"></ng-content>\n            <ng-content select="[igxInput]"></ng-content>\n        </div>\n        <ng-content select="igx-suffix,[igxSuffix]"></ng-content>\n    </div>\n    <div class="igx-input-group__border" *ngIf="hasBorder"></div>\n</ng-template>\n',providers:[{provide:br,useExisting:e}]}]}],e.ctorParameters=function(){return[{type:b.ElementRef},{type:undefined,decorators:[{type:b.Optional},{type:b.Inject,args:[tr]}]}]},e.propDecorators={id:[{type:b.HostBinding,args:["attr.id"]},{type:b.Input}],defaultClass:[{type:b.HostBinding,args:["class.igx-input-group"]}],hasPlaceholder:[{type:b.HostBinding,args:["class.igx-input-group--placeholder"]}],isRequired:[{type:b.HostBinding,args:["class.igx-input-group--required"]}],isFocused:[{type:b.HostBinding,args:["class.igx-input-group--focused"]}],isBox:[{type:b.HostBinding,args:["class.igx-input-group--box"]}],isBorder:[{type:b.HostBinding,args:["class.igx-input-group--border"]}],isSearch:[{type:b.HostBinding,args:["class.igx-input-group--search"]}],disabled:[{type:b.HostBinding,args:["class.igx-input-group--disabled"]},{type:b.Input}],validClass:[{type:b.HostBinding,args:["class.igx-input-group--valid"]}],invalidClass:[{type:b.HostBinding,args:["class.igx-input-group--invalid"]}],hasWarning:[{type:b.HostBinding,args:["class.igx-input-group--warning"]}],hints:[{type:b.ContentChildren,args:[xr,{read:xr}]}],input:[{type:b.ContentChild,args:[_r,{read:_r}]}],onClick:[{type:b.HostListener,args:["click",["$event"]]}],type:[{type:b.Input,args:["type"]}],supressInputAutofocus:[{type:b.Input}],isFilled:[{type:b.HostBinding,args:["class.igx-input-group--filled"]}],isDisplayDensityCosy:[{type:b.HostBinding,args:["class.igx-input-group--cosy"]}],isDisplayDensityComfortable:[{type:b.HostBinding,args:["class.igx-input-group--comfortable"]}],isDisplayDensityCompact:[{type:b.HostBinding,args:["class.igx-input-group--compact"]}]},e}(ir),Lr=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[kr,xr,_r,Ir],exports:[kr,xr,_r,Ir,Dr,Or],imports:[r.CommonModule,Er,Pr]}]}],e}(),Ar=function(s){function e(e,t,i,n,r){var o=s.call(this,null)||this;return o.ngModel=e,o.formControl=t,o.group=i,o.elementRef=n,o.cdr=r,o.defaultSettings={modal:!1,scrollStrategy:new kn,positionStrategy:new Tn({target:o.parentElement}),excludePositionTarget:!0},o.dropDownOpened$=new x.Subject,o.disabled=!1,o.onItemSelected=new b.EventEmitter,o.autofill="off",o.role="combobox",o.select=function(e){if(e.newSelection){e.cancel=!0;var t=e.newSelection.value,i={value:t,cancel:!1};o.onItemSelected.emit(i),i.cancel||(o.close(),o.nativeElement.focus(),o.model?o.model.control.setValue(t):o.nativeElement.value=t)}},o.highlightFirstItem=function(){o.target.focusedItem&&(o.target.focusedItem.focused=!1,o.target.focusedItem=null),o.target.navigateFirst(),o.cdr.detectChanges()},o}return f(e,s),Object.defineProperty(e.prototype,"model",{get:function(){return this.ngModel||this.formControl},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentElement",{get:function(){return this.group?this.group.element.nativeElement:this.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"settings",{get:function(){var e=Object.assign({},this.defaultSettings,this.autocompleteSettings);if(!e.positionStrategy.settings.target){var t=e.positionStrategy.clone();t.settings.target=this.parentElement,e.positionStrategy=t}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ariaExpanded",{get:function(){return!this.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasPopUp",{get:function(){return"listbox"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ariaOwns",{get:function(){return this.target.listId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ariaActiveDescendant",{get:function(){return!this.target.collapsed&&this.target.focusedItem?this.target.focusedItem.id:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ariaAutocomplete",{get:function(){return"list"},enumerable:!0,configurable:!0}),e.prototype.onInput=function(){this.open()},e.prototype.onArrowDown=function(e){e.preventDefault(),this.open()},e.prototype.onTab=function(){this.close()},e.prototype.handleKeyDown=function(e){if(!this.collapsed)switch(e.key.toLowerCase()){case"space":case"spacebar":case" ":case"home":case"end":return;default:s.prototype.handleKeyDown.call(this,e)}},e.prototype.onArrowDownKeyDown=function(){s.prototype.onArrowDownKeyDown.call(this)},e.prototype.onArrowUpKeyDown=function(){s.prototype.onArrowUpKeyDown.call(this)},e.prototype.onEndKeyDown=function(){s.prototype.onEndKeyDown.call(this)},e.prototype.onHomeKeyDown=function(){s.prototype.onHomeKeyDown.call(this)},e.prototype.close=function(){this.collapsed||(this.target.close(),this.dropDownOpened$.next())},e.prototype.open=function(){!this.disabled&&this.collapsed&&(this.target.width=this.parentElement.clientWidth+"px",this.target.open(this.settings),this.target.onSelection.pipe(p.takeUntil(this.dropDownOpened$)).subscribe(this.select),this.target.onOpened.pipe(p.first()).subscribe(this.highlightFirstItem),this.target.children.changes.pipe(p.takeUntil(this.dropDownOpened$)).subscribe(this.highlightFirstItem))},Object.defineProperty(e.prototype,"collapsed",{get:function(){return!this.target||this.target.collapsed},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.dropDownOpened$.complete()},e.decorators=[{type:b.Directive,args:[{selector:"[igxAutocomplete]"}]}],e.ctorParameters=function(){return[{type:o.NgModel,decorators:[{type:b.Self},{type:b.Optional},{type:b.Inject,args:[o.NgModel]}]},{type:o.FormControlName,decorators:[{type:b.Self},{type:b.Optional},{type:b.Inject,args:[o.FormControlName]}]},{type:kr,decorators:[{type:b.Optional}]},{type:b.ElementRef},{type:b.ChangeDetectorRef}]},e.propDecorators={target:[{type:b.Input,args:["igxAutocomplete"]}],disabled:[{type:b.Input,args:["igxAutocompleteDisabled"]}],autocompleteSettings:[{type:b.Input,args:["igxAutocompleteSettings"]}],onItemSelected:[{type:b.Output}],autofill:[{type:b.HostBinding,args:["attr.autocomplete"]}],role:[{type:b.HostBinding,args:["attr.role"]}],ariaExpanded:[{type:b.HostBinding,args:["attr.aria-expanded"]}],hasPopUp:[{type:b.HostBinding,args:["attr.aria-haspopup"]}],ariaOwns:[{type:b.HostBinding,args:["attr.aria-owns"]}],ariaActiveDescendant:[{type:b.HostBinding,args:["attr.aria-activedescendant"]}],ariaAutocomplete:[{type:b.HostBinding,args:["attr.aria-autocomplete"]}],onInput:[{type:b.HostListener,args:["input",["$event"]]}],onArrowDown:[{type:b.HostListener,args:["keydown.ArrowDown",["$event"]]},{type:b.HostListener,args:["keydown.Alt.ArrowDown",["$event"]]},{type:b.HostListener,args:["keydown.ArrowUp",["$event"]]},{type:b.HostListener,args:["keydown.Alt.ArrowUp",["$event"]]}],onTab:[{type:b.HostListener,args:["keydown.Tab",["$event"]]},{type:b.HostListener,args:["keydown.Shift.Tab",["$event"]]}]},e}(mr),Fr=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{imports:[yr,r.CommonModule],declarations:[Ar],exports:[Ar]}]}],e}(),Mr=function(r){function e(e,t,i){var n=r.call(this,i)||this;return n.element=e,n._renderer=t,n._displayDensityOptions=i,n._type="flat",n._cssClass="igx-button",n.buttonClick=new b.EventEmitter,n.role="button",n.selected=!1,n}return f(e,r),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.element.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{set:function(e){this._type=e||this._type,this._renderer.addClass(this.nativeElement,this._cssClass+"--"+this._type)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{set:function(e){this._color=e||this.nativeElement.style.color,this._renderer.setStyle(this.nativeElement,"color",this._color)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"background",{set:function(e){this._backgroundColor=e||this._backgroundColor,this._renderer.setStyle(this.nativeElement,"background",this._backgroundColor)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{set:function(e){this._label=e||this._label,this._renderer.setAttribute(this.nativeElement,"aria-label",this._label)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{set:function(e){(e=!!e)?this._renderer.addClass(this.nativeElement,this._cssClass+"--disabled"):this._renderer.removeClass(this.nativeElement,this._cssClass+"--disabled")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cssClassCosy",{get:function(){return("flat"===this._type||"raised"===this._type||"outlined"===this._type)&&this.displayDensity===er.cosy},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cssClassCompact",{get:function(){return("flat"===this._type||"raised"===this._type||"outlined"===this._type)&&this.displayDensity===er.compact},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cssClassCosyFab",{get:function(){return"fab"===this._type&&this.displayDensity===er.cosy},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cssClassCompactFab",{get:function(){return"fab"===this._type&&this.displayDensity===er.compact},enumerable:!0,configurable:!0}),e.prototype.onClick=function(e){this.buttonClick.emit(e)},e.decorators=[{type:b.Directive,args:[{selector:"[igxButton]"}]}],e.ctorParameters=function(){return[{type:b.ElementRef},{type:b.Renderer2},{type:undefined,decorators:[{type:b.Optional},{type:b.Inject,args:[tr]}]}]},e.propDecorators={buttonClick:[{type:b.Output}],role:[{type:b.HostBinding,args:["attr.role"]}],type:[{type:b.Input,args:["igxButton"]}],color:[{type:b.Input,args:["igxButtonColor"]}],background:[{type:b.Input,args:["igxButtonBackground"]}],label:[{type:b.Input,args:["igxLabel"]}],disabled:[{type:b.Input}],cssClassCosy:[{type:b.HostBinding,args:["class.igx-button--cosy"]}],cssClassCompact:[{type:b.HostBinding,args:["class.igx-button--compact"]}],cssClassCosyFab:[{type:b.HostBinding,args:["class.igx-button--fab-cosy"]}],cssClassCompactFab:[{type:b.HostBinding,args:["class.igx-button--fab-compact"]}],selected:[{type:b.Input}],onClick:[{type:b.HostListener,args:["click",["$event"]]}]},e}(ir),Vr=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[Mr],exports:[Mr]}]}],e}(),Hr={DEFAULT:"default",DASHED:"dashed"},Br=0,jr=function(){function e(){this.id="igx-divider-"+Br++,this._inset="0",this.role="separator",this.type=Hr.DEFAULT,this.middle=!1,this.vertical=!1}return Object.defineProperty(e.prototype,"isDashed",{get:function(){return this.type===Hr.DASHED},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDefault",{get:function(){return this.type===Hr.DEFAULT},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inset",{get:function(){return this.middle?this.vertical?this._inset+" 0":"0 "+this._inset:this.vertical?this._inset+" 0 0 0":"0 0 0 "+this._inset},set:function(e){this._inset=e},enumerable:!0,configurable:!0}),e.decorators=[{type:b.Directive,args:[{selector:"igx-divider"}]}],e.propDecorators={id:[{type:b.HostBinding,args:["attr.id"]},{type:b.Input}],_inset:[{type:b.Input,args:["inset"]}],role:[{type:b.HostBinding,args:["attr.role"]},{type:b.Input}],type:[{type:b.HostBinding,args:["class.igx-divider"]},{type:b.Input}],isDashed:[{type:b.HostBinding,args:["class.igx-divider--dashed"]}],middle:[{type:b.HostBinding,args:["class.igx-divider--inset"]},{type:b.Input}],vertical:[{type:b.HostBinding,args:["class.igx-divider--vertical"]},{type:b.Input}],inset:[{type:b.HostBinding,args:["style.margin"]}]},e}(),Nr=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[jr],exports:[jr]}]}],e}(),Gr={VERTICALLY:0,HORIZONTALLY:1,NONE:2};Gr[Gr.VERTICALLY]="VERTICALLY",Gr[Gr.HORIZONTALLY]="HORIZONTALLY",Gr[Gr.NONE]="NONE";var zr=function(){function e(e,t,i,n){this.cdr=e,this.element=t,this.zone=i,this.renderer=n,this.dragTolerance=5,this.ghostImageClass="",this.hideBaseOnDrag=!1,this.animateOnRelease=!1,this.dragGhostHost=null,this.dragStart=new b.EventEmitter,this.dragEnd=new b.EventEmitter,this.returnMoveEnd=new b.EventEmitter,this.dragClicked=new b.EventEmitter,this.touch="none",this.transitionProperty="top, left",this._visibility="visible",this.defaultReturnDuration="0.5s",this._startX=0,this._startY=0,this._dragStarted=!1,this._pointerDownId=null,this._clicked=!1,this._lastDropArea=null,this._destroy=new x.Subject,this._removeOnDestroy=!0}return Object.defineProperty(e.prototype,"visible",{get:function(){return"visible"===this._visibility},set:function(e){this._visibility=e?"visible":"hidden",this.cdr.detectChanges()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return parseInt(this.dragGhost.style.left,10)},set:function(e){var t=this;requestAnimationFrame(function(){t.dragGhost&&(t.dragGhost.style.left=e+"px")})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return parseInt(this.dragGhost.style.top,10)},set:function(e){var t=this;requestAnimationFrame(function(){t.dragGhost&&(t.dragGhost.style.top=e+"px")})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pointerEventsEnabled",{get:function(){return"undefined"!=typeof PointerEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"touchEventsEnabled",{get:function(){return"ontouchstart"in window},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var t=this;this.zone.runOutsideAngular(function(){t.pointerEventsEnabled?(x.fromEvent(t.element.nativeElement,"pointerdown").pipe(p.takeUntil(t._destroy)).subscribe(function(e){return t.onPointerDown(e)}),x.fromEvent(t.element.nativeElement,"pointermove").pipe(p.throttle(function(){return x.interval(0,x.animationFrameScheduler)}),p.takeUntil(t._destroy)).subscribe(function(e){return t.onPointerMove(e)}),x.fromEvent(t.element.nativeElement,"pointerup").pipe(p.takeUntil(t._destroy)).subscribe(function(e){return t.onPointerUp(e)})):t.touchEventsEnabled?(x.fromEvent(t.element.nativeElement,"touchstart").pipe(p.takeUntil(t._destroy)).subscribe(function(e){return t.onPointerDown(e)}),x.fromEvent(document.defaultView,"touchmove").pipe(p.throttle(function(){return x.interval(0,x.animationFrameScheduler)}),p.takeUntil(t._destroy)).subscribe(function(e){return t.onPointerMove(e)}),x.fromEvent(document.defaultView,"touchend").pipe(p.takeUntil(t._destroy)).subscribe(function(e){return t.onPointerUp(e)})):(x.fromEvent(t.element.nativeElement,"mousedown").pipe(p.takeUntil(t._destroy)).subscribe(function(e){return t.onPointerDown(e)}),x.fromEvent(document.defaultView,"mousemove").pipe(p.throttle(function(){return x.interval(0,x.animationFrameScheduler)}),p.takeUntil(t._destroy)).subscribe(function(e){return t.onPointerMove(e)}),x.fromEvent(document.defaultView,"mouseup").pipe(p.takeUntil(t._destroy)).subscribe(function(e){return t.onPointerUp(e)}))})},e.prototype.ngOnDestroy=function(){this._destroy.next(!0),this._destroy.complete(),this.dragGhost&&this._removeOnDestroy&&(this.dragGhost.parentNode.removeChild(this.dragGhost),this.dragGhost=null)},e.prototype.onPointerDown=function(e){this._clicked=!0,this._pointerDownId=e.pointerId,this.pointerEventsEnabled||!this.touchEventsEnabled?(this._startX=e.pageX,this._startY=e.pageY):this.touchEventsEnabled&&(this._startX=e.touches[0].pageX,this._startY=e.touches[0].pageY);var t=parseInt(document.defaultView.getComputedStyle(this.element.nativeElement)["margin-top"],10),i=parseInt(document.defaultView.getComputedStyle(this.element.nativeElement)["margin-left"],10);this._dragOffsetX=this._startX-this.element.nativeElement.getBoundingClientRect().left-this.getWindowScrollLeft()+i,this._dragOffsetY=this._startY-this.element.nativeElement.getBoundingClientRect().top-this.getWindowScrollTop()+t,this._dragStartX=this._startX-this._dragOffsetX,this._dragStartY=this._startY-this._dragOffsetY,this.pointerEventsEnabled?this.element.nativeElement.setPointerCapture(this._pointerDownId):(this.element.nativeElement.focus(),e.preventDefault())},e.prototype.onPointerMove=function(e){var t=this;if(this._clicked){var i={originalEvent:e,owner:this,cancel:!1},n=void 0,r=void 0;this.pointerEventsEnabled||!this.touchEventsEnabled?(n=e.pageX,r=e.pageY):this.touchEventsEnabled&&(n=e.touches[0].pageX,r=e.touches[0].pageY,e.preventDefault());var o=n-this._startX,s=r-this._startY;if(!this._dragStarted&&(Math.abs(o)>this.dragTolerance||Math.abs(s)>this.dragTolerance))return this.zone.run(function(){t.dragStart.emit(i)}),void(i.cancel||(this._dragStarted=!0,this.createDragGhost(e)));if(!this._dragStarted)return;this.left=this._dragStartX+o,this.top=this._dragStartY+s,this.dispatchDragEvents(n,r,e)}},e.prototype.onPointerUp=function(e){var t=this;if(this._clicked){var i={originalEvent:e,owner:this};this._clicked=!1,this._dragStarted?(this._lastDropArea&&this._lastDropArea!==this.element.nativeElement?(this.animateOnRelease||this.onTransitionEnd(null),this.dispatchDropEvent(e.pageX,e.pageY,e)):!this.animateOnRelease||this.left===Math.floor(this._dragStartX)&&this.top===Math.floor(this._dragStartY)?this.onTransitionEnd(null):(this.dragGhost.style.transitionDuration=this.defaultReturnDuration,this.left=this._dragStartX,this.top=this._dragStartY),this.zone.run(function(){t.dragEnd.emit(i)})):this.zone.run(function(){t.dragClicked.emit(i)})}},e.prototype.createDragGhost=function(e,t){var i=this;void 0===t&&(t=null),this.dragGhost=t?t.cloneNode(!0):this.element.nativeElement.cloneNode(!0),this.dragGhost.style.transitionDuration="0.0s",this.dragGhost.style.position="absolute";var n=this.dragGhostHost?this.dragGhostHost.getBoundingClientRect().left:0,r=this.dragGhostHost?this.dragGhostHost.getBoundingClientRect().top:0;this.dragGhost.style.top=this._dragStartY-r+"px",this.dragGhost.style.left=this._dragStartX-n+"px",this.ghostImageClass&&this.renderer.addClass(this.dragGhost,this.ghostImageClass),this.dragGhostHost?this.dragGhostHost.appendChild(this.dragGhost):document.body.appendChild(this.dragGhost),this.pointerEventsEnabled&&(this.dragGhost.setPointerCapture(this._pointerDownId),this.dragGhost.addEventListener("pointermove",function(e){i.onPointerMove(e)}),this.dragGhost.addEventListener("pointerup",function(e){i.onPointerUp(e)})),this.animateOnRelease&&this.dragGhost.addEventListener("transitionend",function(e){i.onTransitionEnd(e)}),this.hideBaseOnDrag&&(this.visible=!1)},e.prototype.dispatchDragEvents=function(e,t,i){for(var n,r={startX:this._startX,startY:this._startY,pageX:e,pageY:t,owner:this,originalEvent:i},o=this.getElementsAtPoint(e,t),s=0;s<o.length;s++)if("true"===o[s].getAttribute("droppable")&&o[s]!==this.dragGhost){n=o[s];break}n&&this.dispatchEvent(n,"igxDragOver",r),n&&(!this._lastDropArea||this._lastDropArea&&this._lastDropArea!==n)?(this._lastDropArea&&this.dispatchEvent(this._lastDropArea,"igxDragLeave",r),this._lastDropArea=n,this.dispatchEvent(this._lastDropArea,"igxDragEnter",r)):!n&&this._lastDropArea&&(this.dispatchEvent(this._lastDropArea,"igxDragLeave",r),this._lastDropArea=null)},e.prototype.dispatchDropEvent=function(e,t,i){var n={startX:this._startX,startY:this._startY,pageX:e,pageY:t,owner:this,originalEvent:i};this.dispatchEvent(this._lastDropArea,"igxDrop",n),this.dispatchEvent(this._lastDropArea,"igxDragLeave",n),this._lastDropArea=null},e.prototype.updateDragRelativePos=function(){if(this.dragGhost){var e=this.left-this._dragStartX,t=this.top-this._dragStartY,i=this.element.nativeElement.getBoundingClientRect().left,n=this.element.nativeElement.getBoundingClientRect().top,r=this._dragStartX-i,o=this._dragStartY-n;this.top=i+e-r,this.left=n+t-o}},e.prototype.dropFinished=function(){if(this.animateOnRelease&&this.dragGhost){this.updateDragRelativePos();var e=parseInt(document.defaultView.getComputedStyle(this.element.nativeElement)["margin-top"],10),t=parseInt(document.defaultView.getComputedStyle(this.element.nativeElement)["margin-left"],10),i=this.element.nativeElement.getBoundingClientRect().left+this.getWindowScrollLeft(),n=this.element.nativeElement.getBoundingClientRect().top+this.getWindowScrollTop();this.dragGhost.style.transitionDuration=this.defaultReturnDuration,this.left=i-t,this.top=n-e}},e.prototype.onTransitionEnd=function(e){var t=this;this._dragStarted&&!this._clicked&&(this.hideBaseOnDrag&&(this.visible=!0),this.dragGhost.parentNode.removeChild(this.dragGhost),this.dragGhost=null,this.element.nativeElement.style.transitionDuration="0.0s",this._dragStarted=!1,this.zone.run(function(){t.returnMoveEnd.emit({originalEvent:e,owner:t})}))},e.prototype.getElementsAtPoint=function(e,t){var i=e-window.pageXOffset,n=t-window.pageYOffset;return document.msElementsFromPoint?document.msElementsFromPoint(i,n):document.elementsFromPoint(i,n)},e.prototype.dispatchEvent=function(e,t,i){var n=document.createEvent("CustomEvent");n.initCustomEvent(t,!1,!1,i),e.dispatchEvent(n)},e.prototype.getWindowScrollTop=function(){return window.scrollY?window.scrollY:window.pageYOffset?window.pageYOffset:0},e.prototype.getWindowScrollLeft=function(){return window.scrollX?window.scrollX:window.pageXOffset?window.pageXOffset:0},e.decorators=[{type:b.Directive,args:[{selector:"[igxDrag]"}]}],e.ctorParameters=function(){return[{type:b.ChangeDetectorRef},{type:b.ElementRef},{type:b.NgZone},{type:b.Renderer2}]},e.propDecorators={data:[{type:b.Input,args:["igxDrag"]}],dragTolerance:[{type:b.Input}],ghostImageClass:[{type:b.Input}],hideBaseOnDrag:[{type:b.Input}],animateOnRelease:[{type:b.Input}],dragGhostHost:[{type:b.Input}],dragStart:[{type:b.Output}],dragEnd:[{type:b.Output}],returnMoveEnd:[{type:b.Output}],dragClicked:[{type:b.Output}],touch:[{type:b.HostBinding,args:["style.touchAction"]}],transitionProperty:[{type:b.HostBinding,args:["style.transitionProperty"]}],_visibility:[{type:b.HostBinding,args:["style.visibility"]}]},e}(),Wr=function(){function e(e,t,i){this.element=e,this._renderer=t,this._zone=i,this.onEnter=new b.EventEmitter,this.onLeave=new b.EventEmitter,this.onDrop=new b.EventEmitter,this.droppable=!0,this.dragover=!1,this._destroy=new x.Subject}return e.prototype.ngOnInit=function(){var t=this;this._zone.runOutsideAngular(function(){x.fromEvent(t.element.nativeElement,"igxDragEnter").pipe(p.takeUntil(t._destroy)).subscribe(function(e){return t.onDragEnter(e)}),x.fromEvent(t.element.nativeElement,"igxDragLeave").pipe(p.takeUntil(t._destroy)).subscribe(function(e){return t.onDragLeave(e)}),x.fromEvent(t.element.nativeElement,"igxDragOver").pipe(p.takeUntil(t._destroy)).subscribe(function(e){return t.onDragOver(e)})})},e.prototype.ngOnDestroy=function(){this._destroy.next(!0),this._destroy.complete()},e.prototype.onDragOver=function(e){},e.prototype.onDragEnter=function(e){var t=this;this.dragover=!0;var i=this.element.nativeElement.getBoundingClientRect().left+this.getWindowScrollLeft(),n=this.element.nativeElement.getBoundingClientRect().top+this.getWindowScrollTop(),r=e.detail.pageX-i,o=e.detail.pageY-n,s={originalEvent:e.detail.originalEvent,owner:this,drag:e.detail.owner,dragData:e.detail.owner.data,startX:e.detail.startX,startY:e.detail.startY,pageX:e.detail.pageX,pageY:e.detail.pageY,offsetX:r,offsetY:o};this._zone.run(function(){t.onEnter.emit(s)})},e.prototype.onDragLeave=function(e){var t=this;this.dragover=!1;var i=this.element.nativeElement.getBoundingClientRect().left+this.getWindowScrollLeft(),n=this.element.nativeElement.getBoundingClientRect().top+this.getWindowScrollTop(),r=e.detail.pageX-i,o=e.detail.pageY-n,s={originalEvent:e.detail.originalEvent,owner:this,drag:e.detail.owner,dragData:e.detail.owner.data,startX:e.detail.startX,startY:e.detail.startY,pageX:e.detail.pageX,pageY:e.detail.pageY,offsetX:r,offsetY:o};this._zone.run(function(){t.onLeave.emit(s)})},e.prototype.onDragDrop=function(e){var t=this,i=this.element.nativeElement.getBoundingClientRect().left+this.getWindowScrollLeft(),n=this.element.nativeElement.getBoundingClientRect().top+this.getWindowScrollTop(),r=e.detail.pageX-i,o=e.detail.pageY-n,s={owner:this,originalEvent:e.detail.originalEvent,drag:e.detail.owner,dragData:e.detail.owner.data,offsetX:r,offsetY:o,cancel:!1};this._zone.run(function(){t.onDrop.emit(s)}),s.cancel||(this._renderer.removeChild(e.detail.owner.element.nativeElement.parentNode,e.detail.owner.element.nativeElement),this._renderer.appendChild(this.element.nativeElement,e.detail.owner.element.nativeElement),setTimeout(function(){e.detail.owner.dropFinished()},0))},e.prototype.getWindowScrollTop=function(){return window.scrollY?window.scrollY:window.pageYOffset?window.pageYOffset:0},e.prototype.getWindowScrollLeft=function(){return window.scrollX?window.scrollX:window.pageXOffset?window.pageXOffset:0},e.decorators=[{type:b.Directive,args:[{selector:"[igxDrop]"}]}],e.ctorParameters=function(){return[{type:b.ElementRef},{type:b.Renderer2},{type:b.NgZone}]},e.propDecorators={data:[{type:b.Input,args:["igxDrop"]}],onEnter:[{type:b.Output}],onLeave:[{type:b.Output}],onDrop:[{type:b.Output}],droppable:[{type:b.HostBinding,args:["attr.droppable"]}],dragover:[{type:b.HostBinding,args:["class.dragOver"]}],onDragDrop:[{type:b.HostListener,args:["igxDrop",["$event"]]}]},e}(),Ur=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[zr,Wr],exports:[zr,Wr]}]}],e}(),Kr=function(){function e(){this.inputValue=""}return e.prototype.get_value=function(e,t){var i="";return t&&e[t]?i=e[t].toString():e.element&&(e.element.nativeElement?i=e.element.nativeElement.textContent.trim():e.element.textContent&&(i=e.element.textContent.trim())),i},e.prototype.formatter=function(e){return e.toLowerCase()},e.prototype.matchFn=function(e,t){return-1<e.indexOf(t&&t.toLowerCase()||"")},e.prototype.metConditionFn=function(e){e.hasOwnProperty("hidden")&&(e.hidden=!1)},e.prototype.overdueConditionFn=function(e){e.hasOwnProperty("hidden")&&(e.hidden=!0)},e}(),$r=function(){function e(e,t){this.element=e,this.filtering=new b.EventEmitter(!1),this.filtered=new b.EventEmitter}return e.prototype.ngOnChanges=function(e){e.filterOptions&&e.filterOptions.currentValue&&e.filterOptions.currentValue.inputValue!==undefined&&e.filterOptions.previousValue&&e.filterOptions.currentValue.inputValue!==e.filterOptions.previousValue.inputValue&&this.filter()},e.prototype.filter=function(){if(this.filterOptions.items){var e={cancel:!1,items:this.filterOptions.items};if(this.filtering.emit(e),!e.cancel){var t=(new Yr).transform(this.filterOptions.items,this.filterOptions);this.filtered.emit({filteredItems:t})}}},e.decorators=[{type:b.Directive,args:[{selector:"[igxFilter]"}]}],e.ctorParameters=function(){return[{type:b.ElementRef},{type:b.Renderer2}]},e.propDecorators={filtering:[{type:b.Output}],filtered:[{type:b.Output}],filterOptions:[{type:b.Input,args:["igxFilter"]}]},e}(),Yr=function(){function e(){}return e.prototype.transform=function(e,i){if(e&&e.length&&i)return i.items&&(e=i.items),e.filter(function(e){var t=i.matchFn(i.formatter(i.get_value(e,i.key)),i.inputValue);return t?i.metConditionFn&&i.metConditionFn(e):i.overdueConditionFn&&i.overdueConditionFn(e),t})},e.decorators=[{type:b.Pipe,args:[{name:"igxFilter",pure:!1}]}],e}(),Xr=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[$r,Yr],exports:[$r,Yr],imports:[r.CommonModule]}]}],e}(),qr=function(){function e(e,t){this.element=e,this.comp=t,this.focusState=!0}return Object.defineProperty(e.prototype,"focused",{get:function(){return this.focusState},set:function(e){this.focusState=e,this.trigger()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.comp&&this.comp[0]&&this.comp[0].getEditElement?this.comp[0].getEditElement():this.element.nativeElement},enumerable:!0,configurable:!0}),e.prototype.trigger=function(){var e=this;this.focusState&&requestAnimationFrame(function(){return e.nativeElement.focus()})},e.decorators=[{type:b.Directive,args:[{exportAs:"igxFocus",selector:"[igxFocus]"}]}],e.ctorParameters=function(){return[{type:b.ElementRef},{type:Array,decorators:[{type:b.Inject,args:[o.NG_VALUE_ACCESSOR]},{type:b.Self},{type:b.Optional}]}]},e.propDecorators={focused:[{type:b.Input,args:["igxFocus"]}]},e}(),Zr=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[qr],exports:[qr]}]}],e}(),Jr=function(){function e(){this.dir="row",this.reverse=!1,this.wrap="nowrap",this.justify="flex-start",this.itemAlign="stretch",this.display="flex"}return Object.defineProperty(e.prototype,"flexwrap",{get:function(){return this.wrap},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"justifycontent",{get:function(){return this.justify},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this.itemAlign},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"direction",{get:function(){return this.reverse?"row"===this.dir?"row-reverse":"column-reverse":"row"===this.dir?"row":"column"},enumerable:!0,configurable:!0}),e.decorators=[{type:b.Directive,args:[{selector:"[igxLayout]"}]}],e.propDecorators={dir:[{type:b.Input,args:["igxLayoutDir"]}],reverse:[{type:b.Input,args:["igxLayoutReverse"]}],wrap:[{type:b.Input,args:["igxLayoutWrap"]}],justify:[{type:b.Input,args:["igxLayoutJustify"]}],itemAlign:[{type:b.Input,args:["igxLayoutItemAlign"]}],display:[{type:b.HostBinding,args:["style.display"]}],flexwrap:[{type:b.HostBinding,args:["style.flex-wrap"]}],justifycontent:[{type:b.HostBinding,args:["style.justify-content"]}],align:[{type:b.HostBinding,args:["style.align-items"]}],direction:[{type:b.HostBinding,args:["style.flex-direction"]}]},e}(),Qr=function(){function e(){this.grow=1,this.shrink=1,this.flex="",this.order=0,this.basis="auto"}return Object.defineProperty(e.prototype,"style",{get:function(){return this.flex?""+this.flex:this.grow+" "+this.shrink+" "+this.basis},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemorder",{get:function(){return this.order||0},enumerable:!0,configurable:!0}),e.decorators=[{type:b.Directive,args:[{selector:"[igxFlex]"}]}],e.propDecorators={grow:[{type:b.Input,args:["igxFlexGrow"]}],shrink:[{type:b.Input,args:["igxFlexShrink"]}],flex:[{type:b.Input,args:["igxFlex"]}],order:[{type:b.Input,args:["igxFlexOrder"]}],basis:[{type:b.Input,args:["igxFlexBasis"]}],style:[{type:b.HostBinding,args:["style.flex"]}],itemorder:[{type:b.HostBinding,args:["style.order"]}]},e}(),eo=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[Qr,Jr],exports:[Qr,Jr]}]}],e}(),to=["C","&","a","A","?","L","9","0","#"],io=17,no=90,ro=89,oo=8,so=46,ao=function(){function e(){}return Object.defineProperty(e.prototype,"cursor",{get:function(){return this._cursor},enumerable:!0,configurable:!0}),e.prototype.parseValueByMask=function(e,t,i){var n=e,r=t.format,o=this.getMaskLiterals(r),s=Array.from(o.keys()),a=this.getNonLiteralIndeces(r,s);if(n.length<r.length){if(""===n&&-1===i)return this._cursor=0,this.parseValueByMaskOnInit(e,t);if(-1!==a.indexOf(i+1))n=this.insertCharAt(n,i+1,t.promptChar),this._cursor=i+1;else{n=this.insertCharAt(n,i+1,r[i+1]),this._cursor=i+1;for(var l=this._cursor;l<0&&-1!==s.indexOf(this._cursor);l--)this._cursor--}}else{var c=n[i],p=this.validateCharOnPostion(c,i,r);if(-1!==a.indexOf(i))n=this.replaceCharAt(n,i,""),this._cursor=p?(n=this.replaceCharAt(n,i,c),i+1):i;else{n=this.replaceCharAt(n,i,""),this._cursor=++i;for(l=i;l<r.length;l++){if(-1===s.indexOf(this._cursor)){if(p=this.validateCharOnPostion(c,i,r)){n=this.replaceCharAt(n,i,c),this._cursor=++i;break}break}this._cursor=++i}}}return n},e.prototype.parseMask=function(e){var t,i,n=this,r="",o=e.format,s=this.getMaskLiterals(o);try{for(var a=S(o),l=a.next();!l.done;l=a.next()){l.value;r+=e.promptChar}}catch(c){t={error:c}}finally{try{l&&!l.done&&(i=a["return"])&&i.call(a)}finally{if(t)throw t.error}}return s.forEach(function(e,t){r=n.replaceCharAt(r,t,e)}),r},e.prototype.parseValueByMaskOnInit=function(e,t){var i,n,r,o,s=this,a="",l="",c=t.format,p=this.getMaskLiterals(c),u=Array.from(p.keys()),d=this.getNonLiteralIndeces(c,u),h=Array.from(p.values());null!=e&&(l=e.toString());try{for(var g=S(c),f=g.next();!f.done;f=g.next()){f.value;a+=t.promptChar}}catch(w){i={error:w}}finally{try{f&&!f.done&&(n=g["return"])&&n.call(g)}finally{if(i)throw i.error}}if(p.forEach(function(e,t){a=s.replaceCharAt(a,t,e)}),!l)return a;for(var m=this.getNonLiteralValues(l,h),y=0;y<m.length;y++){var v=m[y];this.validateCharOnPostion(v,d[y],c)||v===t.promptChar||(m[y]=t.promptChar)}m.length>d.length&&m.splice(d.length);var x=0;try{for(var b=S(m),C=b.next();!C.done;C=b.next()){v=C.value;a=this.replaceCharAt(a,d[x++],v)}}catch(_){r={error:_}}finally{try{C&&!C.done&&(o=b["return"])&&o.call(b)}finally{if(r)throw r.error}}return a},e.prototype.restoreValueFromMask=function(e,t){var i,n,r="",o=t.format,s=this.getMaskLiterals(o),a=Array.from(s.values());try{for(var l=S(e),c=l.next();!c.done;c=l.next()){var p=c.value;-1===a.indexOf(p)&&p!==t.promptChar&&(r+=p)}}catch(u){i={error:u}}finally{try{c&&!c.done&&(n=l["return"])&&n.call(l)}finally{if(i)throw i.error}}return r},e.prototype.parseValueByMaskUponSelection=function(e,t,i,n){var r=e,o=r[i],s=t.format,a=this.getMaskLiterals(s),l=Array.from(a.keys()),c=this.getNonLiteralIndeces(s,l);if(this.data){if(""===r&&-1===i)return this._cursor=0,this.parseValueByMaskOnInit(e,t);this._cursor<0&&(this._cursor++,i++),i++,this._cursor=i;for(p=0;p<n;p++)r=-1!==c.indexOf(i)?this.insertCharAt(r,i,t.promptChar):this.insertCharAt(r,i,s[i]),i++}else if(this._cursor=i<0?++i:i,-1!==c.indexOf(this._cursor)){if(r=this.validateCharOnPostion(o,this._cursor,s)?this.replaceCharAt(r,this._cursor++,o):r=this.replaceCharAt(r,this._cursor++,t.promptChar),0<--n)for(var p=0;p<n;p++)i++,r=-1!==c.indexOf(i)?this.insertCharAt(r,i,t.promptChar):this.insertCharAt(r,i,s[i])}else{r=this.replaceCharAt(r,this._cursor,s[this._cursor]),this._cursor++;var u=!1;if(0<--n){i=this._cursor;for(var p=0;p<n;p++)-1!==c.indexOf(i)?this.validateCharOnPostion(o,i,s)&&!u?(r=this.insertCharAt(r,i,o),i++,this._cursor++,u=!0):(r=this.insertCharAt(r,i,t.promptChar),i++):(r=this.insertCharAt(r,i,s[i]),i===this._cursor&&this._cursor++,i++)}}return r},e.prototype.parseValueByMaskUponCopyPaste=function(e,t,i,n,r){var o,s,a=e,l=t.format,c=this.getMaskLiterals(l),p=Array.from(c.keys()),u=this.getNonLiteralIndeces(l,p),d=i+r;this._cursor=i;try{for(var h=S(n),g=h.next();!g.done;g=h.next()){var f=g.value;if(this._cursor>l.length)return a;if(-1!==u.indexOf(this._cursor))this.validateCharOnPostion(f,this._cursor,l)&&(a=this.replaceCharAt(a,this._cursor++,f));else for(var m=i;m<l.length;m++){if(-1===p.indexOf(this._cursor)){this.validateCharOnPostion(f,this._cursor,l)&&(a=this.replaceCharAt(a,this._cursor++,f));break}this._cursor++}r--}}catch(y){o={error:y}}finally{try{g&&!g.done&&(s=h["return"])&&s.call(h)}finally{if(o)throw o.error}}if(0<r)for(m=this._cursor;m<d;m++)-1!==p.indexOf(this._cursor)?this._cursor++:a=this.replaceCharAt(a,this._cursor++,t.promptChar);return a},e.prototype.validateCharOnPostion=function(e,t,i){var n;switch(i.charAt(t)){case"C":n=""!==e;break;case"&":n=!new RegExp("[\\u0020]").test(e);break;case"a":n=new RegExp("[\\d\\u00C0-\\u1FFF\\u2C00-\\uD7FFa-zA-Z\\u0020]").test(e);break;case"A":n=new RegExp("[\\d\\u00C0-\\u1FFF\\u2C00-\\uD7FFa-zA-Z]").test(e);break;case"?":n=new RegExp("[\\u00C0-\\u1FFF\\u2C00-\\uD7FFa-zA-Z\\u0020]").test(e);break;case"L":n=new RegExp("[\\u00C0-\\u1FFF\\u2C00-\\uD7FFa-zA-Z]").test(e);break;case"0":n=new RegExp("[\\d]").test(e);break;case"9":n=new RegExp("[\\d\\u0020]").test(e);break;case"#":n=new RegExp("[\\d-\\+]").test(e);break;default:n=null}return n},e.prototype.replaceCharAt=function(e,t,i){if(e!==undefined)return e.substring(0,t)+i+e.substring(t+1)},e.prototype.insertCharAt=function(e,t,i){if(e!==undefined)return e.substring(0,t)+i+e.substring(t)},e.prototype.getMaskLiterals=function(e){for(var t=new Map,i=0;i<e.length;i++){var n=e.charAt(i);-1===to.indexOf(n)&&t.set(i,n)}return t},e.prototype.getNonLiteralIndeces=function(e,t){for(var i=new Array,n=0;n<e.length;n++)-1===t.indexOf(n)&&i.push(n);return i},e.prototype.getNonLiteralValues=function(e,t){var i,n,r=new Array;try{for(var o=S(e),s=o.next();!s.done;s=o.next()){var a=s.value;-1===t.indexOf(a)&&r.push(a)}}catch(l){i={error:l}}finally{try{s&&!s.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return r},e}(),lo=function(){},co=function(){function e(e){this.elementRef=e,this.onValueChange=new b.EventEmitter,this._maskOptions={format:"",promptChar:""},this._onTouchedCallback=lo,this._onChangeCallback=lo,this.maskHelper=new ao}return Object.defineProperty(e.prototype,"placeholder",{get:function(){return this._placeholder},set:function(e){this._placeholder=e,this.nativeElement.setAttribute("placeholder",this._placeholder)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.nativeElement.value},set:function(e){this.nativeElement.value=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectionStart",{get:function(){return this.nativeElement.selectionStart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectionEnd",{get:function(){return this.nativeElement.selectionEnd},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.promptChar&&1<this.promptChar.length&&(this._maskOptions.promptChar=this.promptChar=this.promptChar.substring(0,1)),this._maskOptions.format=this.mask?this.mask:"CCCCCCCCCC",this._maskOptions.promptChar=this.promptChar?this.promptChar:"_",this.nativeElement.setAttribute("placeholder",this.placeholder?this.placeholder:this._maskOptions.format)},e.prototype.onKeydown=function(e){var t=e.keyCode||e.charCode;ai()&&this._stopPropagation&&(this._stopPropagation=!1),t===io&&(this._ctrlDown=!0),(this._ctrlDown&&t===no||this._ctrlDown&&t===ro)&&e.preventDefault(),this._key=t,this._selection=Math.abs(this.selectionEnd-this.selectionStart)},e.prototype.onKeyup=function(e){(e.keyCode||e.charCode)===io&&(this._ctrlDown=!1)},e.prototype.onPaste=function(e){this._paste=!0,this._valOnPaste=this.value,this._cursorOnPaste=this.getCursorPosition()},e.prototype.onInputChanged=function(e){if(ai()&&this._stopPropagation)this._stopPropagation=!1;else{if(this._paste){this._paste=!1;var t=this.value.substring(this._cursorOnPaste,this.getCursorPosition());this.value=this.maskHelper.parseValueByMaskUponCopyPaste(this._valOnPaste,this._maskOptions,this._cursorOnPaste,t,this._selection),this.setCursorPosition(this.maskHelper.cursor)}else{var i=this.getCursorPosition();this.maskHelper.data=this._key===oo||this._key===so,this.value=this._selection&&0!==this._selection?this.maskHelper.parseValueByMaskUponSelection(this.value,this._maskOptions,i-1,this._selection):this.maskHelper.parseValueByMask(this.value,this._maskOptions,i-1),this.setCursorPosition(this.maskHelper.cursor)}var n=this.maskHelper.restoreValueFromMask(this.value,this._maskOptions);this.dataValue=this.includeLiterals?this.value:n,this._onChangeCallback(this.dataValue),this.onValueChange.emit({rawValue:n,formattedValue:this.value})}},e.prototype.onFocus=function(e){this.focusedValuePipe?(ai()&&(this._stopPropagation=!0),this.value=this.focusedValuePipe.transform(e)):this.value=this.maskHelper.parseValueByMaskOnInit(this.value,this._maskOptions)},e.prototype.onBlur=function(e){this.displayValuePipe?this.value=this.displayValuePipe.transform(e):e===this.maskHelper.parseMask(this._maskOptions)&&(this.value="")},e.prototype.getCursorPosition=function(){return this.nativeElement.selectionStart},e.prototype.setCursorPosition=function(e,t){void 0===t&&(t=e),this.nativeElement.setSelectionRange(e,t)},e.prototype.writeValue=function(e){this.promptChar&&1<this.promptChar.length&&(this._maskOptions.promptChar=this.promptChar.substring(0,1)),this.value=e?this.maskHelper.parseValueByMaskOnInit(e,this._maskOptions):"",this.displayValuePipe&&(this.value=this.displayValuePipe.transform(this.value)),this.dataValue=this.includeLiterals?this.value:e,this._onChangeCallback(this.dataValue),this.onValueChange.emit({rawValue:e,formattedValue:this.value})},e.prototype.registerOnChange=function(e){this._onChangeCallback=e},e.prototype.registerOnTouched=function(e){this._onTouchedCallback=e},e.decorators=[{type:b.Directive,args:[{providers:[{provide:o.NG_VALUE_ACCESSOR,useExisting:e,multi:!0}],selector:"[igxMask]"}]}],e.ctorParameters=function(){return[{type:b.ElementRef}]},e.propDecorators={mask:[{type:b.Input,args:["igxMask"]}],promptChar:[{type:b.Input}],includeLiterals:[{type:b.Input}],placeholder:[{type:b.Input}],displayValuePipe:[{type:b.Input}],focusedValuePipe:[{type:b.Input}],dataValue:[{type:b.Input}],onValueChange:[{type:b.Output}],onKeydown:[{type:b.HostListener,args:["keydown",["$event"]]}],onKeyup:[{type:b.HostListener,args:["keyup",["$event"]]}],onPaste:[{type:b.HostListener,args:["paste",["$event"]]}],onInputChanged:[{type:b.HostListener,args:["input",["$event"]]}],onFocus:[{type:b.HostListener,args:["focus",["$event.target.value"]]}],onBlur:[{type:b.HostListener,args:["blur",["$event.target.value"]]}]},e}(),po=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[co],exports:[co],imports:[r.CommonModule]}]}],e}(),uo={BEFORE:"before",AFTER:"after"},ho=0,go=function(){},fo=function(){function e(){this.id="igx-radio-"+ho++,this.labelId=this.id+"-label",this.labelPosition="after",this.tabindex=null,this.disableRipple=!1,this.required=!1,this.ariaLabelledBy=this.labelId,this.ariaLabel=null,this.change=new b.EventEmitter,this.cssClass="igx-radio",this.checked=!1,this.disabled=!1,this.focused=!1,this.inputId=this.id+"-input",this._value=null,this._onTouchedCallback=go,this._onChangeCallback=go}return e.prototype._onRadioChange=function(e){e.stopPropagation()},e.prototype._onRadioClick=function(e){e.stopPropagation(),this.select(),ai()&&this.nativeRadio.nativeElement.blur()},e.prototype._onLabelClick=function(){this.select()},e.prototype.select=function(){this.disabled||(this.checked=!0,this.focused=!1,this.change.emit({value:this.value,radio:this}),this._onChangeCallback(this.value))},e.prototype.writeValue=function(e){this._value=e,this.checked=this._value===this.value},e.prototype.getEditElement=function(){return this.nativeRadio.nativeElement},Object.defineProperty(e.prototype,"labelClass",{get:function(){switch(this.labelPosition){case uo.BEFORE:return this.cssClass+"__label--before";case uo.AFTER:default:return this.cssClass+"__label"}},enumerable:!0,configurable:!0}),e.prototype.onFocus=function(e){this.focused=!0},e.prototype.onBlur=function(e){this.focused=!1,this._onTouchedCallback()},e.prototype.registerOnChange=function(e){this._onChangeCallback=e},e.prototype.registerOnTouched=function(e){this._onTouchedCallback=e},e.decorators=[{type:b.Component,args:[{providers:[{provide:o.NG_VALUE_ACCESSOR,useExisting:e,multi:!0}],selector:"igx-radio",template:'<input #radio class="igx-radio__input" type="radio"\n    [id]="inputId"\n    [name]="name"\n    [value]="value"\n    [tabindex]="tabindex"\n    [disabled]="disabled"\n    [checked]="checked"\n    [required]="required"\n    [attr.aria-checked]="checked"\n    [attr.aria-labelledby]="ariaLabelledBy"\n    [attr.aria-label]="ariaLabel"\n    (click)="_onRadioClick($event)"\n    (change)="_onRadioChange($event)"\n    (focus)="onFocus($event)"\n    (blur)="onBlur($event)" />\n\n<label #nativeLabel class="igx-radio__composite" igxRipple\n    igxRippleTarget=".igx-radio__ripple"\n    [igxRippleDisabled]="disableRipple"\n    [igxRippleCentered]="true"\n    [igxRippleDuration]="300"\n    [for]="inputId">\n    <div class="igx-radio__ripple"></div>\n</label>\n\n<span #placeholderLabel role="label"\n    [id]="labelId"\n    [class]="labelClass"\n    (click)="_onLabelClick()">\n    <ng-content></ng-content>\n</span>\n'}]}],e.ctorParameters=function(){return[]},e.propDecorators={nativeRadio:[{type:b.ViewChild,args:["radio"]}],nativeLabel:[{type:b.ViewChild,args:["nativeLabel"]}],placeholderLabel:[{type:b.ViewChild,args:["placeholderLabel"]}],id:[{type:b.HostBinding,args:["attr.id"]},{type:b.Input}],labelId:[{type:b.Input}],labelPosition:[{type:b.Input}],value:[{type:b.Input}],name:[{type:b.Input}],tabindex:[{type:b.Input}],disableRipple:[{type:b.Input}],required:[{type:b.Input}],ariaLabelledBy:[{type:b.Input,args:["aria-labelledby"]}],ariaLabel:[{type:b.Input,args:["aria-label"]}],change:[{type:b.Output}],cssClass:[{type:b.HostBinding,args:["class.igx-radio"]}],checked:[{type:b.HostBinding,args:["class.igx-radio--checked"]},{type:b.Input}],disabled:[{type:b.HostBinding,args:["class.igx-radio--disabled"]},{type:b.Input}],focused:[{type:b.HostBinding,args:["class.igx-radio--focused"]}]},e}(),mo=function(){function e(e,t,i,n){this.builder=e,this.elementRef=t,this.renderer=i,this.zone=n,this.rippleTarget="",this.rippleDuration=600,this.rippleDisabled=!1,this.rippleElementClass="igx-ripple__inner",this.rippleHostClass="igx-ripple",this._centered=!1,this.animationQueue=[]}return Object.defineProperty(e.prototype,"centered",{set:function(e){this._centered=e||this.centered},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),e.prototype.onMouseDown=function(e){var t=this;this.zone.runOutsideAngular(function(){return t._ripple(e)})},e.prototype.setStyles=function(e,t){this.renderer.addClass(e,this.rippleElementClass),this.renderer.setStyle(e,"width",t.radius+"px"),this.renderer.setStyle(e,"height",t.radius+"px"),this.renderer.setStyle(e,"top",t.top+"px"),this.renderer.setStyle(e,"left",t.left+"px"),this.rippleColor&&this.renderer.setStyle(e,"background",this.rippleColor)},e.prototype._ripple=function(e){var t=this;if(!this.rippleDisabled){var i=this.rippleTarget&&this.nativeElement.querySelector(this.rippleTarget)||this.nativeElement,n=i.getBoundingClientRect(),r=Math.max(n.width,n.height),o=e.clientX-n.left-r/2,s=e.clientY-n.top-r/2;this._centered&&(o=s=0);var a={radius:r,top:s,left:o},l=this.renderer.createElement("span");this.setStyles(l,a),this.renderer.addClass(i,this.rippleHostClass),this.renderer.appendChild(i,l);var c=this.builder.build([u.style({opacity:.5,transform:"scale(.3)"}),u.animate(this.rippleDuration,u.style({opacity:0,transform:"scale(2)"}))]).create(l);this.animationQueue.push(c),c.onDone(function(){t.animationQueue.splice(t.animationQueue.indexOf(c),1),i.removeChild(l),t.animationQueue.length<1&&t.renderer.removeClass(i,t.rippleHostClass)}),c.play()}},e.decorators=[{type:b.Directive,args:[{selector:"[igxRipple]"}]}],e.ctorParameters=function(){return[{type:u.AnimationBuilder},{type:b.ElementRef},{type:b.Renderer2},{type:b.NgZone}]},e.propDecorators={rippleTarget:[{type:b.Input,args:["igxRippleTarget"]}],rippleColor:[{type:b.Input,args:["igxRipple"]}],rippleDuration:[{type:b.Input,args:["igxRippleDuration"]}],centered:[{type:b.Input,args:["igxRippleCentered"]}],rippleDisabled:[{type:b.Input,args:["igxRippleDisabled"]}],onMouseDown:[{type:b.HostListener,args:["mousedown",["$event"]]}]},e}(),yo=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[mo],exports:[mo]}]}],e}(),vo=function(){},xo=0,bo=function(){function e(){this.change=new b.EventEmitter,this.cssClass="igx-radio-group",this._onChangeCallback=vo,this._name="igx-radio-group-"+xo++,this._value=null,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this.destroy$=new x.Subject}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value!==e&&(this._value=e,this._selectRadioButton())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){this._name!==e&&(this._name=e,this._setRadioButtonNames())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return this._required},set:function(e){this._required!==e&&(this._required=e,this._setRadioButtonsRequired())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this._disabled!==e&&(this._disabled=e,this._disableRadioButtons())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"labelPosition",{get:function(){return this._labelPosition},set:function(e){this._labelPosition!==e&&(this._labelPosition=e===uo.BEFORE?uo.BEFORE:uo.AFTER,this._setRadioButtonLabelPosition())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(e){this._selected!==e&&(this._selected=e,this.value=e?e.value:null)},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){var e=this;this._isInitialized=!0,setTimeout(function(){e._initRadioButtons()})},e.prototype.writeValue=function(e){this.value=e},e.prototype.registerOnChange=function(e){this._onChangeCallback=e},e.prototype.registerOnTouched=function(t){this.radioButtons&&this.radioButtons.forEach(function(e){e.registerOnTouched(t)})},e.prototype.ngOnDestroy=function(){this.destroy$.next(!0),this.destroy$.complete()},e.prototype._initRadioButtons=function(){var t=this;this.radioButtons&&this.radioButtons.forEach(function(e){e.name=t._name,e.labelPosition=t._labelPosition,e.disabled=t._disabled,e.required=t._required,t._value&&e.value===t._value&&(e.checked=!0,t._selected=e),e.change.pipe(p.takeUntil(t.destroy$)).subscribe(function(e){return t._selectedRadioButtonChanged(e)})})},e.prototype._selectedRadioButtonChanged=function(e){this._selected!==e.radio&&(this._selected&&(this._selected.checked=!1),this._selected=e.radio),this._value=e.value,this._isInitialized&&(this.change.emit(e),this._onChangeCallback(this.value))},e.prototype._setRadioButtonNames=function(){var t=this;this.radioButtons&&this.radioButtons.forEach(function(e){e.name=t._name})},e.prototype._selectRadioButton=function(){var t=this;this.radioButtons&&this.radioButtons.forEach(function(e){t._value&&t._value===e.value?(t._selected!==e&&(t._selected=e),e.checked||e.select()):e.checked&&(e.checked=!1)})},e.prototype._setRadioButtonLabelPosition=function(){var t=this;this.radioButtons&&this.radioButtons.forEach(function(e){e.labelPosition=t._labelPosition})},e.prototype._disableRadioButtons=function(){var t=this;this.radioButtons&&this.radioButtons.forEach(function(e){e.disabled=t._disabled})},e.prototype._setRadioButtonsRequired=function(){var t=this;this.radioButtons&&this.radioButtons.forEach(function(e){e.required=t._required})},e.decorators=[{type:b.Directive,args:[{selector:"igx-radio-group, [igxRadioGroup]",providers:[{provide:o.NG_VALUE_ACCESSOR,useExisting:e,multi:!0}]}]}],e.propDecorators={radioButtons:[{type:b.ContentChildren,args:[fo]}],value:[{type:b.Input}],name:[{type:b.Input}],required:[{type:b.Input}],disabled:[{type:b.Input}],labelPosition:[{type:b.Input}],selected:[{type:b.Input}],change:[{type:b.Output}],cssClass:[{type:b.HostBinding,args:["class.igx-radio-group"]}]},e}(),Co=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[bo,fo],exports:[bo,fo],imports:[yo]}]}],e}(),wo=function(){function n(e,t){var i=this;this.element=e,this.renderer=t,this._div=null,this._observer=null,this._nodeWasRemoved=!1,this._forceEvaluation=!1,this._activeElementIndex=-1,this.groupName="",this._value="",this.destroy$=new x.Subject,n.onActiveElementChanged.pipe(p.takeUntil(this.destroy$)).subscribe(function(e){i.groupName===e&&(-1!==i._activeElementIndex&&i.deactivate(),i.activateIfNecessary())})}return Object.defineProperty(n.prototype,"value",{get:function(){return this._value},set:function(e){e===undefined||null===e?this._value="":this._value=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lastSearchInfo",{get:function(){return this._lastSearchInfo},enumerable:!0,configurable:!0}),n.setActiveHighlight=function(e,t){n.highlightGroupsMap.set(e,t),n.onActiveElementChanged.emit(e)},n.clearActiveHighlight=function(e){n.highlightGroupsMap.set(e,{index:-1}),n.onActiveElementChanged.emit(e)},n.prototype.ngOnDestroy=function(){this.clearHighlight(),null!==this._observer&&this._observer.disconnect(),this.destroy$.next(!0),this.destroy$.complete()},n.prototype.ngOnChanges=function(e){e.value&&!e.value.firstChange?this._valueChanged=!0:(e.row!==undefined&&!e.row.firstChange||e.column!==undefined&&!e.column.firstChange||e.page!==undefined&&!e.page.firstChange)&&(-1!==this._activeElementIndex&&this.deactivate(),this.activateIfNecessary())},n.prototype.ngAfterViewInit=function(){this.parentElement=this.renderer.parentNode(this.element.nativeElement),!1===n.highlightGroupsMap.has(this.groupName)&&n.highlightGroupsMap.set(this.groupName,{index:-1}),this._lastSearchInfo={searchedText:"",content:this.value,matchCount:0,caseSensitive:!1,exactMatch:!1},this._container=this.parentElement.firstElementChild},n.prototype.ngAfterViewChecked=function(){this._valueChanged&&(this.highlight(this._lastSearchInfo.searchedText,this._lastSearchInfo.caseSensitive,this._lastSearchInfo.exactMatch),this.activateIfNecessary(),this._valueChanged=!1)},n.prototype.highlight=function(e,t,i){var n=!!t,r=!!i;return this.searchNeedsEvaluation(e,n,r)?(this._lastSearchInfo.searchedText=e,this._lastSearchInfo.caseSensitive=n,this._lastSearchInfo.exactMatch=r,this._lastSearchInfo.content=this.value,""===e||e===undefined||null===e?this.clearHighlight():(this.clearChildElements(!0),this._lastSearchInfo.matchCount=this.getHighlightedText(e,t,i))):this._nodeWasRemoved&&(this._lastSearchInfo.searchedText=e,this._lastSearchInfo.caseSensitive=n,this._lastSearchInfo.exactMatch=r),this._lastSearchInfo.matchCount},n.prototype.clearHighlight=function(){this.clearChildElements(!1),this._lastSearchInfo.searchedText="",this._lastSearchInfo.matchCount=0},n.prototype.activateIfNecessary=function(){var e=n.highlightGroupsMap.get(this.groupName),t=e.columnIndex===undefined?e.column:e.columnIndex,i=e.rowIndex===undefined?e.row:e.rowIndex;t===this.column&&i===this.row&&e.page===this.page&&this.activate(e.index)},n.prototype.observe=function(){var t=this;if(null===this._observer){this._observer=new MutationObserver(function(e){e.forEach(function(e){Array.from(e.removedNodes).forEach(function(e){e===t._container&&(t._nodeWasRemoved=!0,t.clearChildElements(!1))}),Array.from(e.addedNodes).forEach(function(e){e===t.parentElement.firstElementChild&&t._nodeWasRemoved&&(t._container=t.parentElement.firstElementChild,t._nodeWasRemoved=!1,t._forceEvaluation=!0,t.highlight(t._lastSearchInfo.searchedText,t._lastSearchInfo.caseSensitive,t._lastSearchInfo.exactMatch),t._forceEvaluation=!1,t.activateIfNecessary(),t._observer.disconnect(),t._observer=null)})})}),this._observer.observe(this.parentElement,{childList:!0})}},n.prototype.activate=function(e){if(this.deactivate(),null!==this._div){var t=this._div.querySelectorAll("span");if(this._activeElementIndex=e,t.length<=e)return;var i=t[e];this.renderer.addClass(i,this.activeCssClass),this.renderer.setAttribute(i,"style","background:orange;color:black")}},n.prototype.deactivate=function(){if(-1!==this._activeElementIndex){var e=this._div.querySelectorAll("span");if(e.length<=this._activeElementIndex)this._activeElementIndex=-1;else{var t=e[this._activeElementIndex];this.renderer.removeClass(t,this.activeCssClass),this.renderer.setAttribute(t,"style","background:yellow;color:black"),this._activeElementIndex=-1}}},n.prototype.clearChildElements=function(e){this.renderer.setProperty(this.element.nativeElement,"hidden",e),null!==this._div&&(this.renderer.removeChild(this.parentElement,this._div),this._div=null,this._activeElementIndex=-1)},n.prototype.getHighlightedText=function(e,t,i){this.appendDiv();var n=String(this.value),r=t?n:n.toLowerCase(),o=t?e:e.toLowerCase(),s=0;if(i)r===o?(this.appendSpan('<span class="'+this.cssClass+'" style="background:yellow;color:black">'+n+"</span>"),s++):this.appendText(n);else{for(var a=r.indexOf(o,0),l=0;-1!==a;){var c=a,p=a+o.length;this.appendText(n.substring(l,c)),this.appendSpan('<span class="'+this.cssClass+'" style="background:yellow;color:black">'+n.substring(c,p)+"</span>"),l=p,s++,a=r.indexOf(o,p)}this.appendText(n.substring(l,n.length))}return s},n.prototype.appendText=function(e){var t=this.renderer.createText(e);this.renderer.appendChild(this._div,t)},n.prototype.appendSpan=function(e){var t=this.renderer.createElement("span");this.renderer.appendChild(this._div,t),this.renderer.setProperty(t,"outerHTML",e)},n.prototype.appendDiv=function(){this._div=this.renderer.createElement("div"),this.containerClass&&this.renderer.addClass(this._div,this.containerClass),this.renderer.appendChild(this.parentElement,this._div)},n.prototype.searchNeedsEvaluation=function(e,t,i){var n=this._lastSearchInfo.searchedText;return!this._nodeWasRemoved&&(null===n||n!==e||this._lastSearchInfo.content!==this.value||this._lastSearchInfo.caseSensitive!==t||this._lastSearchInfo.exactMatch!==i||this._forceEvaluation)},n.onActiveElementChanged=new b.EventEmitter,n.highlightGroupsMap=new Map,n.decorators=[{type:b.Directive,args:[{selector:"[igxTextHighlight]"}]}],n.ctorParameters=function(){return[{type:b.ElementRef},{type:b.Renderer2}]},n.propDecorators={cssClass:[{type:b.Input,args:["cssClass"]}],activeCssClass:[{type:b.Input,args:["activeCssClass"]}],containerClass:[{type:b.Input,args:["containerClass"]}],groupName:[{type:b.Input,args:["groupName"]}],value:[{type:b.Input,args:["value"]}],row:[{type:b.Input,args:["row"]}],column:[{type:b.Input,args:["column"]}],page:[{type:b.Input,args:["page"]}]},y([Sn("IgxTextHighlightDirective 'page' input property is deprecated."),C("design:type",Number)],n.prototype,"page",void 0),n}(),_o=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[wo],exports:[wo]}]}],e}(),So=function(){function e(e){this.element=e,this.selectionState=!0}return Object.defineProperty(e.prototype,"selected",{get:function(){return this.selectionState},set:function(e){this.selectionState=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.element.nativeElement},enumerable:!0,configurable:!0}),e.prototype.onFocus=function(){this.trigger()},e.prototype.trigger=function(){var e=this;this.selected&&this.nativeElement.value.length&&requestAnimationFrame(function(){return e.nativeElement.setSelectionRange(0,e.nativeElement.value.length)})},e.decorators=[{type:b.Directive,args:[{exportAs:"igxTextSelection",selector:"[igxTextSelection]"}]}],e.ctorParameters=function(){return[{type:b.ElementRef}]},e.propDecorators={selected:[{type:b.Input,args:["igxTextSelection"]}],onFocus:[{type:b.HostListener,args:["focus"]}]},e}(),Io=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[So],exports:[So]}]}],e}(),Do=function(n){function e(e,t){var i=n.call(this,e,t)||this;return i._element=e,i._navigationService=t,i.showDelay=500,i.hideDelay=500,i.tooltipDisabled=!1,i.onTooltipShow=new b.EventEmitter,i.onTooltipHide=new b.EventEmitter,i}return f(e,n),Object.defineProperty(e.prototype,"target",{get:function(){return"string"==typeof this._target?this._navigationService.get(this._target):this._target},set:function(e){null!==e&&""!==e&&(this._target=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this._element.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipHidden",{get:function(){return!this.target||this.target.collapsed},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){n.prototype.ngOnInit.call(this);var e={target:this.nativeElement,horizontalDirection:gn.Center,horizontalStartPoint:gn.Center,openAnimation:u.useAnimation(Le,{params:{duration:"150ms"}}),closeAnimation:u.useAnimation(h,{params:{duration:"75ms"}})};this._overlayDefaults.positionStrategy=new Tn(e),this._overlayDefaults.closeOnOutsideClick=!1},e.prototype.checkOutletAndOutsideClick=function(){this.closeOnOutsideClick!==undefined&&(this._overlayDefaults.closeOnOutsideClick=this.closeOnOutsideClick),this.outlet&&(this._overlayDefaults.outlet=this.outlet)},Object.defineProperty(e.prototype,"mergedOverlaySettings",{get:function(){return Object.assign({},this._overlayDefaults,this.overlaySettings)},enumerable:!0,configurable:!0}),e.prototype.preMouseEnterCheck=function(){if(this.target.toBeShown&&(clearTimeout(this.target.timeoutId),this.target.toBeShown=!1),!this.target.collapsed||this.target.toBeHidden){clearTimeout(this.target.timeoutId);var e={target:this,tooltip:this.target,cancel:!1};if(this.onTooltipHide.emit(e),e.cancel)return!0;this.target.forceClose(this.mergedOverlaySettings),this.target.toBeHidden=!1}return!1},e.prototype.preMouseLeaveCheck=function(){return clearTimeout(this.target.timeoutId),!!this.target.toBeShown&&(this.target.toBeShown=!1,!(this.target.toBeHidden=!1))},e.prototype.onKeydownEscape=function(){var e={target:this,tooltip:this.target,cancel:!1};this.onTooltipHide.emit(e),e.cancel||(this.target.toBeHidden=!0,this.target.close(),this.target.toBeHidden=!1)},e.prototype.onClick=function(){if(!this.target.collapsed){var e={target:this,tooltip:this.target,cancel:!1};if(this.onTooltipHide.emit(e),e.cancel)return;this.target.forceClose(this.mergedOverlaySettings)}},e.prototype.onMouseEnter=function(){var e=this;if(!this.tooltipDisabled&&(this.checkOutletAndOutsideClick(),!this.preMouseEnterCheck())){var t={target:this,tooltip:this.target,cancel:!1};this.onTooltipShow.emit(t),t.cancel||(this.target.toBeShown=!0,this.target.timeoutId=setTimeout(function(){e.target.open(e.mergedOverlaySettings),e.target.toBeShown=!1},this.showDelay))}},e.prototype.onMouseLeave=function(){var e=this;if(!this.tooltipDisabled&&(this.checkOutletAndOutsideClick(),!this.preMouseLeaveCheck()&&!this.target.collapsed)){var t={target:this,tooltip:this.target,cancel:!1};this.onTooltipHide.emit(t),t.cancel||(this.target.toBeHidden=!0,this.target.timeoutId=setTimeout(function(){e.target.close(),e.target.toBeHidden=!1},this.hideDelay))}},e.prototype.onTouchStart=function(e){this.tooltipDisabled||(e.preventDefault(),this.showTooltip())},e.prototype.onDocumentTouchStart=function(e){this.tooltipDisabled||this.nativeElement===e.target||this.nativeElement.contains(e.target)||this.hideTooltip()},e.prototype.showTooltip=function(){var e=this;if(clearTimeout(this.target.timeoutId),!this.target.collapsed){var t={target:this,tooltip:this.target,cancel:!1};if(this.onTooltipHide.emit(t),t.cancel)return;this.target.forceClose(this.mergedOverlaySettings),this.target.toBeHidden=!1}var i={target:this,tooltip:this.target,cancel:!1};this.onTooltipShow.emit(i),i.cancel||(this.target.toBeShown=!0,this.target.timeoutId=setTimeout(function(){e.target.open(e.mergedOverlaySettings),e.target.toBeShown=!1},this.showDelay))},e.prototype.hideTooltip=function(){var e=this;if(this.target.collapsed&&this.target.toBeShown&&clearTimeout(this.target.timeoutId),!this.target.collapsed&&!this.target.toBeHidden){var t={target:this,tooltip:this.target,cancel:!1};this.onTooltipHide.emit(t),t.cancel||(this.target.toBeHidden=!0,this.target.timeoutId=setTimeout(function(){e.target.close(),e.target.toBeHidden=!1},this.hideDelay))}},e.decorators=[{type:b.Directive,args:[{exportAs:"tooltipTarget",selector:"[igxTooltipTarget]"}]}],e.ctorParameters=function(){return[{type:b.ElementRef},{type:Zt,decorators:[{type:b.Optional}]}]},e.propDecorators={showDelay:[{type:b.Input,args:["showDelay"]}],hideDelay:[{type:b.Input,args:["hideDelay"]}],tooltipDisabled:[{type:b.Input,args:["tooltipDisabled"]}],target:[{type:b.Input,args:["igxTooltipTarget"]}],onTooltipShow:[{type:b.Output}],onTooltipHide:[{type:b.Output}],onKeydownEscape:[{type:b.HostListener,args:["document:keydown.escape",["$event"]]}],onClick:[{type:b.HostListener,args:["click"]}],onMouseEnter:[{type:b.HostListener,args:["mouseenter"]}],onMouseLeave:[{type:b.HostListener,args:["mouseleave"]}],onTouchStart:[{type:b.HostListener,args:["touchstart",["$event"]]}],onDocumentTouchStart:[{type:b.HostListener,args:["document:touchstart",["$event"]]}]},e}(Bn),Eo=0,Oo=function(o){function e(e,t,i,n){var r=o.call(this,e,t,i,n)||this;return r.toBeHidden=!1,r.toBeShown=!1,r.id="igx-tooltip-"+Eo++,r}return f(e,o),Object.defineProperty(e.prototype,"hiddenClass",{get:function(){return this.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultClass",{get:function(){return!this.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"role",{get:function(){return"tooltip"},enumerable:!0,configurable:!0}),e.prototype.forceOpen=function(e){var t=this.overlayService.getOverlayById(this._overlayId);if(!!t&&t.openAnimationPlayer)t.openAnimationPlayer.finish(),t.openAnimationPlayer.reset(),t.openAnimationPlayer=null;else if(this.collapsed){var i=e.positionStrategy.settings.openAnimation;e.positionStrategy.settings.openAnimation=null,this.open(e),e.positionStrategy.settings.openAnimation=i}},e.prototype.forceClose=function(e){var t=this.overlayService.getOverlayById(this._overlayId);if(!!t&&t.closeAnimationPlayer)t.closeAnimationPlayer.finish(),t.closeAnimationPlayer.reset(),t.closeAnimationPlayer=null;else if(!this.collapsed){var i=e.positionStrategy.settings.closeAnimation;e.positionStrategy.settings.closeAnimation=null,this.close(),e.positionStrategy.settings.closeAnimation=i}},e.decorators=[{type:b.Directive,args:[{exportAs:"tooltip",selector:"[igxTooltip]"}]}],e.ctorParameters=function(){return[{type:b.ElementRef},{type:b.ChangeDetectorRef},{type:En,decorators:[{type:b.Inject,args:[En]}]},{type:Zt,decorators:[{type:b.Optional}]}]},e.propDecorators={hiddenClass:[{type:b.HostBinding,args:["class.igx-tooltip--hidden"]}],defaultClass:[{type:b.HostBinding,args:["class.igx-tooltip--desktop"]}],context:[{type:b.Input,args:["context"]}],id:[{type:b.HostBinding,args:["attr.id"]},{type:b.Input}],role:[{type:b.HostBinding,args:["attr.role"]}]},e}(Hn),Po=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[Oo,Do],exports:[Oo,Do],imports:[r.CommonModule],providers:[En]}]}],e}(),To=function(){function e(){this.operations=[{name:"null",isUnary:!0,iconName:"is_null",logic:function(e){return null===e}},{name:"notNull",isUnary:!0,iconName:"is_not_null",logic:function(e){return null!==e}}]}return e.prototype.conditionList=function(){return this.operations.map(function(e){return e.name})},e.prototype.condition=function(t){return this.operations.find(function(e){return e.name===t})},e.prototype.append=function(e){this.operations.push(e)},e}(),Ro=function(t){function e(){var e=t.call(this)||this;return e.operations=[{name:"all",isUnary:!0,iconName:"all",logic:function(e){return!0}},{name:"true",isUnary:!0,iconName:"is_true",logic:function(e){return!(!e||null===e||e===undefined)}},{name:"false",isUnary:!0,iconName:"is_false",logic:function(e){return!e&&null!==e&&e!==undefined}},{name:"empty",isUnary:!0,iconName:"empty",logic:function(e){return null===e||e===undefined}},{name:"notEmpty",isUnary:!0,iconName:"not_empty",logic:function(e){return null!==e&&e!==undefined}}].concat(e.operations),e}return f(e,t),e.instance=function(){return this._instance||(this._instance=new this)},e._instance=null,e}(To),ko=function(e){function s(){var o=e.call(this)||this;return o.operations=[{name:"equals",isUnary:!1,iconName:"equals",logic:function(e,t){if(!e)return!1;o.validateInputData(e);var i=s.getDateParts(e,"yMd"),n=s.getDateParts(t,"yMd");return i.year===n.year&&i.month===n.month&&i.day===n.day}},{name:"doesNotEqual",isUnary:!1,iconName:"not_equal",logic:function(e,t){if(!e)return!0;o.validateInputData(e);var i=s.getDateParts(e,"yMd"),n=s.getDateParts(t,"yMd");return i.year!==n.year||i.month!==n.month||i.day!==n.day}},{name:"before",isUnary:!1,iconName:"is_before",logic:function(e,t){return!!e&&(o.validateInputData(e),e<t)}},{name:"after",isUnary:!1,iconName:"is_after",logic:function(e,t){return!!e&&(o.validateInputData(e),t<e)}},{name:"today",isUnary:!0,iconName:"today",logic:function(e){if(!e)return!1;o.validateInputData(e);var t=s.getDateParts(e,"yMd"),i=s.getDateParts(new Date,"yMd");return t.year===i.year&&t.month===i.month&&t.day===i.day}},{name:"yesterday",isUnary:!0,iconName:"yesterday",logic:function(e){if(!e)return!1;o.validateInputData(e);var t,i=s.getDateParts(e,"yMd"),n=(t=new Date,new Date(t.setDate(t.getDate()-1))),r=s.getDateParts(n,"yMd");return i.year===r.year&&i.month===r.month&&i.day===r.day}},{name:"thisMonth",isUnary:!0,iconName:"this_month",logic:function(e){if(!e)return!1;o.validateInputData(e);var t=s.getDateParts(e,"yM"),i=s.getDateParts(new Date,"yM");return t.year===i.year&&t.month===i.month}},{name:"lastMonth",isUnary:!0,iconName:"last_month",logic:function(e){if(!e)return!1;o.validateInputData(e);var t=s.getDateParts(e,"yM"),i=s.getDateParts(new Date,"yM");return i.month?i.month--:(i.month=11,i.year-=1),t.year===i.year&&t.month===i.month}},{name:"nextMonth",isUnary:!0,iconName:"next_month",logic:function(e){if(!e)return!1;o.validateInputData(e);var t=s.getDateParts(e,"yM"),i=s.getDateParts(new Date,"yM");return 11===i.month?(i.month=0,i.year+=1):i.month++,t.year===i.year&&t.month===i.month}},{name:"thisYear",isUnary:!0,iconName:"this_year",logic:function(e){if(!e)return!1;o.validateInputData(e);var t=s.getDateParts(e,"y"),i=s.getDateParts(new Date,"y");return t.year===i.year}},{name:"lastYear",isUnary:!0,iconName:"last_year",logic:function(e){if(!e)return!1;o.validateInputData(e);var t=s.getDateParts(e,"y"),i=s.getDateParts(new Date,"y");return t.year===i.year-1}},{name:"nextYear",isUnary:!0,iconName:"next_year",logic:function(e){if(!e)return!1;o.validateInputData(e);var t=s.getDateParts(e,"y"),i=s.getDateParts(new Date,"y");return t.year===i.year+1}},{name:"empty",isUnary:!0,iconName:"empty",logic:function(e){return null===e||e===undefined}},{name:"notEmpty",isUnary:!0,iconName:"not_empty",logic:function(e){return null!==e&&e!==undefined}}].concat(o.operations),o}return f(s,e),s.instance=function(){return this._instance||(this._instance=new this)},s.getDateParts=function(e,t){var i={day:null,hours:null,milliseconds:null,minutes:null,month:null,seconds:null,year:null};return e&&t&&(0<=t.indexOf("y")&&(i.year=e.getFullYear()),0<=t.indexOf("M")&&(i.month=e.getMonth()),0<=t.indexOf("d")&&(i.day=e.getDate()),0<=t.indexOf("h")&&(i.hours=e.getHours()),0<=t.indexOf("m")&&(i.minutes=e.getMinutes()),0<=t.indexOf("s")&&(i.seconds=e.getSeconds()),0<=t.indexOf("f")&&(i.milliseconds=e.getMilliseconds())),i},s.prototype.validateInputData=function(e){if(!(e instanceof Date))throw new Error("Could not perform filtering on 'date' column because the datasource object type is not 'Date'.")},s._instance=null,s}(To),Lo=function(t){function e(){var e=t.call(this)||this;return e.operations=[{name:"equals",isUnary:!1,iconName:"equals",logic:function(e,t){return e===t}},{name:"doesNotEqual",isUnary:!1,iconName:"not_equal",logic:function(e,t){return e!==t}},{name:"greaterThan",isUnary:!1,iconName:"greater_than",logic:function(e,t){return t<e}},{name:"lessThan",isUnary:!1,iconName:"less_than",logic:function(e,t){return e<t}},{name:"greaterThanOrEqualTo",isUnary:!1,iconName:"greater_than_or_equal",logic:function(e,t){return t<=e}},{name:"lessThanOrEqualTo",isUnary:!1,iconName:"less_than_or_equal",logic:function(e,t){return e<=t}},{name:"empty",isUnary:!0,iconName:"empty",logic:function(e){return null===e||e===undefined||isNaN(e)}},{name:"notEmpty",isUnary:!0,iconName:"not_empty",logic:function(e){return null!==e&&e!==undefined&&!isNaN(e)}}].concat(e.operations),e}return f(e,t),e.instance=function(){return this._instance||(this._instance=new this)},e._instance=null,e}(To),Ao=function(t){function r(){var e=t.call(this)||this;return e.operations=[{name:"contains",isUnary:!1,iconName:"contains",logic:function(e,t,i){var n=r.applyIgnoreCase(t,i);return-1!==(e=r.applyIgnoreCase(e,i)).indexOf(n)}},{name:"doesNotContain",isUnary:!1,iconName:"does_not_contain",logic:function(e,t,i){var n=r.applyIgnoreCase(t,i);return-1===(e=r.applyIgnoreCase(e,i)).indexOf(n)}},{name:"startsWith",isUnary:!1,iconName:"starts_with",logic:function(e,t,i){var n=r.applyIgnoreCase(t,i);return(e=r.applyIgnoreCase(e,i)).startsWith(n)}},{name:"endsWith",isUnary:!1,iconName:"ends_with",logic:function(e,t,i){var n=r.applyIgnoreCase(t,i);return(e=r.applyIgnoreCase(e,i)).endsWith(n)}},{name:"equals",isUnary:!1,iconName:"equals",logic:function(e,t,i){var n=r.applyIgnoreCase(t,i);return(e=r.applyIgnoreCase(e,i))===n}},{name:"doesNotEqual",isUnary:!1,iconName:"not_equal",logic:function(e,t,i){var n=r.applyIgnoreCase(t,i);return(e=r.applyIgnoreCase(e,i))!==n}},{name:"empty",isUnary:!0,iconName:"empty",logic:function(e){return null===e||e===undefined||0===e.length}},{name:"notEmpty",isUnary:!0,iconName:"not_empty",logic:function(e){return null!==e&&e!==undefined&&0<e.length}}].concat(e.operations),e}return f(r,t),r.instance=function(){return this._instance||(this._instance=new this)},r.applyIgnoreCase=function(e,t){return e=e||"",t?(""+e).toLowerCase():e},r._instance=null,r}(To),Fo=function eh(){this.name="in",this.isUnary=!1,this.iconName="is_in",this.logic=function(e,t){return t.has(e)}},Mo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.logic=function(e,t){return e instanceof Date?t.has(new Date(e.getFullYear(),e.getMonth(),e.getDate()).toISOString()):t.has(e)},e}return f(e,t),e}(Fo),Vo={strategy:new Di},Ho=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t}(Array),Bo=function(){function e(e,t){this._sanitizer=e,this._document=t,this._fontSet="material-icons",this._fontSetAliases=new Map,this._cachedSvgIcons=new Set}return Object.defineProperty(e.prototype,"defaultFontSet",{get:function(){return this._fontSet},set:function(e){this._fontSet=e},enumerable:!0,configurable:!0}),e.prototype.registerFontSetAlias=function(e,t){return void 0===t&&(t=e),this._fontSetAliases.set(e,t),this},e.prototype.fontSetClassName=function(e){return this._fontSetAliases.get(e)||e},e.prototype.addSvgIcon=function(e,t,i){if(void 0===i&&(i=""),!e||!t)throw new Error("You should provide at least `iconName` and `url` to register an svg icon.");var n=this._sanitizer.bypassSecurityTrustResourceUrl(t);if(!n)throw new Error("The provided URL could not be processed as trusted resource URL by Angular's DomSanitizer: \""+t+'".');if(!this._sanitizer.sanitize(b.SecurityContext.RESOURCE_URL,n))throw new Error('The URL provided was not trusted as a resource URL: "'+t+'".');this.fetchSvg(e,t,i)},e.prototype.addSvgIconFromText=function(e,t,i){if(void 0===i&&(i=""),!e||!t)throw new Error("You should provide at least `iconName` and `iconText` to register an svg icon.");this.cacheSvgIcon(e,t,i)},e.prototype.isSvgIconCached=function(e,t){void 0===t&&(t="");var i=this.getSvgIconKey(e,t);return this._cachedSvgIcons.has(i)},e.prototype.getSvgIconKey=function(e,t){return void 0===t&&(t=""),t+"_"+e},e.prototype.fetchSvg=function(i,n,r){void 0===r&&(r="");var o=this,e=new XMLHttpRequest;e.open("GET",n,!0),e.responseType="text",e.onload=function(e){var t=e.target;if(200!==t.status)throw new Error("Could not fetch SVG from url: "+n+"; error: "+t.status+" ("+t.statusText+")");o.cacheSvgIcon(i,t.responseText,r)},e.onerror=function(e){var t=e.target;throw new Error("Could not fetch SVG from url: "+n+"; error status code: "+t.status+" ("+t.statusText+")")},e.send()},e.prototype.cacheSvgIcon=function(e,t,i){if(void 0===i&&(i=""),e&&t){this.ensureSvgContainerCreated();var n=this._document.createElement("DIV");n.innerHTML=t;var r=n.querySelector("svg");if(r){var o=this.getSvgIconKey(e,i);if(r.setAttribute("id",o),r.setAttribute("fit",""),r.setAttribute("preserveAspectRatio","xMidYMid meet"),r.setAttribute("focusable","false"),this._cachedSvgIcons.has(o)){var s=this._svgContainer.querySelector("svg[id='"+o+"']");this._svgContainer.removeChild(s)}this._svgContainer.appendChild(r),this._cachedSvgIcons.add(o)}}},e.prototype.ensureSvgContainerCreated=function(){this._svgContainer||(this._svgContainer=this._document.documentElement.querySelector(".igx-svg-container"),this._svgContainer||(this._svgContainer=this._document.createElement("DIV"),this._svgContainer.classList.add("igx-svg-container"),this._document.documentElement.appendChild(this._svgContainer)))},e.decorators=[{type:b.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:t.DomSanitizer},{type:undefined,decorators:[{type:b.Inject,args:[r.DOCUMENT]}]}]},e.ngInjectableDef=b.defineInjectable({factory:function(){return new e(b.inject(t.DomSanitizer),b.inject(r.DOCUMENT))},token:e,providedIn:"root"}),e}(),jo=0,No=function(){function e(e,t){this._el=e,this.iconService=t,this.cssClass="igx-icon",this.ariaHidden=!0,this.id="igx-icon-"+jo++,this.active=!0,this.el=e,this.font=this.iconService.defaultFontSet,this.iconService.registerFontSetAlias("material","material-icons")}return e.prototype.ngOnInit=function(){this.updateIconClass()},Object.defineProperty(e.prototype,"getFontSet",{get:function(){return this.font},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getActive",{get:function(){return this.active},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getInactive",{get:function(){return!this.active},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getIconColor",{get:function(){return this.iconColor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getIconName",{get:function(){return this.iconName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getSvgKey",{get:function(){return this.iconService.isSvgIconCached(this.iconName,this.font)?"#"+this.iconService.getSvgIconKey(this.iconName,this.font):null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"template",{get:function(){return this.iconName?this.iconService.isSvgIconCached(this.iconName,this.font)?this.svgImage:this.noLigature:this.explicitLigature},enumerable:!0,configurable:!0}),e.prototype.updateIconClass=function(){var e=this.iconService.fontSetClassName(this.font);this.el.nativeElement.classList.add(e),this.iconName&&!this.iconService.isSvgIconCached(this.iconName,this.font)&&this.el.nativeElement.classList.add(this.iconName)},e.decorators=[{type:b.Component,args:[{selector:"igx-icon",template:'<ng-template #noLigature></ng-template>\n\n<ng-template #explicitLigature>\n    <ng-content></ng-content>\n</ng-template>\n\n<ng-template #svgImage>\n    <svg>\n        <use [attr.href]="getSvgKey"></use>\n    </svg>\n</ng-template>\n\n<ng-container *ngTemplateOutlet="template"></ng-container>\n'}]}],e.ctorParameters=function(){return[{type:b.ElementRef},{type:Bo}]},e.propDecorators={noLigature:[{type:b.ViewChild,args:["noLigature",{read:b.TemplateRef}]}],explicitLigature:[{type:b.ViewChild,args:["explicitLigature",{read:b.TemplateRef}]}],svgImage:[{type:b.ViewChild,args:["svgImage",{read:b.TemplateRef}]}],cssClass:[{type:b.HostBinding,args:["class.igx-icon"]}],ariaHidden:[{type:b.HostBinding,args:["attr.aria-hidden"]}],id:[{type:b.HostBinding,args:["attr.id"]},{type:b.Input}],font:[{type:b.Input,args:["fontSet"]}],active:[{type:b.Input,args:["isActive"]}],iconColor:[{type:b.Input,args:["color"]}],iconName:[{type:b.Input,args:["name"]}],getInactive:[{type:b.HostBinding,args:["class.igx-icon--inactive"]}],getIconColor:[{type:b.HostBinding,args:["style.color"]}]},e}(),Go=function(){function e(){}return e.forRoot=function(){return{ngModule:e}},e.decorators=[{type:b.NgModule,args:[{declarations:[No],exports:[No],imports:[r.CommonModule]}]}],y([_n("IgxIconModule.forRoot method is deprecated. Use IgxIconModule instead."),C("design:type",Function),C("design:paramtypes",[]),C("design:returntype",void 0)],e,"forRoot",null),e}(),zo=0,Wo={DEFAULT:"default",INITIALS:"initials",IMAGE:"image",ICON:"icon"},Uo=function(){function e(e){this.elementRef=e,this.ariaLabel="avatar",this.role="img",this.cssClass="igx-avatar",this._size="small",this.id="igx-avatar-"+zo++,this.roundShape=!1}return Object.defineProperty(e.prototype,"size",{get:function(){return this._size},set:function(e){switch(e){case"small":case"medium":case"large":this._size=e;break;default:this._size="small"}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this.src?Wo.IMAGE:this.icon?Wo.ICON:this.initials?Wo.INITIALS:Wo.DEFAULT},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"template",{get:function(){switch(this.type){case Wo.IMAGE:return this.imageTemplate;case Wo.INITIALS:return this.initialsTemplate;case Wo.ICON:return this.iconTemplate;default:return this.defaultTemplate}},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.roleDescription=this.getRole()},e.prototype.ngAfterViewInit=function(){this.elementRef.nativeElement.classList.add("igx-avatar--"+this._size,"igx-avatar--"+this.type)},e.prototype.getRole=function(){switch(this.type){case Wo.IMAGE:return"image avatar";case Wo.ICON:return"icon avatar";case Wo.INITIALS:return"initials avatar";default:return"custom avatar"}},e.prototype.getSrcUrl=function(){return"url("+this.src+")"},e.decorators=[{type:b.Component,args:[{selector:"igx-avatar",template:'<ng-template #defaultTemplate>\n    <ng-content></ng-content>\n</ng-template>\n\n<ng-template #imageTemplate>\n    <div #image class="igx-avatar__image" [style.backgroundImage]="getSrcUrl()"></div>\n</ng-template>\n\n<ng-template #initialsTemplate>\n    <span>{{initials.substring(0, 2)}}</span>\n</ng-template>\n\n<ng-template #iconTemplate>\n     <igx-icon>{{icon}}</igx-icon>\n</ng-template>\n\n<ng-container *ngTemplateOutlet="template"></ng-container>\n'}]}],e.ctorParameters=function(){return[{type:b.ElementRef}]},e.propDecorators={image:[{type:b.ViewChild,args:["image"]}],defaultTemplate:[{type:b.ViewChild,args:["defaultTemplate",{read:b.TemplateRef}]}],imageTemplate:[{type:b.ViewChild,args:["imageTemplate",{read:b.TemplateRef}]}],initialsTemplate:[{type:b.ViewChild,args:["initialsTemplate",{read:b.TemplateRef}]}],iconTemplate:[{type:b.ViewChild,args:["iconTemplate",{read:b.TemplateRef}]}],ariaLabel:[{type:b.HostBinding,args:["attr.aria-label"]}],role:[{type:b.HostBinding,args:["attr.role"]}],cssClass:[{type:b.HostBinding,args:["class.igx-avatar"]}],roleDescription:[{type:b.HostBinding,args:["attr.aria-roledescription"]}],id:[{type:b.HostBinding,args:["attr.id"]},{type:b.Input}],roundShape:[{type:b.HostBinding,args:["class.igx-avatar--rounded"]},{type:b.Input}],color:[{type:b.HostBinding,args:["style.color"]},{type:b.Input}],bgColor:[{type:b.HostBinding,args:["style.background"]},{type:b.Input}],initials:[{type:b.Input}],icon:[{type:b.Input}],src:[{type:b.Input}],size:[{type:b.Input}]},e}(),Ko=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[Uo],exports:[Uo],imports:[r.CommonModule,Go]}]}],e}(),$o=0,Yo={DEFAULT:"default",INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error"},Xo=function(){function e(){this.id="igx-badge-"+$o++,this.type="default",this.value="",this.role="status",this.cssClass="igx-badge",this.label="badge"}return Object.defineProperty(e.prototype,"roleDescription",{get:function(){return this.icon?this.type+" type badge with icon type "+this.icon:this.value?this.type+" badge type with value "+this.value:this.type+" badge type without value"},enumerable:!0,configurable:!0}),e.prototype.setClasses=function(){var e,t,i,n,r,o={};switch(Yo[this.type.toUpperCase()]){case Yo.DEFAULT:(e={})[this.cssClass+"__circle--default"]=!0,o=e;break;case Yo.INFO:(t={})[this.cssClass+"__circle--info"]=!0,o=t;break;case Yo.SUCCESS:(i={})[this.cssClass+"__circle--success"]=!0,o=i;break;case Yo.WARNING:(n={})[this.cssClass+"__circle--warning"]=!0,o=n;break;case Yo.ERROR:(r={})[this.cssClass+"__circle--error"]=!0,o=r}return o},e.decorators=[{type:b.Component,args:[{selector:"igx-badge",template:'<div class="igx-badge__circle" [ngClass]="setClasses()" [attr.aria-roledescription]="roleDescription">\n    <span *ngIf="!icon" class="igx-badge__circle-value">{{value}}</span>\n    <igx-icon *ngIf="icon" fontSet="material">{{icon}}</igx-icon>\n</div>\n'}]}],e.propDecorators={id:[{type:b.HostBinding,args:["attr.id"]},{type:b.Input}],type:[{type:b.Input}],value:[{type:b.Input}],icon:[{type:b.Input}],role:[{type:b.HostBinding,args:["attr.role"]}],cssClass:[{type:b.HostBinding,args:["class.igx-badge"]}],label:[{type:b.HostBinding,args:["attr.aria-label"]}]},e}(),qo=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[Xo],exports:[Xo],imports:[r.CommonModule,Go]}]}],e}(),Zo="IgxExpansionPanelToken",Jo=function(){function e(e,t,i){this.panel=e,this.element=t,this.cdr=i,this._labelledBy="",this._label="",this.cssClass="igx-expansion-panel__body",this.role="region"}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label||this.panel.id+"-region"},set:function(e){this._label=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"labelledBy",{get:function(){return this._labelledBy},set:function(e){this._labelledBy=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.labelledBy=this.panel.headerId,this.label=this.panel.id+"-region"},e.decorators=[{type:b.Component,args:[{selector:"igx-expansion-panel-body",template:"<ng-content></ng-content>"}]}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:b.Inject,args:[Zo]}]},{type:b.ElementRef},{type:b.ChangeDetectorRef}]},e.propDecorators={cssClass:[{type:b.HostBinding,args:["class.igx-expansion-panel__body"]}],label:[{type:b.Input},{type:b.HostBinding,args:["attr.aria-label"]}],labelledBy:[{type:b.Input},{type:b.HostBinding,args:["attr.aria-labelledby"]}],role:[{type:b.Input},{type:b.HostBinding,args:["attr.role"]}]},e}(),Qo=function(){function e(){this.cssClass="igx-expansion-panel__header-title"}return e.decorators=[{type:b.Directive,args:[{selector:"igx-expansion-panel-title"}]}],e.propDecorators={cssClass:[{type:b.HostBinding,args:["class.igx-expansion-panel__header-title"]}]},e}(),es=function(){function e(){this.cssClass="igx-expansion-panel__header-description"}return e.decorators=[{type:b.Directive,args:[{selector:"igx-expansion-panel-description"}]}],e.propDecorators={cssClass:[{type:b.HostBinding,args:["class.igx-expansion-panel__header-description"]}]},e}(),ts=function(){function e(){}return e.decorators=[{type:b.Directive,args:[{selector:"igx-expansion-panel-icon"}]}],e}(),is="left",ns="none",rs="right",os=function(){function e(e,t,i){this.panel=e,this.cdr=t,this.elementRef=i,this._iconTemplate=!1,this.id="",this.lv="3",this.role="heading",this.iconPosition=is,this.onInteraction=new b.EventEmitter,this.cssClass="igx-expansion-panel__header",this.disabled=!1,this.id=this.panel.id+"-header"}return Object.defineProperty(e.prototype,"iconTemplate",{get:function(){return this._iconTemplate},set:function(e){this._iconTemplate=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){return this.panel.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isExpanded",{get:function(){return!this.panel.collapsed},enumerable:!0,configurable:!0}),e.prototype.onAction=function(e){this.disabled?e.stopPropagation():(this.onInteraction.emit({event:e,panel:this.panel}),this.panel.toggle(e),e.preventDefault())},e.prototype.openPanel=function(e){e.altKey&&(this.panel.expand(e),this.onInteraction.emit({event:e,panel:this.panel}))},e.prototype.closePanel=function(e){e.altKey&&(this.panel.collapse(e),this.onInteraction.emit({event:e,panel:this.panel}))},Object.defineProperty(e.prototype,"iconPositionClass",{get:function(){switch(this.iconPosition){case is:return"igx-expansion-panel__header-icon--start";case rs:return"igx-expansion-panel__header-icon--end";case ns:return"igx-expansion-panel__header-icon--none";default:return""}},enumerable:!0,configurable:!0}),e.decorators=[{type:b.Component,args:[{selector:"igx-expansion-panel-header",template:'<div class="igx-expansion-panel__header-inner" tabindex="0" role="button" [attr.id]="id"\n[attr.aria-disabled]="disabled" [attr.aria-expanded]="isExpanded" [attr.aria-controls]="controls">\n    <div class="igx-expansion-panel__title-wrapper">\n        <ng-content select="igx-expansion-panel-title"></ng-content>\n        <ng-content select="igx-expansion-panel-description"></ng-content>\n    </div>\n    <ng-content></ng-content>\n    <div [class]="iconPositionClass">\n        <ng-content *ngIf="iconTemplate" select="igx-expansion-panel-icon"></ng-content>\n        <igx-icon *ngIf="!iconTemplate" fontSet="material">\n            {{panel.collapsed? \'expand_more\':\'expand_less\'}}\n        </igx-icon>\n    </div>\n</div>\n'}]}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:b.Host},{type:b.Inject,args:[Zo]}]},{type:b.ChangeDetectorRef},{type:b.ElementRef}]},e.propDecorators={iconTemplate:[{type:b.ContentChild,args:[ts]}],lv:[{type:b.HostBinding,args:["attr.aria-level"]},{type:b.Input}],role:[{type:b.HostBinding,args:["attr.role"]},{type:b.Input}],iconPosition:[{type:b.Input}],onInteraction:[{type:b.Output}],cssClass:[{type:b.HostBinding,args:["class.igx-expansion-panel__header"]}],isExpanded:[{type:b.HostBinding,args:["class.igx-expansion-panel__header--expanded"]}],disabled:[{type:b.Input},{type:b.HostBinding,args:["class.igx-expansion-panel--disabled"]}],onAction:[{type:b.HostListener,args:["keydown.Enter",["$event"]]},{type:b.HostListener,args:["keydown.Space",["$event"]]},{type:b.HostListener,args:["keydown.Spacebar",["$event"]]},{type:b.HostListener,args:["click",["$event"]]}],openPanel:[{type:b.HostListener,args:["keydown.Alt.ArrowDown",["$event"]]}],closePanel:[{type:b.HostListener,args:["keydown.Alt.ArrowUp",["$event"]]}]},e}(),ss=0,as=function(){function e(e,t){this.cdr=e,this.builder=t,this.animationSettings={openAnimation:Xt,closeAnimation:qt},this.id="igx-expansion-panel-"+ss++,this.cssClass="igx-expansion-panel",this.collapsed=!0,this.onCollapsed=new b.EventEmitter,this.onExpanded=new b.EventEmitter}return Object.defineProperty(e.prototype,"headerId",{get:function(){return this.header?this.id+"-header":""},enumerable:!0,configurable:!0}),e.prototype.playOpenAnimation=function(e){if(this.body){var t=u.useAnimation(this.animationSettings.openAnimation),i=this.builder.build(t).create(this.body.element.nativeElement);i.onDone(function(){e(),i.reset()}),i.play()}},e.prototype.playCloseAnimation=function(e){if(this.body){var t=u.useAnimation(this.animationSettings.closeAnimation),i=this.builder.build(t).create(this.body.element.nativeElement);i.onDone(function(){e(),i.reset()}),i.play()}},e.prototype.collapse=function(e){var t=this;this.collapsed||this.playCloseAnimation(function(){t.onCollapsed.emit({event:e,panel:t}),t.collapsed=!0})},e.prototype.expand=function(e){var t=this;this.collapsed&&(this.collapsed=!1,this.cdr.detectChanges(),this.playOpenAnimation(function(){t.onExpanded.emit({event:e,panel:t})}))},e.prototype.toggle=function(e){this.collapsed?this.open(e):this.close(e)},e.prototype.open=function(e){this.expand(e)},e.prototype.close=function(e){this.collapse(e)},e.decorators=[{type:b.Component,args:[{selector:"igx-expansion-panel",template:'<ng-content select="igx-expansion-panel-header"></ng-content>\n<ng-content *ngIf="!collapsed" select="igx-expansion-panel-body"></ng-content>\n',providers:[{provide:Zo,useExisting:e}]}]}],e.ctorParameters=function(){return[{type:b.ChangeDetectorRef},{type:u.AnimationBuilder}]},e.propDecorators={animationSettings:[{type:b.Input}],id:[{type:b.HostBinding,args:["attr.id"]},{type:b.Input}],cssClass:[{type:b.HostBinding,args:["class.igx-expansion-panel"]}],collapsed:[{type:b.Input}],onCollapsed:[{type:b.Output}],onExpanded:[{type:b.Output}],body:[{type:b.ContentChild,args:[b.forwardRef(function(){return Jo}),{read:b.forwardRef(function(){return Jo})}]}],header:[{type:b.ContentChild,args:[b.forwardRef(function(){return os}),{read:b.forwardRef(function(){return os})}]}]},e}(),ls=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[as,os,Jo,es,Qo,ts],entryComponents:[],exports:[as,os,Jo,es,Qo,ts],imports:[r.CommonModule,yo,Go,Vr,Ko]}]}],e}(),cs=function(){function e(){}return e.decorators=[{type:b.Directive,args:[{selector:"igx-banner-actions"}]}],e}(),ps=function(){function e(e){this.elementRef=e,this.onOpened=new b.EventEmitter,this.onOpening=new b.EventEmitter,this.onClosed=new b.EventEmitter,this.onClosing=new b.EventEmitter}return Object.defineProperty(e.prototype,"useDefaultTemplate",{get:function(){return!this._bannerActionTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animationSettings",{get:function(){return this._animationSettings?this._animationSettings:this._expansionPanel.animationSettings},set:function(e){this._animationSettings=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collapsed",{get:function(){return this._expansionPanel.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayStyle",{get:function(){return this.collapsed?"":"block"},enumerable:!0,configurable:!0}),e.prototype.open=function(e){this._bannerEvent={banner:this,event:e};var t={banner:this,event:e,cancel:!1};this.onOpening.emit(t),t.cancel||this._expansionPanel.open(e)},e.prototype.close=function(e){this._bannerEvent={banner:this,event:e};var t={banner:this,event:e,cancel:!1};this.onClosing.emit(t),t.cancel||this._expansionPanel.close(e)},e.prototype.toggle=function(e){this.collapsed?this.open(e):this.close(e)},e.prototype.onExpansionPanelOpen=function(){this.onOpened.emit(this._bannerEvent)},e.prototype.onExpansionPanelClose=function(){this.onClosed.emit(this._bannerEvent)},e.decorators=[{type:b.Component,args:[{selector:"igx-banner",template:'<igx-expansion-panel #expansionPanel [animationSettings]="animationSettings" (onCollapsed)="onExpansionPanelClose()" (onExpanded)="onExpansionPanelOpen()"\n    [collapsed]="collapsed" aria-live="polite" [attr.aria-hidden]="collapsed">\n    <igx-expansion-panel-body>\n        <div class="igx-banner">\n            <div class="igx-banner__message">\n                <div *ngIf="bannerIcon" class="igx-banner__illustration">\n                    <ng-content select="igx-icon"></ng-content>\n                </div>\n                <span class="igx-banner__text">\n                    <ng-content></ng-content>\n                </span>\n            </div>\n            <div class="igx-banner__actions">\n                <div class="igx-banner__row">\n                    <ng-container *ngIf="useDefaultTemplate">\n                        <button igxButton="flat" igxRipple (click)="close()">\n                            Dismiss\n                        </button>\n                    </ng-container>\n                    <ng-container *ngIf="!useDefaultTemplate">\n                        <ng-content select="igx-banner-actions"></ng-content>\n                    </ng-container>\n                </div>\n            </div>\n        </div>\n    </igx-expansion-panel-body>\n</igx-expansion-panel>'}]}],e.ctorParameters=function(){return[{type:b.ElementRef}]},e.propDecorators={_expansionPanel:[{type:b.ViewChild,args:["expansionPanel"]}],_bannerActionTemplate:[{type:b.ContentChild,args:[cs]}],bannerIcon:[{type:b.ContentChild,args:[No]}],onOpened:[{type:b.Output}],onOpening:[{type:b.Output}],onClosed:[{type:b.Output}],onClosing:[{type:b.Output}],animationSettings:[{type:b.Input}],displayStyle:[{type:b.HostBinding,args:["style.display"]}]},e}(),us=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[ps,cs],exports:[ps,cs],imports:[r.CommonModule,ls,Go,Vr,yo]}]}],e}(),ds={horizontal:0,vertical:1};ds[ds.horizontal]="horizontal",ds[ds.vertical]="vertical";var hs=0,gs=function(r){function e(e,t,i){var n=r.call(this,i)||this;return n._cdr=e,n._renderer=t,n._displayDensityOptions=i,n._disabled=!1,n.buttonClickNotifier$=new x.Subject,n.queryListNotifier$=new x.Subject,n.id="igx-buttongroup-"+hs++,n.multiSelection=!1,n.selectedIndexes=[],n.onSelect=new b.EventEmitter,n.onUnselect=new b.EventEmitter,n}return f(e,r),Object.defineProperty(e.prototype,"buttons",{get:function(){return _(this.viewButtons.toArray(),this.templateButtons.toArray())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemContentCssClass",{get:function(){return this._itemContentCssClass},set:function(e){this._itemContentCssClass=e||this._itemContentCssClass},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(e){var t=this;this._disabled!==e&&(this._disabled=e,this.viewButtons&&this.templateButtons&&this.buttons.forEach(function(e){return e.disabled=t._disabled}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alignment",{get:function(){return this._isVertical?ds.vertical:ds.horizontal},set:function(e){this._isVertical=e===ds.vertical},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVertical",{get:function(){return this._isVertical},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedButtons",{get:function(){var i=this;return this.buttons.filter(function(e,t){return-1!==i.selectedIndexes.indexOf(t)})},enumerable:!0,configurable:!0}),e.prototype.selectButton=function(i){var n=this;if(!(i>=this.buttons.length||i<0)){var e=this.buttons[i],t=e.nativeElement;if(!t.classList.contains("igx-button--disabled")){this.selectedIndexes.push(i),e.selected=!0,this._renderer.setAttribute(t,"aria-pressed","true"),this._renderer.addClass(t,"igx-button-group__item--selected"),this.onSelect.emit({button:e,index:i});var r=this.viewButtons.toArray().indexOf(e);-1!==r&&(this.values[r].selected=!0),!this.multiSelection&&1<this.selectedIndexes.length&&this.buttons.forEach(function(e,t){t!==i&&-1!==n.selectedIndexes.indexOf(t)&&n.deselectButton(t)})}}},e.prototype.deselectButton=function(e){if(!(e>=this.buttons.length||e<0)){var t=this.buttons[e],i=t.nativeElement;if(!i.classList.contains("igx-button--disabled")){this.selectedIndexes.splice(this.selectedIndexes.indexOf(e),1),t.selected=!1,this._renderer.setAttribute(i,"aria-pressed","false"),this._renderer.removeClass(i,"igx-button-group__item--selected"),this.onUnselect.emit({button:t,index:e});var n=this.viewButtons.toArray().indexOf(t);-1!==n&&(this.values[n].selected=!1)}}},e.prototype.ngAfterContentInit=function(){var t=this;this.templateButtons.forEach(function(e){e.initialDensity||(e.displayDensity=t.displayDensity)})},e.prototype.ngAfterViewInit=function(){var n=this,e=function(){n.buttonClickNotifier$.next(),n.selectedIndexes.splice(0,n.selectedIndexes.length),n.buttons.forEach(function(e,t){var i=e.nativeElement;n.disabled&&(e.disabled=!0),!e.disabled&&e.selected&&n.selectButton(t),e.buttonClick.pipe(p.takeUntil(n.buttonClickNotifier$)).subscribe(function(e){return n._clickHandler(e,t)}),n._renderer.addClass(i,"igx-button-group__item")})};this.viewButtons.changes.pipe(p.takeUntil(this.queryListNotifier$)).subscribe(function(){return e()}),this.templateButtons.changes.pipe(p.takeUntil(this.queryListNotifier$)).subscribe(function(){return e()}),e(),this._cdr.detectChanges()},e.prototype.ngOnDestroy=function(){this.buttonClickNotifier$.next(),this.buttonClickNotifier$.complete(),this.queryListNotifier$.next(),this.queryListNotifier$.complete()},e.prototype._clickHandler=function(e,t){-1!==this.selectedIndexes.indexOf(t)?this.deselectButton(t):this.selectButton(t)},e.decorators=[{type:b.Component,args:[{selector:"igx-buttongroup",template:'<div class="igx-button-group" role="group" [class.igx-button-group--vertical]="isVertical">\n    <span *ngFor="let button of values; let i = \'index\'" type="button" igxButton="flat" [displayDensity]="displayDensity" [selected]="button.selected"\n        [attr.data-togglable]="button.togglable" [disabled]="disabled || button.disabled" [igxButtonColor]="button.color"\n        [igxButtonBackground]="button.bgcolor" [igxLabel]="button.label" [igxRipple]="button.ripple">\n        <div class="igx-button-group__item-content {{ itemContentCssClass }}">\n            <igx-icon *ngIf="button.icon" fontSet="material">{{button.icon}}</igx-icon>\n            <span *ngIf="button.label">{{button.label}}</span>\n        </div>\n    </span>\n    <ng-content></ng-content>\n</div>\n'}]}],e.ctorParameters=function(){return[{type:b.ChangeDetectorRef},{type:b.Renderer2},{type:undefined,decorators:[{type:b.Optional},{type:b.Inject,args:[tr]}]}]},e.propDecorators={viewButtons:[{type:b.ViewChildren,args:[Mr]}],templateButtons:[{type:b.ContentChildren,args:[Mr]}],id:[{type:b.HostBinding,args:["attr.id"]},{type:b.Input}],itemContentCssClass:[{type:b.Input}],multiSelection:[{type:b.Input}],values:[{type:b.Input}],disabled:[{type:b.Input}],alignment:[{type:b.Input}],onSelect:[{type:b.Output}],onUnselect:[{type:b.Output}]},e}(ir),fs=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[gs],exports:[gs],imports:[Vr,r.CommonModule,yo,Go]}]}],e}(),ms={After:0,Before:1,Between:2,Specific:3,Weekdays:4,Weekends:5};ms[ms.After]="After",ms[ms.Before]="Before",ms[ms.Between]="Between",ms[ms.Specific]="Specific",ms[ms.Weekdays]="Weekdays",ms[ms.Weekends]="Weekends";var ys=[31,28,31,30,31,30,31,31,30,31,30,31];function vs(e,t,i){void 0===e&&(e=0),void 0===i&&(i=1);for(var n=[],r=t===undefined?0:e,o=t===undefined?e:t,s=r;i<0?o<s:s<o;s+=i)n.push(s);return n}function xs(e){return e%4==0&&(e%100!=0||e%400==0)}function bs(e,t,i){return new Date(e,t,i).getDay()}function Cs(e,t){if(t<0||11<t)throw new Error("Invalid month specified");var i=bs(e,t,1),n=ys[t];return 1===t&&xs(e)&&n++,[i,n]}function ws(e,t){var i,n,r,o,s=(e=new Date(e.getFullYear(),e.getMonth(),e.getDate())).getTime();try{for(var a=S(t),l=a.next();!l.done;l=a.next()){var c=l.value,p=c.dateRange?c.dateRange.map(function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())}):undefined;switch(c.type){case ms.After:if(s>p[0].getTime())return!0;break;case ms.Before:if(s<p[0].getTime())return!0;break;case ms.Between:var u=p.map(function(e){return e.getTime()}),d=Math.min(u[0],u[1]),h=Math.max(u[0],u[1]);if(d<=s&&s<=h)return!0;break;case ms.Specific:var g=p.map(function(e){return e.getTime()});try{for(var f=S(g),m=f.next();!m.done;m=f.next()){if(s===m.value)return!0}}catch(y){r={error:y}}finally{try{m&&!m.done&&(o=f["return"])&&o.call(f)}finally{if(r)throw r.error}}break;case ms.Weekdays:if(e.getDay()%6!=0)return!0;break;case ms.Weekends:if(e.getDay()%6==0)return!0;break;default:return!1}}}catch(v){i={error:v}}finally{try{l&&!l.done&&(n=a["return"])&&n.call(a)}finally{if(i)throw i.error}}return!1}var _s={SUNDAY:0,MONDAY:1,TUESDAY:2,WEDNESDAY:3,THURSDAY:4,FRIDAY:5,SATURDAY:6};_s[_s.SUNDAY]="SUNDAY",_s[_s.MONDAY]="MONDAY",_s[_s.TUESDAY]="TUESDAY",_s[_s.WEDNESDAY]="WEDNESDAY",_s[_s.THURSDAY]="THURSDAY",_s[_s.FRIDAY]="FRIDAY",_s[_s.SATURDAY]="SATURDAY";var Ss=function(){function e(e){void 0===e&&(e=_s.SUNDAY),this._firstWeekDay=e}return Object.defineProperty(e.prototype,"firstWeekDay",{get:function(){return this._firstWeekDay%7},set:function(e){this._firstWeekDay=e},enumerable:!0,configurable:!0}),e.prototype.weekdays=function(){var e,t,i=[];try{for(var n=S(vs(this.firstWeekDay,this.firstWeekDay+7)),r=n.next();!r.done;r=n.next()){var o=r.value;i.push(o%7)}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n["return"])&&t.call(n)}finally{if(e)throw e.error}}return i},e.prototype.monthdates=function(e,t,i){var n,r;void 0===i&&(i=!1);var o=new Date(e,t,1),s=(o.getDay()-this.firstWeekDay)%7;s<0&&(s=7-Math.abs(s)),o=this.timedelta(o,"day",-s);for(var a,l=[];;)if(a=this.generateICalendarDate(o,e,t),l.push(a),(o=this.timedelta(o,"day",1)).getMonth()!==t&&o.getDay()===this.firstWeekDay){if(i&&l.length<=35)try{for(var c=S(vs(0,7)),p=c.next();!p.done;p=c.next()){p.value;a=this.generateICalendarDate(o,e,t),l.push(a),o=this.timedelta(o,"day",1)}}catch(u){n={error:u}}finally{try{p&&!p.done&&(r=c["return"])&&r.call(c)}finally{if(n)throw n.error}}break}return l},e.prototype.monthdatescalendar=function(e,t,i){var n,r;void 0===i&&(i=!1);var o=this.monthdates(e,t,i),s=[];try{for(var a=S(vs(0,o.length,7)),l=a.next();!l.done;l=a.next()){var c=l.value;s.push(o.slice(c,c+7))}}catch(p){n={error:p}}finally{try{l&&!l.done&&(r=a["return"])&&r.call(a)}finally{if(n)throw n.error}}return s},e.prototype.timedelta=function(e,t,i){var n=new Date(e),r=function(){n.getDate()!==e.getDate()&&n.setDate(0)};switch(t.toLowerCase()){case"year":n.setFullYear(n.getFullYear()+i),r();break;case"quarter":n.setMonth(n.getMonth()+3*i),r();break;case"month":n.setMonth(n.getMonth()+i),r();break;case"week":n.setDate(n.getDate()+7*i);break;case"day":n.setDate(n.getDate()+i);break;case"hour":n.setTime(n.getTime()+36e5*i);break;case"minute":n.setTime(n.getTime()+6e4*i);break;case"second":n.setTime(n.getTime()+1e3*i);break;default:throw new Error("Invalid interval specifier")}return n},e.prototype.formatToParts=function(e,t,i,n){var r,o,s,a,l=new Intl.DateTimeFormat(t,i),c={date:e,full:l.format(e)};if(l.formatToParts){var p=l.formatToParts(e),u=function(t){var e=p.findIndex(function(e){return e.type===t}),i={value:"",literal:"",combined:""};return"era"===t&&-1<e?i.value=p[e].value:"era"===t&&-1===e||(i.value=p[e].value,i.literal=p[e+1]?p[e+1].value:"",i.combined=[i.value,i.literal].join("")),i};try{for(var d=S(n),h=d.next();!h.done;h=d.next()){c[m=h.value]=u(m)}}catch(y){r={error:y}}finally{try{h&&!h.done&&(o=d["return"])&&o.call(d)}finally{if(r)throw r.error}}}else try{for(var g=S(n),f=g.next();!f.done;f=g.next()){var m;c[m=f.value]={value:"",literal:"",combined:""}}}catch(v){s={error:v}}finally{try{f&&!f.done&&(a=g["return"])&&a.call(g)}finally{if(s)throw s.error}}return c},e.prototype.generateICalendarDate=function(e,t,i){return{date:e,isCurrentMonth:e.getFullYear()===t&&e.getMonth()===i,isNextMonth:this.isNextMonth(e,t,i),isPrevMonth:this.isPreviousMonth(e,t,i)}},e.prototype.isPreviousMonth=function(e,t,i){return e.getFullYear()===t?e.getMonth()<i:e.getFullYear()<t},e.prototype.isNextMonth=function(e,t,i){return e.getFullYear()===t?e.getMonth()>i:e.getFullYear()>t},e}(),Is=function(){function e(){this.onYearSelection=new b.EventEmitter}return Object.defineProperty(e.prototype,"defaultCSS",{get:function(){return!this.isCurrentYear},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentCSS",{get:function(){return this.isCurrentYear},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCurrentYear",{get:function(){return this.date.getFullYear()===this.value.getFullYear()},enumerable:!0,configurable:!0}),e.prototype.onClick=function(){this.onYearSelection.emit(this.value)},e.decorators=[{type:b.Directive,args:[{selector:"[igxCalendarYear]"}]}],e.propDecorators={value:[{type:b.Input,args:["igxCalendarYear"]}],date:[{type:b.Input}],onYearSelection:[{type:b.Output}],defaultCSS:[{type:b.HostBinding,args:["class.igx-calendar__year"]}],currentCSS:[{type:b.HostBinding,args:["class.igx-calendar__year--current"]}],onClick:[{type:b.HostListener,args:["click"]}]},e}(),Ds=function(){function e(e){this.elementRef=e,this.onMonthSelection=new b.EventEmitter,this.tabindex=0}return Object.defineProperty(e.prototype,"defaultCSS",{get:function(){return!this.isCurrentMonth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentCSS",{get:function(){return this.isCurrentMonth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCurrentMonth",{get:function(){return this.date.getMonth()===this.value.getMonth()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),e.prototype.onClick=function(){var e=new Date(this.value.getFullYear(),this.value.getMonth(),this.date.getDate());this.onMonthSelection.emit(e)},e.decorators=[{type:b.Directive,args:[{selector:"[igxCalendarMonth]"}]}],e.ctorParameters=function(){return[{type:b.ElementRef}]},e.propDecorators={value:[{type:b.Input,args:["igxCalendarMonth"]}],date:[{type:b.Input}],index:[{type:b.Input}],onMonthSelection:[{type:b.Output}],tabindex:[{type:b.HostBinding,args:["attr.tabindex"]}],defaultCSS:[{type:b.HostBinding,args:["class.igx-calendar__month"]}],currentCSS:[{type:b.HostBinding,args:["class.igx-calendar__month--current"]}],onClick:[{type:b.HostListener,args:["click"]}]},e}(),Es=function(){function e(e){this.template=e}return e.decorators=[{type:b.Directive,args:[{selector:"[igxCalendarHeader]"}]}],e.ctorParameters=function(){return[{type:b.TemplateRef}]},e}(),Os=function(){function e(e){this.template=e}return e.decorators=[{type:b.Directive,args:[{selector:"[igxCalendarSubheader]"}]}],e.ctorParameters=function(){return[{type:b.TemplateRef}]},e}(),Ps=function(){function e(e,t){this.element=e,this.zone=t,this.destroy$=new x.Subject}return e.prototype.ngAfterViewInit=function(){var t=this;x.fromEvent(this.element.nativeElement,"keyup").pipe(p.debounce(function(){return x.interval(100)}),p.takeUntil(this.destroy$)).subscribe(function(e){t.stopScroll(e)}),this.zone.runOutsideAngular(function(){x.fromEvent(t.element.nativeElement,"keydown").pipe(p.tap(function(e){" "!==e.key&&"Spacebar"!==e.key&&"Enter"!==e.key||(e.preventDefault(),e.stopPropagation())}),p.debounce(function(){return x.interval(100)}),p.takeUntil(t.destroy$)).subscribe(function(e){" "!==e.key&&"Spacebar"!==e.key&&"Enter"!==e.key||t.zone.run(function(){return t.startScroll(!0)})})})},e.prototype.ngOnDestroy=function(){this.destroy$.next(!0),this.destroy$.complete()},e.prototype.onMouseDown=function(){this.startScroll()},e.prototype.onMouseUp=function(e){this.stopScroll(e)},e.decorators=[{type:b.Directive,args:[{selector:"[igxCalendarScrollMonth]"}]}],e.ctorParameters=function(){return[{type:b.ElementRef},{type:b.NgZone}]},e.propDecorators={startScroll:[{type:b.Input}],stopScroll:[{type:b.Input}],onMouseDown:[{type:b.HostListener,args:["mousedown"]}],onMouseUp:[{type:b.HostListener,args:["mouseup",["$event"]]}]},e}(),Ts="single",Rs="multi",ks="range",Ls="prev",As="next",Fs="none",Ms=function(){function e(){this.onSelection=new b.EventEmitter,this._selection=Ts,this.rangeStarted=!1,this._locale="en",this._disabledDates=null,this._specialDates=null,this._formatOptions={day:"numeric",month:"short",weekday:"short",year:"numeric"},this._formatViews={day:!1,month:!0,year:!1},this.monthScrollDirection=Fs,this.scrollMonth$=new x.Subject,this.stopMonthScroll$=new x.Subject,this.startMonthScroll$=new x.Subject,this._onTouchedCallback=function(){},this._onChangeCallback=function(){},this.calendarModel=new Ss,this.viewDate=this.viewDate?this.viewDate:new Date,this.calendarModel.firstWeekDay=this.weekStart,this.initFormatters()}return Object.defineProperty(e.prototype,"weekStart",{get:function(){return this.calendarModel.firstWeekDay},set:function(e){this.calendarModel.firstWeekDay=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this._locale},set:function(e){this._locale=e,this.initFormatters()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatOptions",{get:function(){return this._formatOptions},set:function(e){this._formatOptions=Object.assign(this._formatOptions,e),this.initFormatters()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatViews",{get:function(){return this._formatViews},set:function(e){this._formatViews=Object.assign(this._formatViews,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selection",{get:function(){return this._selection},set:function(e){switch(e){case Ts:this.selectedDates=null;break;case Rs:case ks:this.selectedDates=[];break;default:throw new Error("Invalid selection value")}this._onChangeCallback(this.selectedDates),this.rangeStarted=!1,this._selection=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.selectedDates},set:function(e){this.selectDate(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewDate",{get:function(){return this._viewDate},set:function(e){this._viewDate=this.getDateOnly(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabledDates",{get:function(){return this._disabledDates},set:function(e){this._disabledDates=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"specialDates",{get:function(){return this._specialDates},set:function(e){this._specialDates=e},enumerable:!0,configurable:!0}),e.prototype.getDateOnlyInMs=function(e){return this.getDateOnly(e).getTime()},e.prototype.generateDateRange=function(e,t){var i=[];for(e=this.getDateOnly(e),t=this.getDateOnly(t);e.getTime()!==t.getTime();)e=this.calendarModel.timedelta(e,"day",1),i.push(e);return i},e.prototype.selectSingle=function(e){this.selectedDates=this.getDateOnly(e),this._onChangeCallback(this.selectedDates)},e.prototype.selectMultiple=function(e){var t=this;if(Array.isArray(e))this.selectedDates=this.selectedDates.concat(e.map(function(e){return t.getDateOnly(e)}));else{var i=this.getDateOnly(e),n=[];this.selectedDates.every(function(e){return e.getTime()!==i.getTime()})?n.push(i):this.selectedDates=this.selectedDates.filter(function(e){return e.getTime()!==i.getTime()}),0<n.length&&(this.selectedDates=this.selectedDates.concat(n))}this._onChangeCallback(this.selectedDates)},e.prototype.selectRange=function(e,t){var i,n,r=this;if(void 0===t&&(t=!1),Array.isArray(e))e.sort(function(e,t){return e.valueOf()-t.valueOf()}),i=this.getDateOnly(e[0]),n=this.getDateOnly(e[e.length-1]),this.selectedDates=_([i],this.generateDateRange(i,n));else if(this.rangeStarted){if(this.rangeStarted=!1,this.selectedDates[0].getTime()===e.getTime())return this.selectedDates=[],void this._onChangeCallback(this.selectedDates);this.selectedDates.push(e),this.selectedDates.sort(function(e,t){return e.valueOf()-t.valueOf()}),i=this.selectedDates.shift(),n=this.selectedDates.pop(),this.selectedDates=_([i],this.generateDateRange(i,n))}else this.rangeStarted=!0,this.selectedDates=[e];t&&(this.selectedDates=this.selectedDates.filter(function(e){return!r.isDateDisabled(e)})),this._onChangeCallback(this.selectedDates)},e.prototype.deselectSingle=function(e){null!==this.selectedDates&&this.getDateOnlyInMs(e)===this.getDateOnlyInMs(this.selectedDates)&&(this.selectedDates=null,this._onChangeCallback(this.selectedDates))},e.prototype.deselectMultiple=function(e){var t=this;e=e.filter(function(e){return null!==e});for(var i=this.selectedDates.length,n=new Set(e.map(function(e){return t.getDateOnlyInMs(e)})),r=this.selectedDates.length-1;0<=r;r--)n.has(this.getDateOnlyInMs(this.selectedDates[r]))&&this.selectedDates.splice(r,1);this.selectedDates.length!==i&&this._onChangeCallback(this.selectedDates)},e.prototype.deselectRange=function(e){if(!((e=e.filter(function(e){return null!==e})).length<1)){e.sort(function(e,t){return e.valueOf()-t.valueOf()});var t=this.getDateOnlyInMs(e[0]),i=this.getDateOnlyInMs(e[e.length-1]);this.selectedDates.sort(function(e,t){return e.valueOf()-t.valueOf()});var n=this.getDateOnlyInMs(this.selectedDates[0]),r=this.getDateOnlyInMs(this.selectedDates[this.selectedDates.length-1]);i<n||r<t||(this.selectedDates=[],this.rangeStarted=!1,this._onChangeCallback(this.selectedDates))}},e.prototype.initFormatters=function(){this.formatterDay=new Intl.DateTimeFormat(this._locale,{day:this._formatOptions.day}),this.formatterWeekday=new Intl.DateTimeFormat(this._locale,{weekday:this._formatOptions.weekday}),this.formatterMonth=new Intl.DateTimeFormat(this._locale,{month:this._formatOptions.month}),this.formatterYear=new Intl.DateTimeFormat(this._locale,{year:this._formatOptions.year}),this.formatterMonthday=new Intl.DateTimeFormat(this._locale,{month:this._formatOptions.month,day:this._formatOptions.day})},e.prototype.getDateOnly=function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())},e.prototype.registerOnChange=function(e){this._onChangeCallback=e},e.prototype.registerOnTouched=function(e){this._onTouchedCallback=e},e.prototype.writeValue=function(e){this.selectedDates=e},e.prototype.isDateDisabled=function(e){return null!==this.disabledDates&&ws(e,this.disabledDates)},e.prototype.selectDate=function(e){if(null===e||e===undefined||Array.isArray(e)&&0===e.length)return new Date;switch(this.selection){case Ts:this.selectSingle(e);break;case Rs:this.selectMultiple(e);break;case ks:this.selectRange(e,!0)}},e.prototype.deselectDate=function(e){if(null!==this.selectedDates&&this.selectedDates!==[]){if(null===e||e===undefined)return this.selectedDates=this.selection===Ts?null:[],this.rangeStarted=!1,void this._onChangeCallback(this.selectedDates);switch(this.selection){case Ts:this.deselectSingle(e);break;case Rs:this.deselectMultiple(e);break;case ks:this.deselectRange(e)}}},e.prototype.selectDateFromClient=function(e){switch(this.selection){case Ts:case Rs:this.isDateDisabled(e)||this.selectDate(e);break;case ks:this.selectRange(e,!0)}},e.propDecorators={weekStart:[{type:b.Input}],locale:[{type:b.Input}],formatOptions:[{type:b.Input}],formatViews:[{type:b.Input}],selection:[{type:b.Input}],value:[{type:b.Input}],viewDate:[{type:b.Input}],disabledDates:[{type:b.Input}],specialDates:[{type:b.Input}],onSelection:[{type:b.Output}]},e}(),Vs={DEFAULT:0,YEAR:1,DECADE:2};Vs[Vs.DEFAULT]="DEFAULT",Vs[Vs.YEAR]="YEAR",Vs[Vs.DECADE]="DECADE";var Hs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tabindex=0,e._activeView=Vs.DEFAULT,e}return f(e,t),Object.defineProperty(e.prototype,"activeView",{get:function(){return this._activeView},set:function(e){this._activeView=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDefaultView",{get:function(){return this._activeView===Vs.DEFAULT},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDecadeView",{get:function(){return this._activeView===Vs.DECADE},enumerable:!0,configurable:!0}),e.prototype.changeYear=function(e){var t=this;this.viewDate=new Date(e.getFullYear(),this.viewDate.getMonth()),this._activeView=Vs.DEFAULT,requestAnimationFrame(function(){t.yearsBtn.nativeElement.focus()})},e.prototype.activeViewDecade=function(){this._activeView=Vs.DECADE},e.prototype.activeViewDecadeKB=function(e){" "!==e.key&&"Spacebar"!==e.key&&"Enter"!==e.key||(e.preventDefault(),this.activeViewDecade())},e.prototype.formattedYear=function(e){return this.formatViews.year?this.formatterYear.format(e):""+e.getFullYear()},e.propDecorators={yearsBtn:[{type:b.ViewChild,args:["yearsBtn"]}],tabindex:[{type:b.HostBinding,args:["attr.tabindex"]}]},e}(Ms),Bs=0,js=function(){function e(e){this.el=e,this.id="igx-months-view-"+Bs++,this.date=new Date,this.formatView=!0,this.onSelection=new b.EventEmitter,this.styleClass=!0,this.tabindex=0,this._locale="en",this._monthFormat="short",this._onTouchedCallback=function(){},this._onChangeCallback=function(){},this.initMonthFormatter(),this._calendarModel=new Ss}return Object.defineProperty(e.prototype,"monthFormat",{get:function(){return this._monthFormat},set:function(e){this._monthFormat=e,this.initMonthFormatter()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this._locale},set:function(e){this._locale=e,this.initMonthFormatter()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"months",{get:function(){for(var e=new Date(this.date.getFullYear(),0,1),t=[],i=0;i<12;i++)t.push(e),e=this._calendarModel.timedelta(e,"month",1);return t},enumerable:!0,configurable:!0}),e.prototype.formattedMonth=function(e){return this.formatView?this._formatterMonth.format(e):""+e.getMonth()},e.prototype.selectMonth=function(e){this.onSelection.emit(e),this.date=e,this._onChangeCallback(this.date)},e.prototype.registerOnChange=function(e){this._onChangeCallback=e},e.prototype.registerOnTouched=function(e){this._onTouchedCallback=e},e.prototype.writeValue=function(e){e&&(this.date=e)},e.prototype.monthTracker=function(e,t){return t.getMonth()+"}"},e.prototype.initMonthFormatter=function(){this._formatterMonth=new Intl.DateTimeFormat(this._locale,{month:this.monthFormat})},e.prototype.onKeydownArrowUp=function(t){t.preventDefault(),t.stopPropagation();var e=this.dates.find(function(e){return e.nativeElement===t.target});if(e)for(var i=this.dates.toArray(),n=e.nativeElement.getBoundingClientRect(),r=i.indexOf(e)-1;0<=r;r--){var o=i[r].nativeElement.getBoundingClientRect();if(n.top!==o.top&&n.left===o.left){i[r].nativeElement.focus();break}}},e.prototype.onKeydownArrowDown=function(t){t.preventDefault(),t.stopPropagation();var e=this.dates.find(function(e){return e.nativeElement===t.target});if(e)for(var i=this.dates.toArray(),n=e.nativeElement.getBoundingClientRect(),r=i.indexOf(e)+1;r<i.length;r++){var o=i[r].nativeElement.getBoundingClientRect();if(n.top!==o.top&&n.left===o.left){i[r].nativeElement.focus();break}}},e.prototype.onKeydownArrowRight=function(t){t.preventDefault(),t.stopPropagation();var e=this.dates.find(function(e){return e.nativeElement===t.target});if(e){var i=this.dates.toArray();if(i.indexOf(e)+1<i.length)i[i.indexOf(e)+1].nativeElement.focus()}},e.prototype.onKeydownArrowLeft=function(t){t.preventDefault(),t.stopPropagation();var e=this.dates.find(function(e){return e.nativeElement===t.target});if(e){var i=this.dates.toArray();if(0<=i.indexOf(e)-1)i[i.indexOf(e)-1].nativeElement.focus()}},e.prototype.onKeydownHome=function(e){e.preventDefault(),e.stopPropagation(),this.dates.toArray()[0].nativeElement.focus()},e.prototype.onKeydownEnd=function(e){e.preventDefault(),e.stopPropagation();var t=this.dates.toArray();t[t.length-1].nativeElement.focus()},e.prototype.onKeydownEnter=function(t){var e=this.dates.find(function(e){return e.nativeElement===t.target}).value;this.date=new Date(e.getFullYear(),e.getMonth(),this.date.getDate()),this.onSelection.emit(this.date),this._onChangeCallback(this.date)},e.decorators=[{type:b.Component,args:[{providers:[{provide:o.NG_VALUE_ACCESSOR,useExisting:e,multi:!0}],selector:"igx-months-view",template:'<div class="igx-calendar__body">\n    <div class="igx-calendar__body-row--wrap">\n        <div [igxCalendarMonth]="month" [date]="date" (onMonthSelection)="selectMonth($event)" [index]="i" *ngFor="let month of months; index as i; trackBy: monthTracker">\n            {{ formattedMonth(month) | titlecase }}\n        </div>\n    </div>\n</div>\n\n'}]}],e.ctorParameters=function(){return[{type:b.ElementRef}]},e.propDecorators={id:[{type:b.HostBinding,args:["attr.id"]},{type:b.Input}],date:[{type:b.Input}],monthFormat:[{type:b.Input}],locale:[{type:b.Input}],formatView:[{type:b.Input}],onSelection:[{type:b.Output}],styleClass:[{type:b.HostBinding,args:["class.igx-calendar"]}],dates:[{type:b.ViewChildren,args:[Ds,{read:Ds}]}],tabindex:[{type:b.HostBinding,args:["attr.tabindex"]}],onKeydownArrowUp:[{type:b.HostListener,args:["keydown.arrowup",["$event"]]}],onKeydownArrowDown:[{type:b.HostListener,args:["keydown.arrowdown",["$event"]]}],onKeydownArrowRight:[{type:b.HostListener,args:["keydown.arrowright",["$event"]]}],onKeydownArrowLeft:[{type:b.HostListener,args:["keydown.arrowleft",["$event"]]}],onKeydownHome:[{type:b.HostListener,args:["keydown.home",["$event"]]}],onKeydownEnd:[{type:b.HostListener,args:["keydown.end",["$event"]]}],onKeydownEnter:[{type:b.HostListener,args:["keydown.enter",["$event"]]}]},e}(),Ns=0,Gs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.overrides={pan:{direction:Hammer.DIRECTION_VERTICAL,threshold:1}},e}return f(e,t),e.decorators=[{type:b.Injectable}],e}(t.HammerGestureConfig),zs=function(){function e(e){this.el=e,this.id="igx-years-view-"+Ns++,this.date=new Date,this.onSelection=new b.EventEmitter,this.styleClass=!0,this.tabindex=0,this._locale="en",this._yearFormat="numeric",this._onTouchedCallback=function(){},this._onChangeCallback=function(){},this.initYearFormatter(),this._calendarModel=new Ss}return Object.defineProperty(e.prototype,"yearFormat",{get:function(){return this._yearFormat},set:function(e){this._yearFormat=e,this.initYearFormatter()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this._locale},set:function(e){this._locale=e,this.initYearFormatter()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"decade",{get:function(){var e,t,i=[],n=this.date.getFullYear()-3,r=this.date.getFullYear()+4;try{for(var o=S(vs(n,r)),s=o.next();!s.done;s=o.next()){var a=s.value;i.push(new Date(a,this.date.getMonth(),this.date.getDate()))}}catch(l){e={error:l}}finally{try{s&&!s.done&&(t=o["return"])&&t.call(o)}finally{if(e)throw e.error}}return i},enumerable:!0,configurable:!0}),e.prototype.formattedYear=function(e){return this.formatView?this._formatterYear.format(e):""+e.getFullYear()},e.prototype.selectYear=function(e){this.date=e,this.onSelection.emit(this.date),this._onChangeCallback(this.date)},e.prototype.scroll=function(e){e.preventDefault(),e.stopPropagation();var t=e.deltaY<0?-1:1;this.generateYearRange(t)},e.prototype.pan=function(e){var t=e.deltaY<0?1:-1;this.generateYearRange(t)},e.prototype.registerOnChange=function(e){this._onChangeCallback=e},e.prototype.registerOnTouched=function(e){this._onTouchedCallback=e},e.prototype.yearTracker=function(e,t){return t.getFullYear()+"}"},e.prototype.writeValue=function(e){e&&(this.date=e)},e.prototype.onKeydownArrowDown=function(e){e.preventDefault(),e.stopPropagation(),this.generateYearRange(1)},e.prototype.onKeydownArrowUp=function(e){e.preventDefault(),e.stopPropagation(),this.generateYearRange(-1)},e.prototype.onKeydownEnter=function(){this.onSelection.emit(this.date),this._onChangeCallback(this.date)},e.prototype.initYearFormatter=function(){this._formatterYear=new Intl.DateTimeFormat(this._locale,{year:this.yearFormat})},e.prototype.generateYearRange=function(e){var t=(new Date).getFullYear();0<e&&95<=this.date.getFullYear()-t||e<0&&95<=t-this.date.getFullYear()||(this.date=this._calendarModel.timedelta(this.date,"year",e))},e.decorators=[{type:b.Component,args:[{providers:[{provide:o.NG_VALUE_ACCESSOR,useExisting:e,multi:!0},{provide:t.HAMMER_GESTURE_CONFIG,useClass:Gs}],selector:"igx-years-view",template:'<div class="igx-calendar__body">\n    <div class="igx-calendar__body-column" (wheel)="scroll($event)" (pan)="pan($event)">\n        <span [igxCalendarYear]="year" [date]="date" (onYearSelection)="selectYear($event)" *ngFor="let year of decade; trackBy: yearTracker">\n            {{ formattedYear(year) }}\n        </span>\n    </div>\n</div>\n'}]}],e.ctorParameters=function(){return[{type:b.ElementRef}]},e.propDecorators={id:[{type:b.HostBinding,args:["attr.id"]},{type:b.Input}],date:[{type:b.Input}],yearFormat:[{type:b.Input}],locale:[{type:b.Input}],formatView:[{type:b.Input}],onSelection:[{type:b.Output}],styleClass:[{type:b.HostBinding,args:["class.igx-calendar"]}],tabindex:[{type:b.HostBinding,args:["attr.tabindex"]}],onKeydownArrowDown:[{type:b.HostListener,args:["keydown.arrowdown",["$event"]]}],onKeydownArrowUp:[{type:b.HostListener,args:["keydown.arrowup",["$event"]]}],onKeydownEnter:[{type:b.HostListener,args:["keydown.enter"]}]},e}(),Ws=function(){function e(e){this.elementRef=e,this.onDateSelection=new b.EventEmitter,this.tabindex=0,this._selected=!1}return Object.defineProperty(e.prototype,"selected",{get:function(){var t=this.date.date;if(this.value)return this.selection===Ts?this._selected=this.value.getTime()===t.getTime():this._selected=this.value.some(function(e){return e.getTime()===t.getTime()}),this._selected},set:function(e){this._selected=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCurrentMonth",{get:function(){return this.date.isCurrentMonth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPreviousMonth",{get:function(){return this.date.isPrevMonth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isNextMonth",{get:function(){return this.date.isNextMonth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInactive",{get:function(){return this.date.isNextMonth||this.date.isPrevMonth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isToday",{get:function(){var e=new Date(Date.now()),t=this.date.date;return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isWeekend",{get:function(){var e=this.date.date.getDay();return 0===e||6===e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisabled",{get:function(){return null!==this.disabledDates&&ws(this.date.date,this.disabledDates)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOutOfRange",{get:function(){return!!this.outOfRangeDates&&ws(this.date.date,this.outOfRangeDates)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSpecial",{get:function(){return null!==this.specialDates&&ws(this.date.date,this.specialDates)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultCSS",{get:function(){return this.date.isCurrentMonth&&!(this.isWeekend&&this.selected)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInactiveCSS",{get:function(){return this.isInactive},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isTodayCSS",{get:function(){return this.isToday&&!this.selected},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelectedCSS",{get:function(){return this.selected},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isWeekendCSS",{get:function(){return this.isWeekend},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisabledCSS",{get:function(){return this.isDisabled||this.isOutOfRange},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSpecialCSS",{get:function(){return this.isSpecial},enumerable:!0,configurable:!0}),e.prototype.onSelect=function(){this.onDateSelection.emit(this.date)},e.decorators=[{type:b.Component,args:[{selector:"igx-day-item",template:"<ng-content></ng-content>\n"}]}],e.ctorParameters=function(){return[{type:b.ElementRef}]},e.propDecorators={date:[{type:b.Input}],selection:[{type:b.Input}],value:[{type:b.Input}],disabledDates:[{type:b.Input}],outOfRangeDates:[{type:b.Input}],specialDates:[{type:b.Input}],onDateSelection:[{type:b.Output}],tabindex:[{type:b.HostBinding,args:["attr.tabindex"]}],defaultCSS:[{type:b.HostBinding,args:["class.igx-calendar__date"]}],isInactiveCSS:[{type:b.HostBinding,args:["class.igx-calendar__date--inactive"]}],isTodayCSS:[{type:b.HostBinding,args:["class.igx-calendar__date--current"]}],isSelectedCSS:[{type:b.HostBinding,args:["class.igx-calendar__date--selected"]}],isWeekendCSS:[{type:b.HostBinding,args:["class.igx-calendar__date--weekend"]}],isDisabledCSS:[{type:b.HostBinding,args:["class.igx-calendar__date--disabled"]}],isSpecialCSS:[{type:b.HostBinding,args:["class.igx-calendar__date--special"]}],onSelect:[{type:b.HostListener,args:["click"]},{type:b.HostListener,args:["keydown.enter"]}]},e}(),Us=0,Ks=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id="igx-days-view-"+Us++,e.animationAction="",e.changeDaysView=!1,e.onDateSelection=new b.EventEmitter,e.onViewChanged=new b.EventEmitter,e.isKeydownTrigger=!1,e.styleClass=!0,e}return f(e,t),Object.defineProperty(e.prototype,"getCalendarMonth",{get:function(){return this.calendarModel.monthdatescalendar(this.viewDate.getFullYear(),this.viewDate.getMonth(),!0)},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){!this.changeDaysView&&this.dates&&this.disableOutOfRangeDates()},e.prototype.formattedDate=function(e){return this.formatViews.day?this.formatterDay.format(e):""+e.getDate()},e.prototype.generateWeekHeader=function(){var e,t,i=[],n=this.calendarModel.monthdatescalendar(this.viewDate.getFullYear(),this.viewDate.getMonth())[0];try{for(var r=S(n),o=r.next();!o.done;o=r.next()){var s=o.value;i.push(this.formatterWeekday.format(s.date))}}catch(a){e={error:a}}finally{try{o&&!o.done&&(t=r["return"])&&t.call(r)}finally{if(e)throw e.error}}return i},e.prototype.rowTracker=function(e,t){return""+t[e].date.getMonth()+t[e].date.getDate()},e.prototype.dateTracker=function(e,t){return t.date.getMonth()+"--"+t.date.getDate()},e.prototype.isCurrentMonth=function(e){return this.viewDate.getMonth()===e.getMonth()},e.prototype.isCurrentYear=function(e){return this.viewDate.getFullYear()===e.getFullYear()},e.prototype.focusActiveDate=function(){var e=this.dates.find(function(e){return e.selected});e||(e=this.dates.find(function(e){return e.isToday})),e&&e.nativeElement.focus()},e.prototype.selectDay=function(e){this.selectDateFromClient(e.date),this.onDateSelection.emit(e),this.onSelection.emit(this.selectedDates)},e.prototype.animationDone=function(e,t){if(t){this.monthScrollDirection!==Fs&&this.scrollMonth$.next();var i=this.dates.find(function(e){return e.selected});i&&!this.isKeydownTrigger?setTimeout(function(){i.nativeElement.focus()},parseInt(gt.options.params.duration,10)):!this.callback||"next"!==e.toState&&"prev"!==e.toState||this.callback(this.dates,this.nextDate)}},e.prototype.focusPreviousUpDate=function(t,e){var n=this;void 0===e&&(e=!1);var i=this.dates.find(function(e){return e.nativeElement===t});if(i){for(var r=this.dates.toArray(),o=r.indexOf(i);-1<o-7;o-=7){var s=e?r[o]:r[o-7];if(!s.isDisabled&&!s.isOutOfRange){s.nativeElement.focus();break}}if(this.changeDaysView&&r.indexOf(i)-7<0){var a=r[r.indexOf(i)];this.nextDate=new Date(a.date.date),this.nextDate.setDate(this.nextDate.getDate()-7),this.isKeydownTrigger=!0,this.animationAction="prev",this.callback=function(e,t){var i=e.find(function(e){return e.date.date.getTime()===t.getTime()});i&&n.focusPreviousUpDate(i.nativeElement,!0)},this.onViewChanged.emit(this.nextDate)}}},e.prototype.focusNextDownDate=function(t,e){var n=this;void 0===e&&(e=!1);var i=this.dates.find(function(e){return e.nativeElement===t});if(i){for(var r=this.dates.toArray(),o=r.indexOf(i);o+7<this.dates.length;o+=7){var s=e?r[o]:r[o+7];if(!s.isDisabled&&!s.isOutOfRange){s.nativeElement.focus();break}}if(this.changeDaysView&&r.indexOf(i)+7>this.dates.length-1){var a=r[r.indexOf(i)];this.nextDate=new Date(a.date.date),this.nextDate.setDate(this.nextDate.getDate()+7),this.isKeydownTrigger=!0,this.animationAction="next",this.callback=function(e,t){var i=e.find(function(e){return e.date.date.getTime()===t.getTime()});i&&n.focusNextDownDate(i.nativeElement,!0)},this.onViewChanged.emit(this.nextDate)}}},e.prototype.focusPreviousDate=function(t){var n=this,e=this.dates.find(function(e){return e.nativeElement===t});if(e){for(var i=this.dates.toArray(),r=i.indexOf(e);0<r;r--){var o=i[r-1];if(!o.isDisabled&&!o.isOutOfRange){o.nativeElement.focus();break}}if(this.changeDaysView&&0===i.indexOf(e)){var s=i[0];s.isCurrentMonth?this.nextDate=this.calendarModel.timedelta(s.date.date,"day",-1):this.nextDate=new Date(s.date.date),this.isKeydownTrigger=!0,this.animationAction="prev",this.callback=function(e,t){var i=e.find(function(e){return e.date.date.getTime()===t.getTime()});i&&n.focusPreviousDate(i.nativeElement)},this.onViewChanged.emit(this.nextDate)}}},e.prototype.focusNextDate=function(t){var n=this,e=this.dates.find(function(e){return e.nativeElement===t});if(e){for(var i=this.dates.toArray(),r=i.indexOf(e);r<this.dates.length-1;r++){var o=i[r+1];if(!o.isDisabled&&!o.isOutOfRange){o.nativeElement.focus();break}}if(this.changeDaysView&&i.indexOf(e)===this.dates.length-1){var s=i[this.dates.length-1];this.nextDate=new Date(s.date.date),this.isKeydownTrigger=!0,this.animationAction="next",this.callback=function(e,t){var i=e.find(function(e){return e.date.date.getTime()===t.getTime()});i&&n.focusNextDate(i.nativeElement)},this.onViewChanged.emit(this.nextDate)}}},e.prototype.disableOutOfRangeDates=function(){var t=[];this.dates.toArray().forEach(function(e){e.isCurrentMonth||t.push(e.date.date)}),this.outOfRangeDates=[{type:ms.Specific,dateRange:t}]},e.prototype.onKeydownArrowUp=function(e){e.preventDefault(),e.stopPropagation(),this.focusPreviousUpDate(e.target)},e.prototype.onKeydownArrowDown=function(e){e.preventDefault(),e.stopPropagation(),this.focusNextDownDate(e.target)},e.prototype.onKeydownArrowLeft=function(e){e.preventDefault(),e.stopPropagation(),this.focusPreviousDate(e.target)},e.prototype.onKeydownArrowRight=function(e){e.preventDefault(),e.stopPropagation(),this.focusNextDate(e.target)},e.prototype.onKeydownHome=function(e){e.preventDefault(),e.stopPropagation();for(var t=this.dates.filter(function(e){return e.isCurrentMonth}),i=0;i<t.length;i++)if(!t[i].isDisabled){t[i].nativeElement.focus();break}},e.prototype.onKeydownEnd=function(e){e.preventDefault(),e.stopPropagation();for(var t=this.dates.filter(function(e){return e.isCurrentMonth}),i=t.length-1;0<=i;i--)if(!t[i].isDisabled){t[i].nativeElement.focus();break}},e.decorators=[{type:b.Component,args:[{providers:[{multi:!0,provide:o.NG_VALUE_ACCESSOR,useExisting:e}],animations:[u.trigger("animateChange",[u.transition("* => prev",u.useAnimation(ht,{params:{fromPosition:"translateX(-30%)"}})),u.transition("* => next",u.useAnimation(gt,{params:{fromPosition:"translateX(30%)"}}))])],selector:"igx-days-view",template:'<div class="igx-calendar__body-row">\n    <span *ngFor="let dayName of generateWeekHeader()" class="igx-calendar__label">\n        {{ dayName | titlecase }}\n    </span>\n</div>\n\n<div *ngFor="let week of getCalendarMonth; last as isLast; index as i; trackBy: rowTracker" class="igx-calendar__body-row" [@animateChange]="animationAction" (@animateChange.done)="animationDone($event, isLast)">\n    <igx-day-item [date]="day" [selection]="selection" [value]="value" [disabledDates]="disabledDates" [specialDates]="specialDates" [outOfRangeDates]="outOfRangeDates" (onDateSelection)="selectDay($event)" *ngFor="let day of week; trackBy: dateTracker">\n        {{ formattedDate(day.date) }}\n    </igx-day-item>\n</div>\n'}]}],e.propDecorators={id:[{type:b.HostBinding,args:["attr.id"]},{type:b.Input}],animationAction:[{type:b.Input}],changeDaysView:[{type:b.Input}],onDateSelection:[{type:b.Output}],onViewChanged:[{type:b.Output}],dates:[{type:b.ViewChildren,args:[Ws,{read:Ws}]}],styleClass:[{type:b.HostBinding,args:["class.igx-calendar"]}],onKeydownArrowUp:[{type:b.HostListener,args:["keydown.arrowup",["$event"]]}],onKeydownArrowDown:[{type:b.HostListener,args:["keydown.arrowdown",["$event"]]}],onKeydownArrowLeft:[{type:b.HostListener,args:["keydown.arrowleft",["$event"]]}],onKeydownArrowRight:[{type:b.HostListener,args:["keydown.arrowright",["$event"]]}],onKeydownHome:[{type:b.HostListener,args:["keydown.home",["$event"]]}],onKeydownEnd:[{type:b.HostListener,args:["keydown.end",["$event"]]}]},e}(Ms),$s=0,Ys=function(i){function e(){var t=null!==i&&i.apply(this,arguments)||this;return t.id="igx-calendar-"+$s++,t.hasHeader=!0,t.vertical=!1,t.tabindex=0,t.role="grid",t.ariaLabelledBy="calendar",t.styleClass=!0,t._monthAction="",t.startPrevMonthScroll=function(e){void 0===e&&(e=!1),t.startMonthScroll$.next(),t.daysView.monthScrollDirection=Ls,t.previousMonth(e)},t.startNextMonthScroll=function(e){void 0===e&&(e=!1),t.startMonthScroll$.next(),t.daysView.monthScrollDirection=As,t.nextMonth(e)},t.stopMonthScroll=function(e){e.stopPropagation(),t.daysView.stopMonthScroll$.next(!0),t.daysView.stopMonthScroll$.complete(),t.daysView.monthScrollDirection===Ls?t.prevMonthBtn.nativeElement.focus():t.daysView.monthScrollDirection===As&&t.nextMonthBtn.nativeElement.focus(),t.daysView.monthScrollDirection=Fs},t}return f(e,i),Object.defineProperty(e.prototype,"styleVerticalClass",{get:function(){return this.vertical},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isYearView",{get:function(){return this.activeView===Vs.YEAR},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"monthAction",{get:function(){return this._monthAction},set:function(e){this._monthAction=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerTemplate",{get:function(){return this.headerTemplateDirective?this.headerTemplateDirective.template:null},set:function(e){this.headerTemplateDirective=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subheaderTemplate",{get:function(){return this.subheaderTemplateDirective?this.subheaderTemplateDirective.template:null},set:function(e){this.subheaderTemplateDirective=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerContext",{get:function(){var e=this.headerDate;return this.generateContext(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){var e=this.viewDate;return this.generateContext(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerDate",{get:function(){return this.selectedDates?this.selectedDates:new Date},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){var e=this;this.startMonthScroll$.pipe(p.takeUntil(this.stopMonthScroll$),p.switchMap(function(){return e.daysView.scrollMonth$.pipe(p.skipLast(1),p.debounce(function(){return x.interval(300)}),p.takeUntil(e.stopMonthScroll$))})).subscribe(function(){switch(e.daysView.monthScrollDirection){case Ls:e.previousMonth();break;case As:e.nextMonth()}})},e.prototype.formattedMonth=function(e){return this.formatViews.month?this.formatterMonth.format(e):""+e.getMonth()},e.prototype.previousMonth=function(e){void 0===e&&(e=!1),this.viewDate=this.calendarModel.timedelta(this.viewDate,"month",-1),this._monthAction="prev",this.daysView&&(this.daysView.isKeydownTrigger=e)},e.prototype.nextMonth=function(e){void 0===e&&(e=!1),this.viewDate=this.calendarModel.timedelta(this.viewDate,"month",1),this._monthAction="next",this.daysView&&(this.daysView.isKeydownTrigger=e)},e.prototype.activeViewDecade=function(){var e=this;i.prototype.activeViewDecade.call(this),requestAnimationFrame(function(){e.dacadeView&&e.dacadeView.el.nativeElement.focus()})},e.prototype.activeViewDecadeKB=function(e){var t=this;i.prototype.activeViewDecadeKB.call(this,e),requestAnimationFrame(function(){t.dacadeView&&t.dacadeView.el.nativeElement.focus()})},e.prototype.getFormattedDate=function(){var e=this.headerDate;return{monthday:this.formatterMonthday.format(e),weekday:this.formatterWeekday.format(e)}},e.prototype.childClicked=function(e){e.isPrevMonth&&this.previousMonth(),e.isNextMonth&&this.nextMonth(),this.selectDateFromClient(e.date),this.onSelection.emit(this.selectedDates)},e.prototype.viewChanged=function(e){this.viewDate=this.calendarModel.timedelta(e,"month",0)},e.prototype.changeMonth=function(e){var t=this;this.viewDate=new Date(this.viewDate.getFullYear(),e.getMonth()),this.activeView=Vs.DEFAULT,requestAnimationFrame(function(){t.monthsBtn.nativeElement.focus()})},e.prototype.activeViewYear=function(){var e=this;this.activeView=Vs.YEAR,requestAnimationFrame(function(){e.monthsView.dates.find(function(e){return e.isCurrentMonth}).nativeElement.focus()})},e.prototype.activeViewYearKB=function(e){" "!==e.key&&"Spacebar"!==e.key&&"Enter"!==e.key||(e.preventDefault(),this.activeViewYear())},e.prototype.deselectDate=function(e){i.prototype.deselectDate.call(this,e),this.daysView.selectedDates=this.selectedDates,this._onChangeCallback(this.selectedDates)},e.prototype.onKeydownPageUp=function(e){e.preventDefault();var t=this.daysView.dates.find(function(e){return e.nativeElement===document.activeElement});if(t){this.daysView.nextDate=new Date(t.date.date);var i=this.daysView.nextDate.getFullYear(),n=this.daysView.nextDate.getMonth()-1;n<0&&(n=11,i-=1);var r=Cs(this.daysView.nextDate.getFullYear(),n),o=this.daysView.nextDate.getDate();o>r[1]&&(o=r[1]),this.daysView.nextDate.setDate(o),this.daysView.nextDate.setMonth(n),this.daysView.nextDate.setFullYear(i),this.daysView.callback=function(e,t){var i=e.find(function(e){return e.date.date.getTime()===t.getTime()});i&&i.nativeElement.focus()}}this.previousMonth(!0)},e.prototype.onKeydownPageDown=function(e){e.preventDefault(),this.nextMonth(!0);var t=this.daysView.dates.find(function(e){return e.nativeElement===document.activeElement});if(t){this.daysView.nextDate=new Date(t.date.date);var i=this.daysView.nextDate.getFullYear(),n=this.daysView.nextDate.getMonth()+1;11<n&&(n=0,i+=1);var r=Cs(this.daysView.nextDate.getFullYear(),n),o=this.daysView.nextDate.getDate();o>r[1]&&(o=r[1]),this.daysView.nextDate.setDate(o),this.daysView.nextDate.setMonth(n),this.daysView.nextDate.setFullYear(i),this.daysView.callback=function(e,t){var i=e.find(function(e){return e.date.date.getTime()===t.getTime()});i&&i.nativeElement.focus()}}},e.prototype.onKeydownShiftPageUp=function(e){e.preventDefault(),this.viewDate=this.calendarModel.timedelta(this.viewDate,"year",-1),this.daysView.animationAction="prev",this.daysView.isKeydownTrigger=!0;var t=this.daysView.dates.find(function(e){return e.nativeElement===document.activeElement});if(t){this.daysView.nextDate=new Date(t.date.date);var i=this.daysView.nextDate.getFullYear()-1,n=Cs(i,this.daysView.nextDate.getMonth()),r=this.daysView.nextDate.getDate();r>n[1]&&(r=n[1]),this.daysView.nextDate.setDate(r),this.daysView.nextDate.setFullYear(i),this.daysView.callback=function(e,t){var i=e.find(function(e){return e.date.date.getTime()===t.getTime()});i&&i.nativeElement.focus()}}},e.prototype.onKeydownShiftPageDown=function(e){e.preventDefault(),this.viewDate=this.calendarModel.timedelta(this.viewDate,"year",1),this.daysView.animationAction="next",this.daysView.isKeydownTrigger=!0;var t=this.daysView.dates.find(function(e){return e.nativeElement===document.activeElement});if(t){this.daysView.nextDate=new Date(t.date.date);var i=this.daysView.nextDate.getFullYear()+1,n=Cs(i,this.daysView.nextDate.getMonth()),r=this.daysView.nextDate.getDate();r>n[1]&&(r=n[1]),this.daysView.nextDate.setDate(r),this.daysView.nextDate.setFullYear(i),this.daysView.callback=function(e,t){var i=e.find(function(e){return e.date.date.getTime()===t.getTime()});i&&i.nativeElement.focus()}}},e.prototype.onKeydownHome=function(e){this.daysView&&this.daysView.onKeydownHome(e)},e.prototype.onKeydownEnd=function(e){this.daysView&&this.daysView.onKeydownEnd(e)},e.prototype.onMouseUp=function(e){this.daysView&&this.daysView.monthScrollDirection!==Fs&&this.stopMonthScroll(e)},e.prototype.generateContext=function(e){var t=this;return{$implicit:m({monthView:function(){return t.activeViewYear()},yearView:function(){return t.activeViewDecade()}},this.calendarModel.formatToParts(e,this.locale,this.formatOptions,["era","year","month","day","weekday"]))}},e.decorators=[{type:b.Component,args:[{providers:[{multi:!0,provide:o.NG_VALUE_ACCESSOR,useExisting:e}],animations:[u.trigger("animateView",[u.transition("void => 0",u.useAnimation(d)),u.transition("void => *",u.useAnimation(Le,{params:{duration:".2s",fromScale:.9}}))])],selector:"igx-calendar",template:'<ng-template let-result #defaultHeader>\n    <span>{{ getFormattedDate().weekday }},&nbsp;</span>\n    <span>{{ getFormattedDate().monthday }}</span>\n</ng-template>\n\n<ng-template let-result #defaultMonth>\n    <span tabindex="0" #monthsBtn (keydown)="activeViewYearKB($event)" (click)="activeViewYear()"\n        class="igx-calendar-picker__date">\n        {{ formattedMonth(viewDate) }}\n    </span>\n    <span tabindex="0" #yearsBtn (keydown)="activeViewDecadeKB($event)" (click)="activeViewDecade()"\n        class="igx-calendar-picker__date">\n        {{ formattedYear(viewDate) }}\n    </span>\n</ng-template>\n\n<div *ngIf="selection === \'single\' && hasHeader" class="igx-calendar__header">\n    <h5 class="igx-calendar__header-year">{{ formattedYear(headerDate) }}</h5>\n    <h2 class="igx-calendar__header-date">\n        <ng-container *ngTemplateOutlet="headerTemplate ? headerTemplate : defaultHeader; context: headerContext">\n        </ng-container>\n    </h2>\n</div>\n\n<div *ngIf="isDefaultView" class="igx-calendar__body" [@animateView]="activeView" (swiperight)="previousMonth()"\n    (swipeleft)="nextMonth()">\n    <div class="igx-calendar-picker">\n        <div tabindex="0" class="igx-calendar-picker__prev" #prevMonthBtn\n            igxCalendarScrollMonth [startScroll]="startPrevMonthScroll" [stopScroll]="stopMonthScroll">\n            <igx-icon fontSet="material">keyboard_arrow_left</igx-icon>\n        </div>\n        <div>\n            <ng-container *ngTemplateOutlet="subheaderTemplate ? subheaderTemplate : defaultMonth; context: context">\n            </ng-container>\n        </div>\n        <div tabindex="0" class="igx-calendar-picker__next" #nextMonthBtn\n            igxCalendarScrollMonth [startScroll]="startNextMonthScroll" [stopScroll]="stopMonthScroll">\n            <igx-icon fontSet="material">keyboard_arrow_right</igx-icon>\n        </div>\n    </div>\n\n    <igx-days-view [changeDaysView]="true" #days\n                   [animationAction]="monthAction"\n                   [locale]="locale"\n                   [value]="value"\n                   [viewDate]="viewDate"\n                   [weekStart]="weekStart"\n                   [formatOptions]="formatOptions"\n                   [formatViews]="formatViews"\n                   [selection]="selection"\n                   [disabledDates]="disabledDates"\n                   [specialDates]="specialDates"\n                   (onViewChanged)="viewChanged($event)"\n                   (onDateSelection)="childClicked($event)">\n    </igx-days-view>\n</div>\n\n<igx-months-view *ngIf="isYearView" [@animateView]="activeView" #months \n                 [date]="viewDate" \n                 [locale]="locale"\n                 [formatView]="formatViews.month"\n                 [monthFormat]="formatOptions.month" \n                 (onSelection)="changeMonth($event)">\n</igx-months-view>\n\n<igx-years-view *ngIf="isDecadeView" [@animateView]="activeView" #decade \n                [date]="viewDate" \n                [locale]="locale"\n                [formatView]="formatViews.year"\n                [yearFormat]="formatOptions.year" \n                (onSelection)="changeYear($event)">\n</igx-years-view>'}]}],e.propDecorators={id:[{type:b.HostBinding,args:["attr.id"]},{type:b.Input}],hasHeader:[{type:b.Input}],vertical:[{type:b.Input}],tabindex:[{type:b.HostBinding,args:["attr.tabindex"]}],role:[{type:b.HostBinding,args:["attr.role"]}],ariaLabelledBy:[{type:b.HostBinding,args:["attr.aria-labelledby"]}],styleVerticalClass:[{type:b.HostBinding,args:["class.igx-calendar--vertical"]}],styleClass:[{type:b.HostBinding,args:["class.igx-calendar"]}],monthsView:[{type:b.ViewChild,args:["months",{read:js}]}],monthsBtn:[{type:b.ViewChild,args:["monthsBtn"]}],dacadeView:[{type:b.ViewChild,args:["decade",{read:zs}]}],daysView:[{type:b.ViewChild,args:["days",{read:Ks}]}],prevMonthBtn:[{type:b.ViewChild,args:["prevMonthBtn"]}],nextMonthBtn:[{type:b.ViewChild,args:["nextMonthBtn"]}],headerTemplateDirective:[{type:b.ContentChild,args:[b.forwardRef(function(){return Es}),{read:Es}]}],subheaderTemplateDirective:[{type:b.ContentChild,args:[b.forwardRef(function(){return Os}),{read:Os}]}],onKeydownPageUp:[{type:b.HostListener,args:["keydown.pageup",["$event"]]}],onKeydownPageDown:[{type:b.HostListener,args:["keydown.pagedown",["$event"]]}],onKeydownShiftPageUp:[{type:b.HostListener,args:["keydown.shift.pageup",["$event"]]}],onKeydownShiftPageDown:[{type:b.HostListener,args:["keydown.shift.pagedown",["$event"]]}],onKeydownHome:[{type:b.HostListener,args:["keydown.home",["$event"]]}],onKeydownEnd:[{type:b.HostListener,args:["keydown.end",["$event"]]}],onMouseUp:[{type:b.HostListener,args:["document:mouseup",["$event"]]}]},e}(Hs),Xs=0,qs=function(i){function e(){var e=null!==i&&i.apply(this,arguments)||this;return e.id="igx-month-picker-"+Xs++,e.styleClass=!0,e.yearAction="",e}return f(e,i),e.prototype.animationDone=function(){this.yearAction=""},e.prototype.activeViewDecadeKB=function(e){var t=this;i.prototype.activeViewDecadeKB.call(this,e),"ArrowRight"!==e.key&&"Right"!==e.key||(e.preventDefault(),this.nextYear()),"ArrowLeft"!==e.key&&"Left"!==e.key||(e.preventDefault(),this.previousYear()),requestAnimationFrame(function(){t.dacadeView&&t.dacadeView.el.nativeElement.focus()})},e.prototype.activeViewDecade=function(){var e=this;i.prototype.activeViewDecade.call(this),requestAnimationFrame(function(){e.dacadeView.el.nativeElement.focus()})},e.prototype.nextYear=function(){this.yearAction="next",this.viewDate=this.calendarModel.timedelta(this.viewDate,"year",1),this.selectDate(this.viewDate),this.onSelection.emit(this.selectedDates)},e.prototype.nextYearKB=function(e){" "!==e.key&&"Spacebar"!==e.key&&"Enter"!==e.key||(e.preventDefault(),e.stopPropagation(),this.nextYear())},e.prototype.previousYear=function(){this.yearAction="prev",this.viewDate=this.calendarModel.timedelta(this.viewDate,"year",-1),this.selectDate(this.viewDate),this.onSelection.emit(this.selectedDates)},e.prototype.previousYearKB=function(e){" "!==e.key&&"Spacebar"!==e.key&&"Enter"!==e.key||(e.preventDefault(),e.stopPropagation(),this.previousYear())},e.prototype.selectYear=function(e){var t=this;this.viewDate=new Date(e.getFullYear(),e.getMonth(),e.getDate()),this.activeView=Vs.DEFAULT,this.selectDate(e),this.onSelection.emit(this.selectedDates),requestAnimationFrame(function(){t.yearsBtn.nativeElement.focus()})},e.prototype.selectMonth=function(e){this.selectDate(e),this.onSelection.emit(this.selectedDates)},e.prototype.selectDate=function(e){if(!e)return new Date;i.prototype.selectDate.call(this,e),this.viewDate=e},e.prototype.writeValue=function(e){e&&(this.viewDate=this.selectedDates=e)},e.prototype.onKeydownPageUp=function(e){e.preventDefault(),this.yearAction="prev",this.viewDate=this.calendarModel.timedelta(this.viewDate,"year",-1)},e.prototype.onKeydownPageDown=function(e){e.preventDefault(),this.yearAction="next",this.viewDate=this.calendarModel.timedelta(this.viewDate,"year",1)},e.prototype.onKeydownHome=function(e){this.monthsView&&(this.monthsView.el.nativeElement.focus(),this.monthsView.onKeydownHome(e))},e.prototype.onKeydownEnd=function(e){this.monthsView&&(this.monthsView.el.nativeElement.focus(),this.monthsView.onKeydownEnd(e))},e.decorators=[{type:b.Component,args:[{providers:[{multi:!0,provide:o.NG_VALUE_ACCESSOR,useExisting:e}],animations:[u.trigger("animateView",[u.transition("void => 0",u.useAnimation(d)),u.transition("void => *",u.useAnimation(Le,{params:{duration:".2s",fromScale:.9}}))]),u.trigger("animateChange",[u.transition("* => prev",u.useAnimation(ht,{params:{fromPosition:"translateX(-30%)"}})),u.transition("* => next",u.useAnimation(gt,{params:{fromPosition:"translateX(30%)"}}))])],selector:"igx-month-picker",template:'<div *ngIf="isDefaultView" [@animateView]="activeView" class="igx-calendar__body" (swiperight)="previousYear()" (swipeleft)="nextYear()">\n    <div class="igx-calendar-picker">\n        <div tabindex="0" class="igx-calendar-picker__prev" (click)="previousYear()" (keydown)="previousYearKB($event)">\n            <igx-icon fontSet="material">keyboard_arrow_left</igx-icon>\n        </div>\n        <div>\n            <span tabindex="0" #yearsBtn (keydown)="activeViewDecadeKB($event)" (click)="activeViewDecade()" class="igx-calendar-picker__date">\n                {{ formattedYear(viewDate) }}\n            </span>\n        </div>\n        <div tabindex="0" class="igx-calendar-picker__next" (click)="nextYear()" (keydown)="nextYearKB($event)">\n            <igx-icon fontSet="material">keyboard_arrow_right</igx-icon>\n        </div>\n    </div>\n\n    <igx-months-view [@animateChange]="yearAction" #months\n                     (@animateChange.done)="animationDone()"\n                     [date]="viewDate"\n                     [locale]="locale"\n                     [formatView]="formatViews.month"\n                     [monthFormat]="formatOptions.month"\n                     (onSelection)="selectMonth($event)">\n    </igx-months-view>\n</div>\n<igx-years-view *ngIf="isDecadeView" [@animateView]="activeView" #decade\n                [date]="viewDate"\n                [locale]="locale"\n                [formatView]="formatViews.year"\n                [yearFormat]="formatOptions.year"\n                (onSelection)="selectYear($event)">\n</igx-years-view>\n'}]}],e.propDecorators={id:[{type:b.HostBinding,args:["attr.id"]},{type:b.Input}],styleClass:[{type:b.HostBinding,args:["class.igx-calendar"]}],monthsView:[{type:b.ViewChild,args:["months",{read:js}]}],dacadeView:[{type:b.ViewChild,args:["decade",{read:zs}]}],daysView:[{type:b.ViewChild,args:["days",{read:Ks}]}],onKeydownPageUp:[{type:b.HostListener,args:["keydown.pageup",["$event"]]}],onKeydownPageDown:[{type:b.HostListener,args:["keydown.pagedown",["$event"]]}],onKeydownHome:[{type:b.HostListener,args:["keydown.home",["$event"]]}],onKeydownEnd:[{type:b.HostListener,args:["keydown.end",["$event"]]}]},e}(Hs),Zs=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[Ws,Ks,Ys,Es,Ds,Is,Os,Ps,js,zs,qs],exports:[Ys,Ks,js,zs,qs,Es,Ds,Is,Os],imports:[r.CommonModule,o.FormsModule,Go]}]}],e}(),Js=0,Qs=function(){function e(){this.cssClass="igx-card__media",this.width="auto",this.height="auto",this.role="img"}return e.decorators=[{type:b.Directive,args:[{selector:"igx-card-media"}]}],e.propDecorators={cssClass:[{type:b.HostBinding,args:["class.igx-card__media"]}],width:[{type:b.HostBinding,args:["style.width"]},{type:b.HostBinding,args:["style.min-width"]},{type:b.Input}],height:[{type:b.HostBinding,args:["style.height"]},{type:b.Input}],role:[{type:b.HostBinding,args:["attr.role"]},{type:b.Input}]},e}(),ea=function(){function e(){this.cssClass="igx-card-header",this.vertical=!1,this.role="header"}return e.decorators=[{type:b.Component,args:[{selector:"igx-card-header",template:'<div class="igx-card-header__thumbnail">\n    <ng-content select="igx-avatar, igx-card-media, [igxCardThumbnail]"></ng-content>\n</div>\n\n<div class="igx-card-header__titles">\n    <ng-content select="\n        [igxCardHeaderTitle],\n        [igxCardHeaderSubtitle],\n        .igx-card-header__title,\n        .igx-card-header__subtitle">\n    </ng-content>\n</div>\n\n<ng-content></ng-content>\n'}]}],e.propDecorators={cssClass:[{type:b.HostBinding,args:["class.igx-card-header"]}],vertical:[{type:b.HostBinding,args:["class.igx-card-header--vertical"]},{type:b.Input}],role:[{type:b.HostBinding,args:["attr.role"]}]},e}(),ta=function(){function e(){}return e.decorators=[{type:b.Directive,args:[{selector:"[igxCardThumbnail]"}]}],e}(),ia=function(){function e(){this.cssClass="igx-card__header__title"}return e.decorators=[{type:b.Directive,args:[{selector:"[igxCardHeaderTitle]"}]}],e.propDecorators={cssClass:[{type:b.HostBinding,args:["class.igx-card-header__title"]}]},e}(),na=function(){function e(){this.cssClass="igx-card-header__subtitle"}return e.decorators=[{type:b.Directive,args:[{selector:"[igxCardHeaderSubtitle]"}]}],e.propDecorators={cssClass:[{type:b.HostBinding,args:["class.igx-card-header__subtitle"]}]},e}(),ra=function(){function e(){this.cssClass="igx-card-content"}return e.decorators=[{type:b.Directive,args:[{selector:"igx-card-content"}]}],e.propDecorators={cssClass:[{type:b.HostBinding,args:["class.igx-card-content"]}]},e}(),oa=function(){function e(){this.role="footer"}return e.decorators=[{type:b.Directive,args:[{selector:"igx-card-footer"}]}],e.propDecorators={role:[{type:b.HostBinding,args:["attr.role"]},{type:b.Input}]},e}(),sa={DEFAULT:"default",OUTLINED:"outlined"},aa=function(){function e(){this.id="igx-card-"+Js++,this.role="group",this.type=sa.DEFAULT,this.horizontal=!1}return Object.defineProperty(e.prototype,"isOutlinedCard",{get:function(){return this.type===sa.OUTLINED},enumerable:!0,configurable:!0}),e.decorators=[{type:b.Component,args:[{selector:"igx-card",template:"<ng-container select='igx-card-media'></ng-container>\n\n<ng-container select='igx-card-header'></ng-container>\n<ng-container select='igx-card-content'>\n    <ng-content></ng-content>\n</ng-container>\n\n<ng-container select='igx-card-actions'></ng-container>\n"}]}],e.propDecorators={id:[{type:b.HostBinding,args:["attr.id"]},{type:b.Input}],role:[{type:b.HostBinding,args:["attr.role"]},{type:b.Input}],type:[{type:b.HostBinding,args:["class.igx-card"]},{type:b.Input}],isOutlinedCard:[{type:b.HostBinding,args:["class.igx-card--outlined"]}],horizontal:[{type:b.HostBinding,args:["class.igx-card--horizontal"]},{type:b.Input}]},e}(),la={DEFAULT:"default",JUSTIFY:"justify"},ca=function(){function e(e){this.card=e,this.isVerticalSet=!1,this.layout="default",this.reverse=!1}return Object.defineProperty(e.prototype,"isJustifyLayout",{get:function(){return this.layout===la.JUSTIFY},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){for(var t in e)"vertical"===t&&(this.isVerticalSet=!0)},e.prototype.ngOnInit=function(){this.vertical=!this.isVerticalSet&&this.card.horizontal},e.decorators=[{type:b.Component,args:[{selector:"igx-card-actions",template:'<div class="igx-card-actions__icons">\n    <ng-content select="igx-icon, [igxButton=\'icon\']"></ng-content>\n</div>\n\n<div #buttons class="igx-card-actions__buttons">\n    <ng-content select="[igxButton]"></ng-content>\n</div>\n\n\n<ng-content></ng-content>\n'}]}],e.ctorParameters=function(){return[{type:aa,decorators:[{type:b.Optional},{type:b.Inject,args:[aa]}]}]},e.propDecorators={layout:[{type:b.HostBinding,args:["class.igx-card-actions"]},{type:b.Input}],vertical:[{type:b.HostBinding,args:["class.igx-card-actions--vertical"]},{type:b.Input}],isJustifyLayout:[{type:b.HostBinding,args:["class.igx-card-actions--justify"]}],reverse:[{type:b.HostBinding,args:["class.igx-card-actions--reverse"]},{type:b.Input}]},e}(),pa=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[aa,ea,Qs,ra,ca,oa,ia,na,ta],exports:[aa,ea,Qs,ra,ca,oa,ia,na,ta],imports:[r.CommonModule,Vr]}]}],e}(),ua=0,da={NONE:0,NEXT:1,PREV:2};da[da.NONE]="NONE",da[da.NEXT]="NEXT",da[da.PREV]="PREV";var ha=function(){function e(e){this.element=e,this.role="region",this.id="igx-carousel-"+ua++,this.loop=!0,this.pause=!0,this.navigation=!0,this.onSlideChanged=new b.EventEmitter,this.onSlideAdded=new b.EventEmitter,this.onSlideRemoved=new b.EventEmitter,this.onCarouselPaused=new b.EventEmitter,this.onCarouselPlaying=new b.EventEmitter,this.slides=[],this._total=0}return Object.defineProperty(e.prototype,"interval",{get:function(){return this._interval},set:function(e){this._interval=+e,this._restartInterval()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabIndex",{get:function(){return 0},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this._destroyed=!0,this._lastInterval&&clearInterval(this._lastInterval)},e.prototype.setAriaLabel=function(e){return"Item "+(e.index+1)+" of "+this.total},Object.defineProperty(e.prototype,"total",{get:function(){return this._total},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this._currentSlide?this._currentSlide.index:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPlaying",{get:function(){return this._playing},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDestroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.element.nativeElement},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var t,i;try{for(var n=S(this.slides),r=n.next();!r.done;r=n.next()){var o=r.value;if(o.index===e)return o}}catch(s){t={error:s}}finally{try{r&&!r.done&&(i=n["return"])&&i.call(n)}finally{if(t)throw t.error}}},e.prototype.add=function(e){e.index=this.total,this.slides.push(e),this._total+=1,1===this.total||e.active?(this.select(e),1===this.total&&this.play()):e.active=!1,this.onSlideAdded.emit({carousel:this,slide:e})},e.prototype.remove=function(e){if(e&&e===this.get(e.index)){if(e.index===this.current&&(e.active=!1,this.next()),this.slides.splice(e.index,1),this._total-=1,!this.total)return void(this._currentSlide=null);for(var t=0;t<this.total;t++)this.slides[t].index=t;this.onSlideRemoved.emit({carousel:this,slide:e})}},e.prototype.select=function(e,t){void 0===t&&(t=da.NONE);var i=e.index;t===da.NONE&&(t=i>this.current?da.NEXT:da.PREV),e&&e!==this._currentSlide&&this._moveTo(e,t)},e.prototype.next=function(){var e=(this.current+1)%this.total;if(0!==e||this.loop)return this.select(this.get(e),da.NEXT);this.stop()},e.prototype.prev=function(){var e=this.current-1<0?this.total-1:this.current-1;if(this.loop||e!==this.total-1)return this.select(this.get(e),da.PREV);this.stop()},e.prototype.play=function(){this._playing||(this._playing=!0,this.onCarouselPlaying.emit(this),this._restartInterval())},e.prototype.stop=function(){this.pause&&(this._playing=!1,this.onCarouselPaused.emit(this),this._resetInterval())},e.prototype._moveTo=function(e,t){this._destroyed||(e.direction=t,e.active=!0,this._currentSlide&&(this._currentSlide.direction=t,this._currentSlide.active=!1),this._currentSlide=e,this.onSlideChanged.emit({carousel:this,slide:e}),this._restartInterval())},e.prototype._resetInterval=function(){this._lastInterval&&(clearInterval(this._lastInterval),this._lastInterval=null)},e.prototype._restartInterval=function(){var t=this;this._resetInterval(),!isNaN(this.interval)&&0<this.interval&&(this._lastInterval=setInterval(function(){var e=+t.interval;t._playing&&t.total&&!isNaN(e)&&0<e?t.next():t.stop()},this.interval))},e.prototype.onKeydownArrowRight=function(){var e=this;this.next(),requestAnimationFrame(function(){return e.nativeElement.focus()})},e.prototype.onKeydownArrowLeft=function(){var e=this;this.prev(),requestAnimationFrame(function(){return e.nativeElement.focus()})},e.decorators=[{type:b.Component,args:[{selector:"igx-carousel",template:'<div tabindex="0" aria-label="carousel" class="igx-carousel"\n        (mouseenter)="stop()"\n        (mouseleave)="play()"\n        (swipeleft)="next()"\n        (swiperight)="prev()"\n        (tap)="isPlaying ? stop() : play()">\n    <ul class="igx-carousel__indicators" [hidden]="slides.length <= 1">\n        <li *ngFor="let slide of slides" [attr.aria-label]="setAriaLabel(slide)" [attr.aria-selected]="slide.active" [class.active]="slide.active === true"\n            (click)="select(slide)"></li>\n    </ul>\n    <div class="igx-carousel__inner" role="list">\n        <ng-content></ng-content>\n    </div>\n    <div *ngIf="navigation">\n        <a role="button" tabindex="0" class="igx-carousel__arrow--prev" (click)="prev()" [hidden]="!slides.length">\n            <igx-icon fontSet="material">arrow_back</igx-icon>\n        </a>\n        <a role="button" tabindex="0" class="igx-carousel__arrow--next" (click)="next()" [hidden]="!slides.length">\n            <igx-icon fontSet="material">arrow_forward</igx-icon>\n        </a>\n    </div>\n</div>\n',styles:["\n    :host {\n        display: block;\n        outline-style: none;\n    }"]}]}],e.ctorParameters=function(){return[{type:b.ElementRef}]},e.propDecorators={role:[{type:b.HostBinding,args:["attr.role"]}],id:[{type:b.HostBinding,args:["attr.id"]},{type:b.Input}],loop:[{type:b.Input}],pause:[{type:b.Input}],interval:[{type:b.Input}],tabIndex:[{type:b.HostBinding,args:["attr.tabindex"]}],navigation:[{type:b.Input}],onSlideChanged:[{type:b.Output}],onSlideAdded:[{type:b.Output}],onSlideRemoved:[{type:b.Output}],onCarouselPaused:[{type:b.Output}],onCarouselPlaying:[{type:b.Output}],onKeydownArrowRight:[{type:b.HostListener,args:["keydown.arrowright"]}],onKeydownArrowLeft:[{type:b.HostListener,args:["keydown.arrowleft"]}]},e}(),ga=function(){function e(e){this.carousel=e}return e.prototype.ngOnInit=function(){this.carousel.add(this)},e.prototype.ngOnDestroy=function(){this.carousel.remove(this)},e.decorators=[{type:b.Component,args:[{selector:"igx-slide",template:'<div\n    role="listitem"\n    [class.active]="active"\n    class="igx-slide"\n    [attr.aria-selected]="active"\n    [attr.aria-live]="active ? \'polite\' : null"\n    [attr.tabIndex]="active ? 0 : null"\n>\n    <ng-content></ng-content>\n</div>\n'}]}],e.ctorParameters=function(){return[{type:ha}]},e.propDecorators={index:[{type:b.Input}],direction:[{type:b.Input}],active:[{type:b.HostBinding,args:["class.active"]},{type:b.Input}]},e}(),fa=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[ha,ga],exports:[ha,ga],imports:[r.CommonModule,Go]}]}],e}(),ma={BEFORE:"before",AFTER:"after"},ya=function(){},va=0,xa=function(){function e(){this.id="igx-checkbox-"+va++,this.labelId=this.id+"-label",this.tabindex=null,this.labelPosition=ma.AFTER,this.disableRipple=!1,this.required=!1,this.ariaLabelledBy=this.labelId,this.ariaLabel=null,this.change=new b.EventEmitter,this.cssClass="igx-checkbox",this.focused=!1,this.indeterminate=!1,this.checked=!1,this.disabled=!1,this.disableTransitions=!1,this.inputId=this.id+"-input",this._onTouchedCallback=ya,this._onChangeCallback=ya}return e.prototype.toggle=function(){this.disabled||(this.indeterminate=!1,this.focused=!1,this.checked=!this.checked,this.change.emit({checked:this.checked,checkbox:this}),this._onChangeCallback(this.checked))},e.prototype._onCheckboxChange=function(e){e.stopPropagation()},e.prototype._onCheckboxClick=function(e){e.stopPropagation(),ai()&&this.nativeCheckbox.nativeElement.blur(),this.toggle()},e.prototype._onLabelClick=function(e){this.toggle()},e.prototype.onFocus=function(e){this.focused=!0},e.prototype.onBlur=function(e){this.focused=!1,this._onTouchedCallback()},e.prototype.writeValue=function(e){this._value=e,this.checked=!!this._value},Object.defineProperty(e.prototype,"labelClass",{get:function(){switch(this.labelPosition){case ma.BEFORE:return this.cssClass+"__label--before";case ma.AFTER:default:return this.cssClass+"__label"}},enumerable:!0,configurable:!0}),e.prototype.registerOnChange=function(e){this._onChangeCallback=e},e.prototype.registerOnTouched=function(e){this._onTouchedCallback=e},e.prototype.getEditElement=function(){return this.nativeCheckbox.nativeElement},e.decorators=[{type:b.Component,args:[{providers:[{provide:o.NG_VALUE_ACCESSOR,useExisting:e,multi:!0}],selector:"igx-checkbox",preserveWhitespaces:!1,template:'<input #checkbox class="igx-checkbox__input"\n    type="checkbox"\n    [id]="inputId"\n    [name]="name"\n    [value]="value"\n    [tabindex]="tabindex"\n    [disabled]="disabled"\n    [indeterminate]="indeterminate"\n    [checked]="checked"\n    [required]="required"\n    [attr.aria-checked]="checked"\n    [attr.aria-labelledby]="ariaLabelledBy"\n    [attr.aria-label]="ariaLabel"\n    (change)="_onCheckboxChange($event)"\n    (click)="_onCheckboxClick($event)"\n    (focus)="onFocus($event)"\n    (blur)="onBlur($event)" />\n\n<label #label class="igx-checkbox__composite"\n    igxRipple\n    igxRippleTarget=".igx-checkbox__ripple"\n    [igxRippleDisabled]="disableRipple"\n    [igxRippleCentered]="true"\n    [igxRippleDuration]="300"\n    [attr.for]="inputId">\n    <svg class="igx-checkbox__composite-mark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M4.1,12.7 9,17.6 20.3,6.3" />\n    </svg>\n    <div class="igx-checkbox__ripple"></div>\n</label>\n\n<span #placeholderLabel role="label"\n    [class]="labelClass"\n    [id]="labelId"\n    (click)="_onLabelClick($event)">\n    <ng-content></ng-content>\n</span>\n'}]}],e.propDecorators={nativeCheckbox:[{type:b.ViewChild,args:["checkbox"]}],nativeLabel:[{type:b.ViewChild,args:["label"]}],placeholderLabel:[{type:b.ViewChild,args:["placeholderLabel"]}],id:[{type:b.HostBinding,args:["attr.id"]},{type:b.Input}],labelId:[{type:b.Input}],value:[{type:b.Input}],name:[{type:b.Input}],tabindex:[{type:b.Input}],labelPosition:[{type:b.Input}],disableRipple:[{type:b.Input}],required:[{type:b.Input}],ariaLabelledBy:[{type:b.Input,args:["aria-labelledby"]}],ariaLabel:[{type:b.Input,args:["aria-label"]}],change:[{type:b.Output}],cssClass:[{type:b.HostBinding,args:["class.igx-checkbox"]}],focused:[{type:b.HostBinding,args:["class.igx-checkbox--focused"]}],indeterminate:[{type:b.HostBinding,args:["class.igx-checkbox--indeterminate"]},{type:b.Input}],checked:[{type:b.HostBinding,args:["class.igx-checkbox--checked"]},{type:b.Input}],disabled:[{type:b.HostBinding,args:["class.igx-checkbox--disabled"]},{type:b.Input}],disableTransitions:[{type:b.HostBinding,args:["class.igx-checkbox--plain"]},{type:b.Input}]},e}(),ba={provide:o.NG_VALIDATORS,useExisting:b.forwardRef(function(){return Ca}),multi:!0},Ca=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.decorators=[{type:b.Directive,args:[{selector:"igx-checkbox[required][formControlName],\n    igx-checkbox[required][formControl],\n    igx-checkbox[required][ngModel]",providers:[ba]}]}],t}(o.CheckboxRequiredValidator),wa=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[xa,Ca],exports:[xa,Ca],imports:[yo]}]}],e}(),_a=0,Sa=function(o){function e(e,t,i,n){var r=o.call(this,n)||this;return r.cdr=e,r.elementRef=t,r.renderer=i,r._displayDensityOptions=n,r.id="igx-chip-"+_a++,r.draggable=!1,r.animateOnRelease=!0,r.hideBaseOnDrag=!0,r.removable=!1,r.selectable=!1,r["class"]="",r.disabled=!1,r.onMoveStart=new b.EventEmitter,r.onMoveEnd=new b.EventEmitter,r.onRemove=new b.EventEmitter,r.onClick=new b.EventEmitter,r.onSelection=new b.EventEmitter,r.onKeyDown=new b.EventEmitter,r.onDragEnter=new b.EventEmitter,r._selected=!1,r._selectedItemClass="igx-chip__item--selected",r._movedWhileRemoving=!1,r}return f(e,o),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(e){this.changeSelection(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this.chipArea.nativeElement.style.backgroundColor},set:function(e){this.chipArea.nativeElement.style.backgroundColor=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hostClass",{get:function(){var e=[this.getComponentDensityClass("igx-chip")];return e.push(this.disabled?"igx-chip--disabled":""),e.push(this["class"]),e.join(" ")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"removeButtonTemplate",{get:function(){return this.removeIcon||this.defaultRemoveIcon},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectIconTemplate",{get:function(){return this.selectIcon||this.defaultSelectIcon},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ghostClass",{get:function(){return this.getComponentDensityClass("igx-chip__ghost")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chipTabindex",{get:function(){return this.disabled?"":0},enumerable:!0,configurable:!0}),e.prototype.selectClass=function(e){var t,i="igx-chip__select";return(t={})[i]=e,t[i+"--hidden"]=!e,t},e.prototype.changeSelection=function(e,t){void 0===t&&(t=null);var i={originalEvent:t,owner:this,selected:!1,cancel:!1};e&&!this._selected?(i.selected=!0,this.onSelection.emit(i),i.cancel||(this.renderer.addClass(this.chipArea.nativeElement,this._selectedItemClass),this._selected=e)):!e&&this._selected&&(this.onSelection.emit(i),i.cancel||(this.renderer.removeClass(this.chipArea.nativeElement,this._selectedItemClass),this._selected=e))},e.prototype.onChipKeyDown=function(e){var t={originalEvent:e,owner:this,cancel:!1};this.onKeyDown.emit(t),t.cancel||("Delete"!==e.key&&"Del"!==e.key||!this.removable||this.onRemove.emit({originalEvent:e,owner:this})," "!==e.key&&"Spacebar"!==e.key||!this.selectable||this.disabled||this.changeSelection(!this.selected,e),"Tab"!==e.key&&e.preventDefault())},e.prototype.onRemoveBtnKeyDown=function(e){" "!==e.key&&"Spacebar"!==e.key&&"Enter"!==e.key||(this.onRemove.emit({originalEvent:e,owner:this}),e.preventDefault(),e.stopPropagation())},e.prototype.onRemoveMouseDown=function(e){e.stopPropagation()},e.prototype.onRemoveClick=function(e){this.onRemove.emit({originalEvent:e,owner:this})},e.prototype.onRemoveTouchMove=function(){this._movedWhileRemoving=!0},e.prototype.onRemoveTouchEnd=function(e){this._movedWhileRemoving||this.onRemoveClick(e),this._movedWhileRemoving=!1},e.prototype.onChipDragStart=function(e){this.onMoveStart.emit({originalEvent:e.originalEvent,owner:this}),e.cancel=!this.draggable||this.disabled},e.prototype.onChipDragEnd=function(){this.dragDirective.dropFinished()},e.prototype.onChipMoveEnd=function(e){this.onMoveEnd.emit({originalEvent:e.originalEvent,owner:this}),this.selected&&this.chipArea.nativeElement.focus()},e.prototype.onChipDragClicked=function(e){var t={originalEvent:e.originalEvent,owner:this,cancel:!1};this.onClick.emit(t),t.cancel||!this.selectable||this.disabled||this.changeSelection(!this.selected,e.originalEvent)},e.prototype.onChipDragEnterHandler=function(e){if(this.dragDirective!==e.drag&&e.dragData&&e.dragData.chip){var t={owner:this,dragChip:e.dragData.chip,originalEvent:e};this.onDragEnter.emit(t)}},e.prototype.onChipDrop=function(e){e.cancel=!0},e.decorators=[{type:b.Component,args:[{selector:"igx-chip",template:'<div #chipArea class="igx-chip__item"\n    [attr.tabindex]="chipTabindex"\n    (keydown)="onChipKeyDown($event)"\n    [igxDrag]="{chip: this}"\n    [hideBaseOnDrag]="hideBaseOnDrag"\n    [animateOnRelease]="animateOnRelease"\n    [ghostImageClass]="ghostClass"\n    (dragStart)="onChipDragStart($event)"\n    (dragEnd)="onChipDragEnd()"\n    (returnMoveEnd)="onChipMoveEnd($event)"\n    (dragClicked)="onChipDragClicked($event)"\n    igxDrop\n    (onEnter)="onChipDragEnterHandler($event)"\n    (onDrop)="onChipDrop($event)">\n\n    <div [ngClass]="selectClass(selected)">\n        <ng-container *ngTemplateOutlet="selectIconTemplate"></ng-container>\n    </div>\n\n    <ng-content select="igx-prefix,[igxPrefix]"></ng-content>\n\n    <div class="igx-chip__content">\n        <ng-content></ng-content>\n    </div>\n\n    <ng-content select="igx-suffix,[igxSuffix]"></ng-content>\n\n    <div class="igx-chip__remove" *ngIf="removable"\n        tabindex="0"\n        (keydown)="onRemoveBtnKeyDown($event)"\n        (pointerdown)="onRemoveMouseDown($event)"\n        (mousedown)="onRemoveMouseDown($event)"\n        (click)="onRemoveClick($event)"\n        (touchmove)="onRemoveTouchMove()"\n        (touchend)="onRemoveTouchEnd($event)">\n        <ng-container *ngTemplateOutlet="removeButtonTemplate"></ng-container>\n    </div>\n</div>\n\n<ng-template #defaultSelectIcon>\n    <igx-icon>done</igx-icon>\n</ng-template>\n\n<ng-template #defaultRemoveIcon>\n    <igx-icon>cancel</igx-icon>\n</ng-template>\n'}]}],e.ctorParameters=function(){return[{type:b.ChangeDetectorRef},{type:b.ElementRef},{type:b.Renderer2},{type:undefined,decorators:[{type:b.Optional},{type:b.Inject,args:[tr]}]}]},e.propDecorators={id:[{type:b.HostBinding,args:["attr.id"]},{type:b.Input}],data:[{type:b.Input}],draggable:[{type:b.Input}],animateOnRelease:[{type:b.Input}],hideBaseOnDrag:[{type:b.Input}],removable:[{type:b.Input}],removeIcon:[{type:b.Input}],selectable:[{type:b.Input}],selectIcon:[{type:b.Input}],"class":[{type:b.Input}],disabled:[{type:b.Input}],selected:[{type:b.Input}],color:[{type:b.Input}],onMoveStart:[{type:b.Output}],onMoveEnd:[{type:b.Output}],onRemove:[{type:b.Output}],onClick:[{type:b.Output}],onSelection:[{type:b.Output}],onKeyDown:[{type:b.Output}],onDragEnter:[{type:b.Output}],hostClass:[{type:b.HostBinding,args:["attr.class"]}],dragDirective:[{type:b.ViewChild,args:["chipArea",{read:zr}]}],chipArea:[{type:b.ViewChild,args:["chipArea",{read:b.ElementRef}]}],defaultRemoveIcon:[{type:b.ViewChild,args:["defaultRemoveIcon",{read:b.TemplateRef}]}],defaultSelectIcon:[{type:b.ViewChild,args:["defaultSelectIcon",{read:b.TemplateRef}]}]},e}(ir),Ia=function(){function e(e,t,i){this.cdr=e,this.element=t,this._iterableDiffers=i,this["class"]="",this.onReorder=new b.EventEmitter,this.onSelection=new b.EventEmitter,this.onMoveStart=new b.EventEmitter,this.onMoveEnd=new b.EventEmitter,this._differ=null,this.selectedChips=[],this.destroy$=new n.Subject,this._differ=this._iterableDiffers.find([]).create(null)}return Object.defineProperty(e.prototype,"hostClass",{get:function(){var e=["igx-chip-area"];return e.push(this["class"]),e.join(" ")},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){this.chipsList.length&&(this.selectedChips=this.chipsList.filter(function(e){return e.selected}),this.selectedChips.length&&this.onSelection.emit({originalEvent:null,newSelection:this.selectedChips,owner:this}))},e.prototype.ngDoCheck=function(){var t=this;if(this.chipsList){var e=this._differ.diff(this.chipsList.toArray());e&&(e.forEachAddedItem(function(e){e.item.onMoveStart.pipe(p.takeUntil(t.destroy$)).subscribe(function(e){t.onChipMoveStart(e)}),e.item.onMoveEnd.pipe(p.takeUntil(t.destroy$)).subscribe(function(e){t.onChipMoveEnd(e)}),e.item.onDragEnter.pipe(p.takeUntil(t.destroy$)).subscribe(function(e){t.onChipDragEnter(e)}),e.item.onKeyDown.pipe(p.takeUntil(t.destroy$)).subscribe(function(e){t.onChipKeyDown(e)}),e.item.selectable&&e.item.onSelection.pipe(p.takeUntil(t.destroy$)).subscribe(function(e){t.onChipSelectionChange(e)})}),this.modifiedChipsArray=this.chipsList.toArray())}},e.prototype.ngOnDestroy=function(){this.destroy$.next(!0),this.destroy$.complete()},e.prototype.onChipKeyDown=function(t){var e=this,i=this.chipsList.toArray(),n=i.findIndex(function(e){return e===t.owner});!0===t.originalEvent.shiftKey?"ArrowLeft"===t.originalEvent.key||"Left"===t.originalEvent.key?this.positionChipAtIndex(n,n-1,!1,t.originalEvent)&&setTimeout(function(){e.chipsList.toArray()[n-1].chipArea.nativeElement.focus()}):"ArrowRight"!==t.originalEvent.key&&"Right"!==t.originalEvent.key||this.positionChipAtIndex(n,n+1,!0,t.originalEvent):("ArrowLeft"===t.originalEvent.key||"Left"===t.originalEvent.key)&&0<n?i[n-1].chipArea.nativeElement.focus():("ArrowRight"===t.originalEvent.key||"Right"===t.originalEvent.key)&&n<i.length-1&&i[n+1].chipArea.nativeElement.focus()},e.prototype.onChipMoveStart=function(e){this.onMoveStart.emit({originalEvent:e.originalEvent,owner:this})},e.prototype.onChipMoveEnd=function(e){this.onMoveEnd.emit({originalEvent:e.originalEvent,owner:this})},e.prototype.onChipDragEnter=function(t){t.owner.elementRef.nativeElement.getBoundingClientRect();var e=this.chipsList.toArray().findIndex(function(e){return e===t.owner}),i=this.chipsList.toArray().findIndex(function(e){return e===t.dragChip});i<e?this.positionChipAtIndex(i,e,!0,t.originalEvent):this.positionChipAtIndex(i,e,!1,t.originalEvent)},e.prototype.positionChipAtIndex=function(e,t,i,n){if(e<0||this.chipsList.length<=e||t<0||this.chipsList.length<=t)return!1;for(var r=this.chipsList.toArray(),o=[],s=0;s<r.length;s++)i?e<=s&&s<t?o.push(r[s+1]):s===t?o.push(r[e]):o.push(r[s]):t<s&&s<=e?o.push(r[s-1]):s===t?o.push(r[e]):o.push(r[s]);this.modifiedChipsArray=o;var a={chipsArray:this.modifiedChipsArray,originalEvent:n,owner:this};return this.onReorder.emit(a),!0},e.prototype.onChipSelectionChange=function(t){t.selected?this.selectedChips.push(t.owner):t.selected||(this.selectedChips=this.selectedChips.filter(function(e){return e.id!==t.owner.id})),this.onSelection.emit({originalEvent:t.originalEvent,newSelection:this.selectedChips,owner:this})},e.decorators=[{type:b.Component,args:[{selector:"igx-chips-area",template:"<ng-content></ng-content>\n"}]}],e.ctorParameters=function(){return[{type:b.ChangeDetectorRef},{type:b.ElementRef},{type:b.IterableDiffers}]},e.propDecorators={"class":[{type:b.Input}],hostClass:[{type:b.HostBinding,args:["attr.class"]}],width:[{type:b.HostBinding,args:["style.width.px"]},{type:b.Input}],height:[{type:b.HostBinding,args:["style.height.px"]},{type:b.Input}],onReorder:[{type:b.Output}],onSelection:[{type:b.Output}],onMoveStart:[{type:b.Output}],onMoveEnd:[{type:b.Output}],chipsList:[{type:b.ContentChildren,args:[Sa]}]},e}(),Da=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[Ia,Sa],exports:[Ia,Sa,Dr,Or],imports:[r.CommonModule,yo,Go,Vr,Ko,Ur,Er,Pr]}]}],e}(),Ea=function(){function e(){}return e.decorators=[{type:b.Directive,args:[{selector:"[igxComboHeader]"}]}],e}(),Oa=function(){function e(){}return e.decorators=[{type:b.Directive,args:[{selector:"[igxComboFooter]"}]}],e}(),Pa=function(){function e(){}return e.decorators=[{type:b.Directive,args:[{selector:"[igxComboItem]"}]}],e}(),Ta=function(){function e(){}return e.decorators=[{type:b.Directive,args:[{selector:"[igxComboEmpty]"}]}],e}(),Ra=function(){function e(){}return e.decorators=[{type:b.Directive,args:[{selector:"[igxComboHeaderItem]"}]}],e}(),ka=function(){function e(){}return e.decorators=[{type:b.Directive,args:[{selector:"[igxComboAddItem]"}]}],e}(),La=function(){function e(){}return e.decorators=[{type:b.Directive,args:[{selector:"[igxComboToggleIcon]"}]}],e}(),Aa=function(){function e(){}return e.decorators=[{type:b.Directive,args:[{selector:"[igxComboClearIcon]"}]}],e}(),Fa=function(){function e(){this.disableTransitions=!1}return e.prototype.register=function(e){this.combo=e},e.prototype.clear=function(){this.combo=null},Object.defineProperty(e.prototype,"item_focusable",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRemote",{get:function(){return this.combo.isRemote},enumerable:!0,configurable:!0}),e.prototype.add_custom_item=function(){this.combo&&this.combo.addItemToCollection()},Object.defineProperty(e.prototype,"comboID",{get:function(){return this.combo.id},enumerable:!0,configurable:!0}),e.prototype.set_selected_item=function(e,t){var i=this.combo.isItemSelected(e);null!==e&&e!==undefined&&(i?this.combo.deselectItems([e],t):this.combo.selectItems([e],!1,t))},e.prototype.is_item_selected=function(e){return this.combo.isItemSelected(e)},e}(),Ma=function(o){function e(e,t,i,n){var r=o.call(this,t,i,null,n)||this;return r.comboAPI=e,r.dropDown=t,r.elementRef=i,r.selection=n,r.itemHeight="",r}return f(e,o),Object.defineProperty(e.prototype,"itemID",{get:function(){return this.comboAPI.isRemote?JSON.stringify(this.value):this.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"comboID",{get:function(){return this.comboAPI.comboID},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disableTransitions",{get:function(){return this.comboAPI.disableTransitions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this.comboAPI.is_item_selected(this.itemID)},set:function(e){this.isHeader||(this._selected=e)},enumerable:!0,configurable:!0}),e.prototype.isVisible=function(e){var t=this.element.nativeElement.getBoundingClientRect(),i=this.element.nativeElement.parentElement.parentElement.getBoundingClientRect();return e===Gn.Down?t.y+t.height<=i.y+i.height:t.y>=i.y},e.prototype.clicked=function(e){if(this.comboAPI.disableTransitions=!1,this.disabled||this.isHeader){var t=this.dropDown.items.find(function(e){return e.focused});this.dropDown.allowItemsFocus&&t&&t.element.nativeElement.focus({preventScroll:!0})}else this.dropDown.navigateItem(this.index),this.comboAPI.set_selected_item(this.itemID,e)},e.prototype.ngDoCheck=function(){},e.decorators=[{type:b.Component,args:[{selector:"igx-combo-item",template:'<ng-container *ngIf="!isHeader">\n    <igx-checkbox [checked]="selected" disableRipple="true" [disableTransitions]="disableTransitions" disabled="true" class="igx-combo__checkbox"></igx-checkbox>\n</ng-container>\n<ng-content></ng-content>'}]}],e.ctorParameters=function(){return[{type:Fa},{type:undefined,decorators:[{type:b.Inject,args:[Kn]}]},{type:b.ElementRef},{type:$n,decorators:[{type:b.Inject,args:[$n]}]}]},e.propDecorators={itemHeight:[{type:b.Input},{type:b.HostBinding,args:["style.height.px"]}],clicked:[{type:b.HostListener,args:["click",["$event"]]}]},e}(Qn),Va="IgxComboComponentToken",Ha=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),Object.defineProperty(t.prototype,"selected",{get:function(){return!1},set:function(e){},enumerable:!0,configurable:!0}),t.prototype.clicked=function(e){this.comboAPI.disableTransitions=!1,this.comboAPI.add_custom_item()},t.decorators=[{type:b.Component,args:[{selector:"igx-combo-add-item",template:"<ng-content></ng-content>",providers:[{provide:Ma,useExisting:t}]}]}],t}(Ma),Ba=function(a){function e(e,t,i,n,r,o){var s=a.call(this,e,t,i,o)||this;return s.elementRef=e,s.cdr=t,s.selection=i,s.combo=n,s.comboAPI=r,s._displayDensityOptions=o,s.children=null,s.scrollHandler=function(){s.comboAPI.disableTransitions=!0},s}return f(e,a),Object.defineProperty(e.prototype,"scrollContainer",{get:function(){return this.virtDir.dc.location.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isScrolledToLast",{get:function(){var e=this.virtDir.getVerticalScroll().scrollTop,t=this.virtDir.getVerticalScroll().scrollHeight;return Math.floor(e+this.virtDir.igxForContainerSize)===t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastVisibleIndex",{get:function(){return this.combo.totalItemCount?Math.floor(this.combo.itemsMaxHeight/this.combo.itemHeight):this.items.length-1},enumerable:!0,configurable:!0}),e.prototype.onFocus=function(){this.focusedItem=this._focusedItem||this.items[0]},e.prototype.onBlur=function(e){this.focusedItem=null},e.prototype.onToggleOpened=function(){this.onOpened.emit()},e.prototype.navigateFirst=function(){this.navigateItem(this.virtDir.igxForOf.findIndex(function(e){return!e.isHeader}))},e.prototype.navigatePrev=function(){this._focusedItem&&0===this._focusedItem.index&&0===this.virtDir.state.startIndex?this.combo.focusSearchInput(!1):a.prototype.navigatePrev.call(this)},e.prototype.navigateNext=function(){var e=this.combo.totalItemCount?this.combo.totalItemCount-1:this.virtDir.igxForOf.length-1;this._focusedItem&&this._focusedItem.index===e?this.focusAddItemButton():a.prototype.navigateNext.call(this)},e.prototype.selectItem=function(e){null!==e&&e!==undefined&&(this.comboAPI.set_selected_item(e.itemID),this._focusedItem=e)},e.prototype.focusAddItemButton=function(){this.combo.isAddButtonVisible()&&(this.focusedItem=this.items[this.items.length-1])},e.prototype.scrollToHiddenItem=function(e){},Object.defineProperty(e.prototype,"sortedChildren",{get:function(){return this.children!==undefined?this.children.toArray().sort(function(e,t){return e.index-t.index}):null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e,t,i=[];if(this.children!==undefined){var n=this.sortedChildren;try{for(var r=S(n),o=r.next();!o.done;o=r.next()){var s=o.value;s.isHeader||i.push(s)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(t=r["return"])&&t.call(r)}finally{if(e)throw e.error}}}return i},enumerable:!0,configurable:!0}),e.prototype.updateScrollPosition=function(){this.virtDir.getVerticalScroll().scrollTop=this._scrollPosition},e.prototype.onItemActionKey=function(e){switch(e){case Wn:this.handleEnter();break;case Un:this.handleSpace();break;case zn:this.close()}},e.prototype.handleEnter=function(){this.isAddItemFocused()?this.combo.addItemToCollection():this.close()},e.prototype.handleSpace=function(){this.isAddItemFocused()||this.selectItem(this.focusedItem)},e.prototype.isAddItemFocused=function(){return this.focusedItem instanceof Ha},e.prototype.ngAfterViewInit=function(){this.virtDir.getVerticalScroll().addEventListener("scroll",this.scrollHandler)},e.prototype.ngOnDestroy=function(){this.virtDir.getVerticalScroll().removeEventListener("scroll",this.scrollHandler),this.destroy$.next(!0),this.destroy$.complete()},e.decorators=[{type:b.Component,args:[{selector:"igx-combo-drop-down",template:'<div class="igx-drop-down__list" igxToggle [style.width]="width" [style.height]="height"\n[style.maxHeight]="maxHeight" [attr.id]="this.listId" role="listbox"\n    (onOpening)="onToggleOpening($event)" (onOpened)="onToggleOpened()"\n    (onClosing)="onToggleClosing($event)" (onClosed)="onToggleClosed()">\n    <ng-container *ngIf="!collapsed">\n        <ng-content></ng-content>\n    </ng-container>\n</div>\n',providers:[{provide:Kn,useExisting:e}]}]}],e.ctorParameters=function(){return[{type:b.ElementRef},{type:b.ChangeDetectorRef},{type:$n},{type:undefined,decorators:[{type:b.Inject,args:[Va]}]},{type:Fa},{type:undefined,decorators:[{type:b.Optional},{type:b.Inject,args:[tr]}]}]},e.propDecorators={children:[{type:b.ContentChildren,args:[Ma,{descendants:!0}]}]},e}(fr),ja=function(){function e(e){this.combo=e}return e.prototype.transform=function(e,t,i){var n=new Ci(i);n.filteringOperands=t;var r={expressionsTree:n,strategy:new Na};return r.expressionsTree.filteringOperands=this.combo.filteringExpressions,r.expressionsTree.filteringOperands.length?Ti.filter(ti(e),r):e},e.decorators=[{type:b.Pipe,args:[{name:"comboFiltering"}]}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:b.Inject,args:[Va]}]}]},e}(),Na=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.findMatchByExpression=function(e,t){var i=t.condition,n=t.fieldName===undefined?e:e[t.fieldName];return i.logic(n,t.searchVal,t.ignoreCase)},t}(Di),Ga=function(){function e(){}return e.prototype.transform=function(e,t){return t.length?Ti.sort(ti(e),t):e},e.decorators=[{type:b.Pipe,args:[{name:"comboSorting",pure:!0}]}],e.ctorParameters=function(){return[]},e}(),za=function(){function e(e){this.combo=e}return e.prototype.transform=function(e,t){var i;if(this.combo.filteredData=e,!t&&0!==t||!e.length)return e;for(var n=ti(e),r=0,o=null,s=0;s<e.length;s++){var a=0;o!==e[s][t]&&(o=e[s][t],a=1),a&&(n.splice(s+r,0,((i={})[this.combo.valueKey]=o,i[this.combo.groupKey]=o,i.isHeader=!0,i)),r++)}return n},e.decorators=[{type:b.Pipe,args:[{name:"comboGrouping"}]}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:b.Inject,args:[Va]}]}]},e}(),Wa=function(){function e(){}return e.prototype.transform=function(e){return e.split(/(?=[A-Z])/).join(" ")},e.decorators=[{type:b.Pipe,args:[{name:"filterCondition",pure:!0}]}],e}(),Ua=function(r){function e(e){var t=r.call(this)||this;return t._callback=e,t}return f(e,r),e.prototype.position=function(e,t,i,n){n&&this._callback(),r.prototype.position.call(this,e,t)},e}(On),Ka="primitive",$a="complex",Ya={comfortable:40,cosy:32,compact:28},Xa={INITIAL:0,VALID:1,INVALID:2};Xa[Xa.INITIAL]="INITIAL",Xa[Xa.VALID]="VALID",Xa[Xa.INVALID]="INVALID";var qa=0,Za=function(){},Ja=function(a){function e(e,t,i,n,r,o){var s=a.call(this,r)||this;return s.elementRef=e,s.cdr=t,s.selection=i,s.comboAPI=n,s._displayDensityOptions=r,s.injector=o,s.customValueFlag=!0,s.defaultFallbackGroup="Other",s.stringFilters=Ao,s.booleanFilters=Ro,s._filteringLogic=Si.Or,s._filteringExpressions=[],s._sortingExpressions=[],s._groupKey="",s._prevInputValue="",s._dataType="",s.ngControl=null,s.destroy$=new x.Subject,s._data=[],s._filteredData=[],s._itemHeight=null,s._itemsMaxHeight=null,s._onChangeCallback=Za,s.overlaySettings={scrollStrategy:new kn,modal:!1,closeOnOutsideClick:!0,excludePositionTarget:!0},s._value="",s.searchInput=null,s.comboInput=null,s.itemTemplate=null,s.headerTemplate=null,s.footerTemplate=null,s.headerItemTemplate=null,s.addItemTemplate=null,s.emptyTemplate=null,s.toggleIconTemplate=null,s.clearIconTemplate=null,s.dropdownContainer=null,s.onSelectionChange=new b.EventEmitter,s.onOpening=new b.EventEmitter,s.onOpened=new b.EventEmitter,s.onClosing=new b.EventEmitter,s.onClosed=new b.EventEmitter,s.onAddition=new b.EventEmitter,s.onSearchInput=new b.EventEmitter,s.onDataPreLoad=new b.EventEmitter,s.id="igx-combo-"+qa++,s.cssClass="igx-combo",s.role="combobox",s.allowCustomValues=!1,s.filteringLogic=Si.Or,s.placeholder="",s.searchPlaceholder="Enter a Search Term",s.filterable=!0,s.disabled=!1,s.type="box",s.valid=Xa.INITIAL,s.searchValue="",s.onStatusChanged=function(){(s.ngControl.control.touched||s.ngControl.control.dirty)&&(s.ngControl.control.validator||s.ngControl.control.asyncValidator)&&(s.valid=s.ngControl.valid?Xa.VALID:Xa.INVALID)},s.comboAPI.register(s),s}return f(e,a),Object.defineProperty(e.prototype,"displaySearchInput",{get:function(){return this.filterable||this.allowCustomValues},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"oldEmptyTemplate",{set:function(e){e&&(this.emptyTemplate=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"oldHeaderTemplate",{set:function(e){e&&(this.headerTemplate=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"oldFooterTemplate",{set:function(e){e&&(this.footerTemplate=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"oldItemTemplate",{set:function(e){e&&(this.itemTemplate=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"oldAddItemTemplate",{set:function(e){e&&(this.addItemTemplate=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"oldHeaderItemTemplate",{set:function(e){e&&(this.headerItemTemplate=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validClass",{get:function(){return this.valid===Xa.VALID},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"invalidClass",{get:function(){return this.valid===Xa.INVALID},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ariaExpanded",{get:function(){return!this.dropdown.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasPopUp",{get:function(){return"listbox"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ariaOwns",{get:function(){return this.dropdown.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemsMaxHeight",{get:function(){return null===this._itemsMaxHeight||this._itemsMaxHeight===undefined?10*this.itemHeight:this._itemsMaxHeight},set:function(e){this._itemsMaxHeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemHeight",{get:function(){return null===this._itemHeight||this._itemHeight===undefined?Ya[this.displayDensity]:this._itemHeight},set:function(e){this._itemHeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputEmpty",{get:function(){return!this.value&&!this.placeholder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e||[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayKey",{get:function(){return this._displayKey?this._displayKey:this.valueKey},set:function(e){this._displayKey=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupKey",{get:function(){return this._groupKey},set:function(e){this.clearSorting(this._groupKey),this._groupKey=e,this.sort(this._groupKey)},enumerable:!0,configurable:!0}),e.prototype.onArrowDown=function(e){e.preventDefault(),e.stopPropagation(),this.open()},e.prototype.onInputClick=function(e){e.stopPropagation(),e.preventDefault(),this.toggle()},Object.defineProperty(e.prototype,"virtualizationState",{get:function(){return this.virtDir.state},set:function(e){this.virtDir.state=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalItemCount",{get:function(){return this.virtDir.totalItemCount},set:function(e){this.virtDir.totalItemCount=e,this.cdr.detectChanges()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filteringExpressions",{get:function(){return this.filterable?this._filteringExpressions:[]},set:function(e){this._filteringExpressions=e,this.cdr.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortingExpressions",{get:function(){return this._sortingExpressions},set:function(e){this._sortingExpressions=e,this.cdr.markForCheck()},enumerable:!0,configurable:!0}),e.prototype.clearSorting=function(t){if(t!==undefined&&null!==t){var e=ti(this.sortingExpressions),i=e.findIndex(function(e){return e.fieldName===t});-1<i&&(e.splice(i,1),this.sortingExpressions=e)}else this.sortingExpressions=[]},Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filteredData",{get:function(){return this.filterable?this._filteredData:this.data},set:function(e){this._filteredData=this.groupKey?(e||[]).filter(function(e){return!0!==e.isHeader}):e,this.checkMatch()},enumerable:!0,configurable:!0}),e.prototype.handleKeyUp=function(e){"ArrowDown"===e.key||"Down"===e.key?(this.dropdown.focusedItem=this.dropdown.items[0],this.dropdownContainer.nativeElement.focus()):"Escape"!==e.key&&"Esc"!==e.key||this.toggle()},e.prototype.handleKeyDown=function(e){"ArrowUp"!==e.key&&"Up"!==e.key||(e.preventDefault(),e.stopPropagation(),this.close())},e.prototype.checkMatch=function(){var t=this,i=this.displayKey,e=this.filteredData.some(function(e){return(i?e[i]:e).toString().toLowerCase()===t.searchValue.trim().toLowerCase()});this.customValueFlag=this.allowCustomValues&&!e},e.prototype.handleInputChange=function(e){var t=this,i=!1,n=this.virtDir;e!==undefined&&this._prevInputValue===e||(this._prevInputValue=e!==undefined?e:"",e!==undefined?(n.isScrollable()?n.scrollTo(0):i=!0,this.onSearchInput.emit(e)):i=!0,this.filterable?(this.filter(),i&&n.onChunkLoad.pipe(p.take(1)).subscribe(function(){n.isScrollable()&&t.cdr.detectChanges()})):this.checkMatch())},e.prototype.sort=function(e,t,i,n){if(void 0===t&&(t=fi.Asc),void 0===i&&(i=!0),void 0===n&&(n=mi.instance()),e){var r=ti(this.sortingExpressions,!0);this.prepare_sorting_expression(r,e,t,i,n),this.sortingExpressions=r}},e.prototype.getValueByValueKey=function(t){var i=this;return t||0===t?this.valueKey?this.data.filter(function(e){return e[i.valueKey]===t})[0]:this.data.filter(function(e){return e===t}):undefined},e.prototype.prepare_sorting_expression=function(e,t,i,n,r){if(i!==fi.None){var o=e.find(function(e){return e.fieldName===t});o?Object.assign(o,{fieldName:t,dir:i,ignoreCase:n}):e.push({fieldName:t,dir:i,ignoreCase:n,strategy:r})}else e.splice(e.findIndex(function(e){return e.fieldName===t}),1)},Object.defineProperty(e.prototype,"dataType",{get:function(){return this.valueKey?$a:Ka},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRemote",{get:function(){return 0<this.totalItemCount&&this.valueKey&&this.dataType===$a},enumerable:!0,configurable:!0}),e.prototype._stringifyItemID=function(e){return this.isRemote&&"object"==typeof e?JSON.stringify(e):e},e.prototype._parseItemID=function(e){return this.isRemote&&"string"==typeof e?JSON.parse(e):e},e.prototype.isItemSelected=function(e){return this.selection.is_item_selected(this.id,this._stringifyItemID(e))},e.prototype.triggerCheck=function(){this.cdr.detectChanges()},e.prototype.isAddButtonVisible=function(){return""!==this.searchValue&&this.customValueFlag},e.prototype.handleSelectAll=function(e){e.checked?this.selectAllItems():this.deselectAllItems()},e.prototype.addItemToCollection=function(){var e,t;if(this.searchValue){var i=this.searchValue.trim(),n=this.displayKey?((e={})[this.valueKey]=i,e[this.displayKey]=i,e):i;this.groupKey&&Object.assign(n,((t={})[this.groupKey]=this.defaultFallbackGroup,t));var r=this.data,o=_(this.data);o.push(n);var s={oldCollection:r,addedItem:n,newCollection:o};this.onAddition.emit(s),this.data.push(n),this.data=ti(this.data),this.selectItems([n],!1),this.customValueFlag=!1,this.searchInput.nativeElement.focus(),this.dropdown.focusedItem=null,this.handleInputChange()}},e.prototype.focusSearchInput=function(e){this.displaySearchInput&&this.searchInput?this.searchInput.nativeElement.focus():e?this.dropdownContainer.nativeElement.focus():(this.comboInput.nativeElement.focus(),this.toggle())},e.prototype.prepare_filtering_expression=function(e,t,i,n){var r=_(this.filteringExpressions),o=r.find(function(e){return e.fieldName===n}),s={fieldName:n,searchVal:e,condition:t,ignoreCase:i};if(o?Object.assign(o,s):r.push(s),this.groupKey){var a=r.find(function(e){return"isHeader"===e.fieldName}),l={fieldName:"isHeader",searchVale:"",condition:Ro.instance().condition("true"),ignoreCase:!0};a?Object.assign(a,l):r.push(l)}this.filteringExpressions=r},e.prototype.onBlur=function(){this.collapsed&&(this.ngControl&&!this.ngControl.valid?this.valid=Xa.INVALID:this.valid=Xa.INITIAL)},e.prototype.filter=function(){this.prepare_filtering_expression(this.searchValue.trim(),Ao.instance().condition("contains"),!0,this.dataType===Ka?undefined:this.displayKey)},e.prototype.ngOnInit=function(){var e=this;this.ngControl=this.injector.get(o.NgControl,null),this._positionCallback=function(){return e.dropdown.updateScrollPosition()},this.overlaySettings.positionStrategy=new Ua(this._positionCallback),this.overlaySettings.positionStrategy.settings.target=this.elementRef.nativeElement,this.selection.set(this.id,new Set)},e.prototype.ngAfterViewInit=function(){this.filteredData=_(this.data),this.ngControl&&this.ngControl.statusChanges.pipe(p.takeUntil(this.destroy$)).subscribe(this.onStatusChanged)},e.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete(),this.comboAPI.clear(),this.selection.clear(this.id)},e.prototype.dataLoading=function(e){this.onDataPreLoad.emit(e)},e.prototype.writeValue=function(e){this.selectItems(e,!0),this.cdr.markForCheck()},e.prototype.registerOnChange=function(e){this._onChangeCallback=e},e.prototype.registerOnTouched=function(e){},e.prototype.setDisabledState=function(e){this.disabled=e},e.prototype.getEditElement=function(){return this.comboInput.nativeElement},Object.defineProperty(e.prototype,"template",{get:function(){return this._dataType=this.dataType,this.itemTemplate?this.itemTemplate:this._dataType===$a?this.complexTemplate:this.primitiveTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return{$implicit:this}},enumerable:!0,configurable:!0}),e.prototype.handleClearItems=function(e){this.deselectAllItems(!0,e),e.stopPropagation()},e.prototype.toggle=function(){this.dropdown.toggle(this.overlaySettings)},e.prototype.open=function(){this.dropdown.open(this.overlaySettings)},e.prototype.close=function(){this.dropdown.close()},Object.defineProperty(e.prototype,"collapsed",{get:function(){return this.dropdown.collapsed},enumerable:!0,configurable:!0}),e.prototype.selectedItems=function(){var t=this,e=Array.from(this.selection.get(this.id));return this.isRemote?e.map(function(e){return t._parseItemID(e)}):e},e.prototype.selectItems=function(e,t,i){if(e){var n=this.selection.add_items(this.id,e,t);this.setSelection(n,i)}},e.prototype.deselectItems=function(e,t){if(e){var i=this.selection.delete_items(this.id,e);this.setSelection(i,t)}},e.prototype.selectAllItems=function(e,t){var i=this.selection.get_all_ids(e?this.data:this.filteredData),n=this.selection.add_items(this.id,i);this.setSelection(n,t)},e.prototype.deselectAllItems=function(e,t){var i=this.selection.get_empty();this.filteredData.length===this.data.length||e||(i=this.selection.delete_items(this.id,this.selection.get_all_ids(this.filteredData))),this.setSelection(i,t)},e.prototype.setSelectedItem=function(e,t,i){if(void 0===t&&(t=!0),null!==e&&e!==undefined){var n=this.getValueByValueKey(e);null!==n&&n!==undefined&&(t?this.selectItems([n],!1,i):this.deselectItems([n],i))}},e.prototype.setSelection=function(e,t){var i=this,n=Array.from(this.selection.get(this.id)||[]),r={newSelection:Array.from(e||[]),oldSelection:n,event:t,cancel:!1};this.onSelectionChange.emit(r),r.cancel||(this.selection.select_items(this.id,r.newSelection,!0),this._value=this.dataType!==Ka?r.newSelection.map(function(e){return i._parseItemID(e)[i.displayKey]}).join(", "):r.newSelection.join(", "),this._onChangeCallback(r.newSelection))},e.prototype.handleOpening=function(e){this.onOpening.emit(e),e.cancel||this.handleInputChange()},e.prototype.handleOpened=function(){this.triggerCheck(),this.focusSearchInput(!0),this.onOpened.emit()},e.prototype.handleClosing=function(e){this.onClosing.emit(e),e.cancel||(this.searchValue="",this.comboInput.nativeElement.focus())},e.prototype.handleClosed=function(){this.onClosed.emit()},e.decorators=[{type:b.Component,args:[{selector:"igx-combo",template:'<ng-template #complex let-display let-data="data" let-key="displayKey">\n    {{display[key]}}\n</ng-template>\n<ng-template #primitive let-display>\n    {{display}}\n</ng-template>\n<ng-template #empty>\n    <span>The list is empty</span>\n</ng-template>\n<ng-template #addItemDefault let-control>\n    <button igxButton="flat" igxRipple>Add item</button>\n</ng-template>\n<ng-template #headerItemBase let-item let-key="valueKey" let-groupKey="groupKey">\n    {{ item[key] }}\n</ng-template>\n\n<igx-input-group [displayDensity]="displayDensity" [type]="type" (click)="onInputClick($event)">\n    <ng-container ngProjectAs="[igxLabel]">\n        <ng-content select="[igxLabel]"></ng-content>\n    </ng-container>\n    <ng-container ngProjectAs="igx-prefix">\n        <ng-content select="igx-prefix"></ng-content>\n    </ng-container>\n    <ng-container ngProjectAs="igx-hint, [igxHint]">\n            <ng-content select="igx-hint, [igxHint]"></ng-content>\n        </ng-container>\n    <input igxInput #comboInput name="comboInput" type="text" [value]="value" readonly [placeholder]="placeholder"\n        [disabled]="disabled" (blur)="onBlur()" />\n    <ng-container ngProjectAs="igx-suffix">\n        <ng-content select="igx-suffix"></ng-content>\n    </ng-container>\n    <igx-suffix *ngIf="value.length" aria-label="Clear Selection" class="igx-combo__clear-button" igxRipple (click)="handleClearItems($event)">\n        <ng-container *ngIf="clearIconTemplate">\n            <ng-container *ngTemplateOutlet="clearIconTemplate"></ng-container>\n        </ng-container>\n        <igx-icon *ngIf="!clearIconTemplate" fontSet="material">clear</igx-icon>\n    </igx-suffix>\n    <igx-suffix igxButton="icon" class="igx-combo__toggle-button" igxRipple>\n        <ng-container *ngIf="toggleIconTemplate">\n            <ng-container *ngTemplateOutlet="toggleIconTemplate; context: {$implicit: this.collapsed}"></ng-container>\n        </ng-container>\n        <igx-icon *ngIf="!toggleIconTemplate" fontSet="material">{{ dropdown.collapsed ? \'arrow_drop_down\' : \'arrow_drop_up\'}}</igx-icon>\n    </igx-suffix>\n</igx-input-group>\n<igx-combo-drop-down #igxComboDropDown class="igx-combo__drop-down" [displayDensity]="displayDensity" [width]="itemsWidth || \'100%\'" (onOpening)="handleOpening($event)"\n    (onClosing)="handleClosing($event)" (onOpened)="handleOpened()" (onClosed)="handleClosed()">\n    <igx-input-group *ngIf="displaySearchInput" [displayDensity]="displayDensity" class="igx-combo__search">\n        <input class="igx-combo-input" igxInput #searchInput name="searchInput" autocomplete="off" type="text"\n            [(ngModel)]="searchValue" (ngModelChange)="handleInputChange($event)" (keyup)="handleKeyUp($event)"\n            (keydown)="handleKeyDown($event)" (focus)="dropdown.onBlur($event)" [placeholder]="searchPlaceholder"\n            aria-autocomplete="both" [attr.aria-owns]="dropdown.id" [attr.aria-labelledby]="ariaLabelledBy" />\n    </igx-input-group>\n    <ng-container *ngTemplateOutlet="headerTemplate">\n    </ng-container>\n    <div #dropdownItemContainer class="igx-combo__content" [style.overflow]="\'hidden\'" [style.maxHeight.px]="itemsMaxHeight"\n        [igxDropDownItemNavigation]="dropdown" (focus)="dropdown.onFocus()" [tabindex]="dropdown.collapsed ? -1 : 0"\n        role="listbox" [attr.id]="dropdown.id">\n        <ng-template igxFor let-item let-index="index" [igxForOf]="data | comboFiltering:filteringExpressions:filteringLogic | comboSorting:sortingExpressions | comboGrouping:groupKey"\n            [igxForScrollOrientation]="\'vertical\'" [igxForContainerSize]="itemsMaxHeight" [igxForItemSize]="itemHeight"\n            (onChunkPreload)="dataLoading($event)">\n            <igx-combo-item  [itemHeight]=\'itemHeight\' [value]="item" [isHeader]="item.isHeader" role="option" [index]="index">\n                <ng-container *ngIf="item.isHeader">\n                    <ng-container *ngTemplateOutlet="headerItemTemplate ? headerItemTemplate : headerItemBase; context: {$implicit: item, data: data, valueKey: valueKey, groupKey: groupKey, displayKey: displayKey}"></ng-container>\n                </ng-container>\n                <ng-container *ngIf="!item.isHeader">\n                    <ng-container #listItem *ngTemplateOutlet="template; context: {$implicit: item, data: data, valueKey: valueKey, displayKey: displayKey};"></ng-container>\n                </ng-container>\n            </igx-combo-item>\n        </ng-template>\n    </div>\n    <div class="igx-combo__add" *ngIf="filteredData.length === 0 || isAddButtonVisible()">\n        <div class="igx-combo__empty" *ngIf="filteredData.length === 0">\n            <ng-container *ngTemplateOutlet="emptyTemplate ? emptyTemplate : empty">\n            </ng-container>\n        </div>\n        <igx-combo-add-item [itemHeight]=\'itemHeight\' *ngIf="isAddButtonVisible()" [tabindex]="dropdown.collapsed ? -1 : customValueFlag ? 1 : -1"\n            class="igx-combo__add-item" igxRipple role="button" aria-label="Add Item" [index]="virtualScrollContainer.igxForOf.length">\n            <ng-container *ngTemplateOutlet="addItemTemplate ? addItemTemplate : addItemDefault">\n            </ng-container>\n        </igx-combo-add-item>\n    </div>\n    <ng-container *ngTemplateOutlet="footerTemplate">\n    </ng-container>\n</igx-combo-drop-down>',providers:[Fa,{provide:Va,useExisting:e},{provide:o.NG_VALUE_ACCESSOR,useExisting:b.forwardRef(function(){return e}),multi:!0}]}]}],e.ctorParameters=function(){return[{type:b.ElementRef},{type:b.ChangeDetectorRef},{type:$n},{type:Fa},{type:undefined,decorators:[{type:b.Optional},{type:b.Inject,args:[tr]}]},{type:b.Injector,decorators:[{type:b.Optional}]}]},e.propDecorators={virtDir:[{type:b.ViewChild,args:[ur,{read:ur}]}],dropdown:[{type:b.ViewChild,args:[Ba,{read:Ba}]}],searchInput:[{type:b.ViewChild,args:["searchInput"]}],comboInput:[{type:b.ViewChild,args:["comboInput"]}],itemTemplate:[{type:b.ContentChild,args:[Pa,{read:b.TemplateRef}]}],headerTemplate:[{type:b.ContentChild,args:[Ea,{read:b.TemplateRef}]}],footerTemplate:[{type:b.ContentChild,args:[Oa,{read:b.TemplateRef}]}],headerItemTemplate:[{type:b.ContentChild,args:[Ra,{read:b.TemplateRef}]}],addItemTemplate:[{type:b.ContentChild,args:[ka,{read:b.TemplateRef}]}],emptyTemplate:[{type:b.ContentChild,args:[Ta,{read:b.TemplateRef}]}],toggleIconTemplate:[{type:b.ContentChild,args:[La,{read:b.TemplateRef}]}],clearIconTemplate:[{type:b.ContentChild,args:[Aa,{read:b.TemplateRef}]}],primitiveTemplate:[{type:b.ViewChild,args:["primitive",{read:b.TemplateRef}]}],complexTemplate:[{type:b.ViewChild,args:["complex",{read:b.TemplateRef}]}],virtualScrollContainer:[{type:b.ViewChild,args:[ur]}],oldEmptyTemplate:[{type:b.ContentChild,args:["emptyTemplate",{read:b.TemplateRef}]}],oldHeaderTemplate:[{type:b.ContentChild,args:["headerTemplate",{read:b.TemplateRef}]}],oldFooterTemplate:[{type:b.ContentChild,args:["footerTemplate",{read:b.TemplateRef}]}],oldItemTemplate:[{type:b.ContentChild,args:["itemTemplate",{read:b.TemplateRef}]}],oldAddItemTemplate:[{type:b.ContentChild,args:["addItemTemplate",{read:b.TemplateRef}]}],oldHeaderItemTemplate:[{type:b.ContentChild,args:["headerItemTemplate",{read:b.TemplateRef}]}],dropdownContainer:[{type:b.ViewChild,args:["dropdownItemContainer"]}],onSelectionChange:[{type:b.Output}],onOpening:[{type:b.Output}],onOpened:[{type:b.Output}],onClosing:[{type:b.Output}],onClosed:[{type:b.Output}],onAddition:[{type:b.Output}],onSearchInput:[{type:b.Output}],onDataPreLoad:[{type:b.Output}],id:[{type:b.HostBinding,args:["attr.id"]},{type:b.Input}],width:[{type:b.HostBinding,args:["style.width"]},{type:b.Input}],validClass:[{type:b.HostBinding,args:["class.igx-input-group--valid"]}],invalidClass:[{type:b.HostBinding,args:["class.igx-input-group--invalid"]}],cssClass:[{type:b.HostBinding,args:["class.igx-combo"]}],role:[{type:b.HostBinding,args:["attr.role"]}],ariaExpanded:[{type:b.HostBinding,args:["attr.aria-expanded"]}],hasPopUp:[{type:b.HostBinding,args:["attr.aria-haspopup"]}],ariaOwns:[{type:b.HostBinding,args:["attr.aria-owns"]}],allowCustomValues:[{type:b.Input}],itemsMaxHeight:[{type:b.Input}],itemsWidth:[{type:b.Input}],itemHeight:[{type:b.Input}],placeholder:[{type:b.Input}],searchPlaceholder:[{type:b.Input}],data:[{type:b.Input}],valueKey:[{type:b.Input}],displayKey:[{type:b.Input}],groupKey:[{type:b.Input}],filterable:[{type:b.Input}],ariaLabelledBy:[{type:b.Input},{type:b.HostBinding,args:["attr.aria-labelledby"]}],disabled:[{type:b.Input}],type:[{type:b.Input}],onArrowDown:[{type:b.HostListener,args:["keydown.ArrowDown",["$event"]]},{type:b.HostListener,args:["keydown.Alt.ArrowDown",["$event"]]}]},y([Sn("Setting combo item template with '#emptyTemplate' is deprecated.\nUse `igxComboEmpty` directive instead."),C("design:type",b.TemplateRef),C("design:paramtypes",[b.TemplateRef])],e.prototype,"oldEmptyTemplate",null),y([Sn("Setting combo item template with '#headerTemplate' is deprecated.\nUse `igxComboHeader` directive instead."),C("design:type",b.TemplateRef),C("design:paramtypes",[b.TemplateRef])],e.prototype,"oldHeaderTemplate",null),y([Sn("Setting combo item template with '#footerTemplate' is deprecated.\nUse `igxComboFooter` directive instead."),C("design:type",b.TemplateRef),C("design:paramtypes",[b.TemplateRef])],e.prototype,"oldFooterTemplate",null),y([Sn("Setting combo item template with '#itemTemplate' is deprecated.\nUse `igxComboItem` directive instead."),C("design:type",b.TemplateRef),C("design:paramtypes",[b.TemplateRef])],e.prototype,"oldItemTemplate",null),y([Sn("Setting combo item template with '#addItemTemplate' is deprecated.\nUse `igxComboAddItem` directive instead."),C("design:type",b.TemplateRef),C("design:paramtypes",[b.TemplateRef])],e.prototype,"oldAddItemTemplate",null),y([Sn("Setting combo item template with '#headerItemTemplate' is deprecated.\nUse `igxComboHeaderItem` directive instead."),C("design:type",b.TemplateRef),C("design:paramtypes",[b.TemplateRef])],e.prototype,"oldHeaderItemTemplate",null),e}(ir),Qa=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[Ja,Ma,Wa,za,ja,Ga,Ba,Ha,Pa,Ta,Ra,Ea,Oa,ka,La,Aa],exports:[Ja,Ma,Ba,Ha,Pa,Ta,Ra,Ea,Oa,ka,La,Aa],imports:[yo,r.CommonModule,Lr,o.FormsModule,o.ReactiveFormsModule,gr,Nn,wa,yr,Vr,Go],providers:[$n]}]}],e}(),el=function(){function x(){}return x.parseDateFormat=function(e,t){void 0===t&&(t=x.DEFAULT_LOCALE);var i=[];if(e!==undefined||ai()){var n=e||x.SHORT_DATE_MASK,r=Array.from(n),o=n.indexOf("M"),s=n.indexOf("d"),a=n.indexOf("y");-1!==a&&i.push({type:"year",initialPosition:a,formatType:x.getYearFormatType(n)}),-1!==o&&i.push({type:"month",initialPosition:o,formatType:x.getMonthFormatType(n)}),-1!==s&&i.push({type:"day",initialPosition:s,formatType:x.getDayFormatType(n)});for(var l=0;l<r.length;l++)x.isDateChar(r[l])||i.push({type:x.SEPARATOR,initialPosition:l,value:r[l]});i.sort(function(e,t){return e.initialPosition-t.initialPosition}),x.fillDatePartsPositions(i)}else i=x.getDefaultLocaleMask(t);return i},x.getInputMask=function(e){for(var t=[],i=0;i<e.length;i++)if(e[i].type===x.SEPARATOR)t.push(e[i].value);else if("day"===e[i].type||"month"===e[i].type)t.push("00");else if("year"===e[i].type)switch(e[i].formatType){case"numeric":t.push("0000");break;case"2-digit":t.push("00")}return t.join("")},x.getMask=function(e){for(var t=[],i=0;i<e.length;i++){switch(e[i].formatType){case"numeric":"day"===e[i].type?t.push("d"):"month"===e[i].type?t.push("M"):t.push("yyyy");break;case"2-digit":"day"===e[i].type?t.push("dd"):"month"===e[i].type?t.push("MM"):t.push("yy")}e[i].type===x.SEPARATOR&&t.push(e[i].value)}return t.join("")},x.parseDateArray=function(e,t,i){var n,r,o=x.getDayValueFromInput(e,i),s=x.getMonthValueFromInput(e,i),a=x.getYearValueFromInput(e,i),l=x.getDateFormatPart(e,"year").formatType,c=""!==o?parseInt(o,10):1,p=""!==s?parseInt(s,10)-1:0;if(n=""===a?"2-digit"===l?"00":"2000":a,t){var u=t.getFullYear().toString();4===u.length&&(r=u.substring(0,2))}else r="20";var d="2-digit"===l?r.concat(n):n;return p<0||11<p||p===NaN?{state:"invalid",value:i}:c<1||c>x.daysInMonth(d,p+1)||c===NaN?{state:"invalid",value:i}:{state:"valid",date:new Date(d,p,c)}},x.maskToPromptChars=function(e){return e.replace(/0|L/g,x.PROMPT_CHAR)},x.trimUnderlines=function(e){return e.replace(/_/g,"")},x.getModifiedDateInput=function(e,t,i,n,r){var o,s,a,l=x.getDatePartOnPosition(e,i),c=l.type,p=l.formatType,u=x.getDateValueFromInput(e,c,t);o=parseInt(u,10);var d=x.getMinMaxValue(e,l,t);a=d.min,s=d.max,isNaN(o)&&(o="infinite"===a?2e3:a);var h=o;h+=n,"infinite"===s&&"infinite"===a&&(o=h),r?(s<h&&(h=a),h<a&&(h=s),o=h):h<=s&&a<=h&&(o=h);var g=l.position[0],f=l.position[1],m=t.slice(0,g),y=t.slice(f,t.length),v=x.getNumericFormatPrefix(p);return""+m+(o<10?""+v+o:""+o)+y},x.addPromptCharsEditMode=function(e,t,i){for(var n=Array.from(i),r=0;r<e.length;r++)"numeric"===e[r].formatType&&("day"===e[r].type&&t.getDate()<10||"month"===e[r].type&&t.getMonth()+1<10)&&(n.splice(e[r].position[0],0,x.PROMPT_CHAR),n.join(""));return n.join("")},x.checkForCompleteDateInput=function(e,t){var i=x.getDayValueFromInput(e,t),n=x.getMonthValueFromInput(e,t),r=x.getYearValueFromInput(e,t),o=x.getDayValueFromInput(e,t,!1),s=x.getMonthValueFromInput(e,t,!1);return x.isFullInput(i,o)&&x.isFullInput(n,s)&&x.isFullYearInput(e,r)?"complete":""===i&&""===n&&""===r?"empty":""===i||""===n||""===r?"partial":""},x.getYearFormatType=function(e){switch(e.match(new RegExp("y","g")).length){case 1:case 4:return"numeric";case 2:return"2-digit"}},x.getMonthFormatType=function(e){switch(e.match(new RegExp("M","g")).length){case 1:return"numeric";case 2:return"2-digit"}},x.getDayFormatType=function(e){switch(e.match(new RegExp("d","g")).length){case 1:return"numeric";case 2:return"2-digit"}},x.getDefaultLocaleMask=function(e){for(var t=[],i=new Intl.DateTimeFormat(e),n=i.formatToParts(new Date),r=0;r<n.length;r++)n[r].type===x.SEPARATOR?t.push({type:x.SEPARATOR,value:n[r].value}):t.push({type:n[r].type});var o=i.resolvedOptions();for(r=0;r<t.length;r++)switch(t[r].type){case"day":t[r].formatType=o.day;break;case"month":case"year":t[r].formatType=o.month}return x.fillDatePartsPositions(t),t},x.isDateChar=function(e){return"y"===e||"M"===e||"d"===e},x.getNumericFormatPrefix=function(e){switch(e){case"2-digit":return"0";case"numeric":return x.PROMPT_CHAR}},x.getMinMaxValue=function(e,t,i){var n,r;switch(t.type){case"month":r=1,n=x.NUMBER_OF_MONTHS;break;case"day":r=1,n=x.daysInMonth(x.getFullYearFromString(x.getDateFormatPart(e,"year"),i),parseInt(x.getMonthValueFromInput(e,i),10));break;case"year":n="2-digit"===t.formatType?(r=0,99):r="infinite"}return{min:r,max:n}},x.daysInMonth=function(e,t){return new Date(e,t,0).getDate()},x.getDateValueFromInput=function(e,t,i,n){void 0===n&&(n=!0);var r=x.getDateFormatPart(e,t).position,o=i.substring(r[0],r[1]);return n?x.trimUnderlines(o):o},x.getDayValueFromInput=function(e,t,i){return void 0===i&&(i=!0),x.getDateValueFromInput(e,"day",t,i)},x.getMonthValueFromInput=function(e,t,i){return void 0===i&&(i=!0),x.getDateValueFromInput(e,"month",t,i)},x.getYearValueFromInput=function(e,t,i){return void 0===i&&(i=!0),x.getDateValueFromInput(e,"year",t,i)},x.getDateFormatPart=function(e,t){return e.filter(function(e){return e.type===t})[0]},x.isFullInput=function(e,t){return""!==e&&2===t.length&&t.charAt(1)!==x.PROMPT_CHAR},x.isFullYearInput=function(e,t){switch(x.getDateFormatPart(e,"year").formatType){case"numeric":return""!==t&&4===t.length;case"2-digit":return""!==t&&2===t.length;default:return!1}},x.getDatePartOnPosition=function(e,t){return e.filter(function(e){return e.position[0]<=t&&t<=e.position[1]&&e.type!==x.SEPARATOR})[0]},x.getFullYearFromString=function(e,t){return parseInt(t.substring(e.position[0],e.position[1]),10)},x.fillDatePartsPositions=function(e){for(var t=0,i=0;i<e.length;i++)if("day"===e[i].type||"month"===e[i].type)e[i].position=[t,t+2],t+=2;else if("year"===e[i].type)switch(e[i].formatType){case"numeric":e[i].position=[t,t+4],t+=4;break;case"2-digit":e[i].position=[t,t+2],t+=2}else e[i].type===x.SEPARATOR&&(e[i].position=[t,t+1],t++)},x.SHORT_DATE_MASK="MM/dd/yy",x.SEPARATOR="literal",x.NUMBER_OF_MONTHS=12,x.PROMPT_CHAR="_",x.DEFAULT_LOCALE="en",x}(),tl="IgxDatePickerComponentToken",il=function(){function e(e){this._datePicker=e}return e.prototype.transform=function(e,t){return""!==e?e===el.maskToPromptChars(this._datePicker.inputMask)?"":(this._datePicker.rawDateString=e,el.trimUnderlines(e)):""},e.decorators=[{type:b.Pipe,args:[{name:"displayValue"}]}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:b.Inject,args:[tl]}]}]},e}(),nl=function(){function e(e){this._datePicker=e}return e.prototype.transform=function(e,t){return""!==this._datePicker.invalidDate?this._datePicker.invalidDate:null===this._datePicker.value||this._datePicker.value===undefined?el.maskToPromptChars(this._datePicker.inputMask):el.addPromptCharsEditMode(this._datePicker.dateFormatParts,this._datePicker.value,e)},e.decorators=[{type:b.Pipe,args:[{name:"inputValue"}]}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:b.Inject,args:[tl]}]}]},e}(),rl=function(){function e(e){this.template=e}return e.decorators=[{type:b.Directive,args:[{selector:"[igxDatePickerTemplate]"}]}],e.ctorParameters=function(){return[{type:b.TemplateRef}]},e}(),ol=function(){function e(e){this.template=e}return e.decorators=[{type:b.Directive,args:[{selector:"[igxDatePickerActions]"}]}],e.ctorParameters=function(){return[{type:b.TemplateRef}]},e}(),sl={DropDown:"dropdown",Dialog:"dialog"},al=function(){function e(){this.mode=sl.Dialog,this.vertical=!1,this.onClose=new b.EventEmitter,this.onTodaySelection=new b.EventEmitter,this.styleClass="igx-date-picker"}return Object.defineProperty(e.prototype,"dropdownCSS",{get:function(){return this.mode===sl.DropDown},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalCSS",{get:function(){return this.vertical&&this.mode===sl.Dialog},enumerable:!0,configurable:!0}),e.prototype.onEscape=function(e){e.preventDefault(),this.onClose.emit()},Object.defineProperty(e.prototype,"isReadonly",{get:function(){return this.mode===sl.Dialog},enumerable:!0,configurable:!0}),e.prototype.closeCalendar=function(){this.onClose.emit()},e.prototype.triggerTodaySelection=function(){this.onTodaySelection.emit()},e.decorators=[{type:b.Component,args:[{selector:"igx-calendar-container",template:'<ng-template #defaultDatePickerActions>\n    <div *ngIf="cancelButtonLabel || todayButtonLabel" class="igx-date-picker__buttons">\n        <button #closeButton *ngIf="cancelButtonLabel" igxButton="flat" igxRipple (click)="closeCalendar()">\n            {{ cancelButtonLabel }}\n        </button>\n        <button #todayButton *ngIf="todayButtonLabel" igxButton="flat" igxRipple (click)="triggerTodaySelection()">\n            {{ todayButtonLabel }}\n        </button>\n    </div>\n</ng-template>\n<igx-calendar #calendar></igx-calendar>\n<ng-container *ngTemplateOutlet="datePickerActions ? datePickerActions.template : defaultDatePickerActions"></ng-container>\n',styles:[":host {display: block;}"]}]}],e.propDecorators={calendar:[{type:b.ViewChild,args:["calendar"]}],mode:[{type:b.Input}],vertical:[{type:b.Input}],cancelButtonLabel:[{type:b.Input}],todayButtonLabel:[{type:b.Input}],datePickerActions:[{type:b.Input}],onClose:[{type:b.Output}],onTodaySelection:[{type:b.Output}],styleClass:[{type:b.HostBinding,args:["class.igx-date-picker"]}],dropdownCSS:[{type:b.HostBinding,args:["class.igx-date-picker--dropdown"]}],verticalCSS:[{type:b.HostBinding,args:["class.igx-date-picker--vertical"]}],onEscape:[{type:b.HostListener,args:["keydown.esc",["$event"]]},{type:b.HostListener,args:["keydown.alt.arrowup",["$event"]]}]},e}(),ll=0,cl={ShortDate:"shortDate",MediumDate:"mediumDate",LongDate:"longDate",FullDate:"fullDate"},pl=function(){function e(e,t,i,n){this._overlayService=e,this.element=t,this._cdr=i,this._moduleRef=n,this.label="Date",this.labelVisibility=!0,this.weekStart=_s.SUNDAY,this.id="igx-date-picker-"+ll++,this.vertical=!1,this.mode=sl.Dialog,this.isSpinLoop=!0,this.onOpened=new b.EventEmitter,this.onClosed=new b.EventEmitter,this.onClosing=new b.EventEmitter,this.onSelection=new b.EventEmitter,this.onDisabledDate=new b.EventEmitter,this.onValidationFailed=new b.EventEmitter,this.hasHeader=!0,this.collapsed=!0,this.displayValuePipe=new il(this),this.inputValuePipe=new nl(this),this.dateFormatParts=[],this.isEmpty=!0,this.invalidDate="",this.spinDelta=1,this.defaultLocale="en",this.calendarHeight=400,this._formatOptions={day:"numeric",month:"short",weekday:"short",year:"numeric"},this._formatViews={day:!1,month:!0,year:!1},this._destroy$=new x.Subject,this._disabledDates=null,this._specialDates=null,this._onOpen=new b.EventEmitter,this._onClose=new b.EventEmitter,this._onTouchedCallback=function(){},this._onChangeCallback=function(){}}return Object.defineProperty(e.prototype,"formatOptions",{get:function(){return this._formatOptions},set:function(e){this._formatOptions=Object.assign(this._formatOptions,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"format",{get:function(){return this._format===undefined?cl.ShortDate:this._format},set:function(e){this._format=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatViews",{get:function(){return this._formatViews},set:function(e){this._formatViews=Object.assign(this._formatViews,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabledDates",{get:function(){return this._disabledDates},set:function(e){this._disabledDates=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"specialDates",{get:function(){return this._specialDates},set:function(e){this._specialDates=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"modalOverlaySettings",{get:function(){return this._modalOverlay},set:function(e){this._modalOverlay=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropDownOverlaySettings",{get:function(){return this._dropDownOverlay},set:function(e){this._dropDownOverlay=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayData",{get:function(){return this.value?this._customFormatChecker(this.formatter,this.value):""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transformedDate",{get:function(){return this._value?(this._transformedDate=this._isInEditMode?this._getEditorDate(this._value):this._getDisplayDate(this._value),this.isEmpty=!1):this._transformedDate=this._isInEditMode?el.maskToPromptChars(this.inputMask):"",this._transformedDate},set:function(e){this._transformedDate=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"template",{get:function(){return this.datePickerTemplateDirective?this.datePickerTemplateDirective.template:this.mode===sl.Dialog?this.readOnlyDatePickerTemplate:this.editableDatePickerTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){var e=this;return{disabled:this.disabled,disabledDates:this.disabledDates,displayData:this.displayData,format:this.format,isSpinLoop:this.isSpinLoop,label:this.label,labelVisibility:this.labelVisibility,locale:this.locale,mask:this.mask,mode:this.mode,specialDates:this.specialDates,value:this.value,openDialog:function(){e.openDialog()}}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e,this._onChangeCallback(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onOpen",{get:function(){return this._onOpen},set:function(e){this._onOpen=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onClose",{get:function(){return this._onClose},set:function(e){this._onClose=e},enumerable:!0,configurable:!0}),e.prototype.onSpaceClick=function(e){this.openDialog(),e.preventDefault()},e.prototype.writeValue=function(e){this.value=e,this._cdr.markForCheck()},e.prototype.registerOnChange=function(e){this._onChangeCallback=e},e.prototype.registerOnTouched=function(e){this._onTouchedCallback=e},e.prototype.getEditElement=function(){var e;return(e=this.mode===sl.DropDown?this.editableInput?this.editableInput:this.input:this.readonlyInput?this.readonlyInput:this.input)?e.nativeElement:null},e.prototype.ngOnInit=function(){var t=this;this._positionSettings={openAnimation:d,closeAnimation:h},this._dropDownOverlaySettings={closeOnOutsideClick:!0,modal:!1,scrollStrategy:new kn,positionStrategy:new Tn(this._positionSettings),outlet:this.outlet},this._modalOverlaySettings={closeOnOutsideClick:!0,modal:!0,outlet:this.outlet},this._overlayService.onOpening.pipe(p.filter(function(e){return e.id===t._componentID}),p.takeUntil(this._destroy$)).subscribe(function(e){t._onOpening(e)}),this._overlayService.onOpened.pipe(p.filter(function(e){return e.id===t._componentID}),p.takeUntil(this._destroy$)).subscribe(function(e){t._onOpened(e)}),this._overlayService.onClosed.pipe(p.filter(function(e){return e.id===t._componentID}),p.takeUntil(this._destroy$)).subscribe(function(){t._onClosed()}),this._overlayService.onClosing.pipe(p.filter(function(e){return e.id===t._componentID}),p.takeUntil(this._destroy$)).subscribe(function(e){t.onClosing.emit(e)}),this.mode===sl.DropDown&&(this.dateFormatParts=el.parseDateFormat(this.mask,this.locale),this.mask===undefined&&(this.mask=el.getMask(this.dateFormatParts)),this.inputMask=el.getInputMask(this.dateFormatParts))},e.prototype.ngAfterViewInit=function(){var t=this;this.mode===sl.DropDown&&this.editableInput&&x.fromEvent(this.editableInput.nativeElement,"keydown").pipe(p.throttle(function(){return x.interval(0,x.animationFrameScheduler)}),p.takeUntil(this._destroy$)).subscribe(function(e){return t.onKeyDown(e)})},e.prototype.ngOnDestroy=function(){this._componentID&&this._overlayService.hide(this._componentID),this._destroy$.next(!0),this._destroy$.complete()},e.prototype.triggerTodaySelection=function(){var e=new Date(Date.now());this.handleSelection(e)},e.prototype.selectDate=function(e){this.value=e,this.onSelection.emit(e),this._onChangeCallback(e)},e.prototype.deselectDate=function(){this.value=null,this.calendar&&this.calendar.deselectDate(),this._onChangeCallback(null)},e.prototype.openDialog=function(){if(this.collapsed)switch(this.mode){case sl.Dialog:this.hasHeader=!0;var e=this.modalOverlaySettings!==undefined?this._modalOverlay:this._modalOverlaySettings;this._componentID=this._overlayService.attach(al,e,this._moduleRef),this._overlayService.show(this._componentID,e);break;case sl.DropDown:this.hasHeader=!1;var t=void 0;if(this.dropDownOverlaySettings!==undefined)t=this._dropDownOverlay;else{t=this._dropDownOverlaySettings;var i=void 0;if(this.editableInputGroup)i=this.editableInputGroup.nativeElement;else{if(!this.templateDropDownTarget)throw new Error("There is no target element for the dropdown to attach. Mark an element with #dropDownTarget.");i=this.templateDropDownTarget.nativeElement}t.positionStrategy.settings.target=i}this._componentID=this._overlayService.attach(al,t,this._moduleRef),this._overlayService.show(this._componentID,t)}},e.prototype.closeCalendar=function(){this._overlayService.hide(this._componentID)},e.prototype.clear=function(){this.isEmpty=!0,this.invalidDate="",this.deselectDate(),this._setCursorPosition(0)},e.prototype.handleSelection=function(e){this.value&&(e.setHours(this.value.getHours()),e.setMinutes(this.value.getMinutes()),e.setSeconds(this.value.getSeconds()),e.setMilliseconds(this.value.getMilliseconds())),this.value=e,this.calendar.viewDate=e,this._onChangeCallback(e),this.closeCalendar(),this.onSelection.emit(e)},e.prototype.onBlur=function(e){this._isInEditMode=!1,this.calculateDate(e.target.value,e.type)},e.prototype.onFocus=function(){this._isInEditMode=!0,this.value&&""===this.invalidDate&&(this._transformedDate=this._getEditorDate(this.value))},e.prototype.onKeyDown=function(e){switch(e.key){case"ArrowUp":case"Up":e.preventDefault(),e.stopPropagation(),this.spinValue(e.target.value,1,e.type);break;case"ArrowDown":case"Down":e.altKey?this.openDialog():(e.preventDefault(),e.stopPropagation(),this.spinValue(e.target.value,-1,e.type))}},e.prototype.onWheel=function(e){if(this._isInEditMode){e.preventDefault(),e.stopPropagation();var t=0<e.deltaY?-1:1;this.spinValue(e.target.value,t,e.type)}},e.prototype.onInput=function(e){var t=this,i=e.target.value,n=this._getCursorPosition(),r=el.checkForCompleteDateInput(this.dateFormatParts,i);this._isInEditMode=!0,i!==el.maskToPromptChars(this.inputMask)&&(this.isEmpty=!1),"complete"===r&&"deleteContentBackward"!==e.inputType?(this._transformedDate=i,this.calculateDate(i,e.type),this._setCursorPosition(n)):"partial"===r?(this.deselectDate(),requestAnimationFrame(function(){t.getEditElement().value=i,t._setCursorPosition(n)})):"empty"===r&&(this.isEmpty=!0,this.deselectDate())},e.prototype.calculateDate=function(e,t){if(""!==e){var i=this.value,n="blur"===t?this.rawDateString:e,r=el.parseDateArray(this.dateFormatParts,i,n);if("valid"===r.state){var o=r.date;if(i&&(o.setHours(i.getHours()),o.setMinutes(i.getMinutes()),o.setSeconds(i.getSeconds()),o.setMilliseconds(i.getMilliseconds())),null===this.disabledDates||null!==this.disabledDates&&!ws(o,this.disabledDates))this.value=o,this.invalidDate="",this._onChangeCallback(o);else{var s={datePicker:this,currentValue:o};this.onDisabledDate.emit(s)}}else{s={datePicker:this,prevValue:i};this.invalidDate=e,this.onValidationFailed.emit(s)}}},e.prototype.spinValue=function(e,t,i){this._isInEditMode=!0,this.isEmpty=!1;var n=this._getCursorPosition(),r=el.getModifiedDateInput(this.dateFormatParts,e,n,this.spinDelta*t,this.isSpinLoop);this.getEditElement().value=r,this._setCursorPosition(n),"complete"===el.checkForCompleteDateInput(this.dateFormatParts,r)&&(this._isInEditMode=!0,this.calculateDate(r,i),this._setCursorPosition(n))},e.prototype._onOpening=function(e){this._initializeCalendarContainer(e.componentRef.instance),this.collapsed=!1},e.prototype._onOpened=function(e){this._onTouchedCallback(),this.onOpened.emit(this),this._onOpen.emit(this),this.calendar&&this._focusCalendarDate()},e.prototype._onClosed=function(){this.collapsed=!0,this._componentID=null,this.onClosed.emit(this),this.onClose.emit(this),this.getEditElement()&&this.getEditElement().focus()},e.prototype._initializeCalendarContainer=function(e){var t=this;this.calendar=e.calendar;var i=this.vertical&&this.mode===sl.Dialog;this.calendar.hasHeader=this.hasHeader,this.calendar.formatOptions=this.formatOptions,this.calendar.formatViews=this.formatViews,this.calendar.locale=this.locale,this.calendar.vertical=i,this.calendar.weekStart=this.weekStart,this.calendar.specialDates=this.specialDates,this.calendar.disabledDates=this.disabledDates,this.calendar.headerTemplate=this.headerTemplate,this.calendar.subheaderTemplate=this.subheaderTemplate,this.calendar.onSelection.pipe(p.takeUntil(this._destroy$)).subscribe(function(e){return t.handleSelection(e)}),this.value&&(this.calendar.value=this.value,this.calendar.viewDate=this.value),e.mode=this.mode,e.vertical=i,e.cancelButtonLabel=this.cancelButtonLabel,e.todayButtonLabel=this.todayButtonLabel,e.datePickerActions=this.datePickerActionsDirective,e.onClose.pipe(p.takeUntil(this._destroy$)).subscribe(function(){return t.closeCalendar()}),e.onTodaySelection.pipe(p.takeUntil(this._destroy$)).subscribe(function(){return t.triggerTodaySelection()})},e.prototype._focusCalendarDate=function(){var e=this;requestAnimationFrame(function(){e.calendar.daysView.focusActiveDate()})},e.prototype._setLocaleToDate=function(e){return ai()?new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()).toLocaleDateString(this.locale):e.toLocaleDateString(this.locale)},e.prototype._getCursorPosition=function(){return this.getEditElement().selectionStart},e.prototype._setCursorPosition=function(e,t){var i=this;void 0===t&&(t=e),requestAnimationFrame(function(){i.getEditElement().setSelectionRange(e,t)})},e.prototype._customFormatChecker=function(e,t){return this.formatter?this.formatter(t):this._setLocaleToDate(t)},e.prototype._getDisplayDate=function(e){if(!this.format||this.formatter)return this._customFormatChecker(this.formatter,e);var t=this.locale||this.defaultLocale;return r.formatDate(e,this.format,t)},e.prototype._getEditorDate=function(e){var t=this.locale||this.defaultLocale,i=e?r.formatDate(e,this.mask,t):"";return el.addPromptCharsEditMode(this.dateFormatParts,this.value,i)},e.decorators=[{type:b.Component,args:[{providers:[{provide:o.NG_VALUE_ACCESSOR,useExisting:e,multi:!0}],selector:"igx-date-picker",template:'<ng-template #readOnlyDatePickerTemplate>\n    <igx-input-group (click)="openDialog()">\n        <igx-prefix>\n            <igx-icon>today</igx-icon>\n        </igx-prefix>\n        <label *ngIf="labelVisibility" igxLabel>{{label}}</label>\n        <input #readonlyInput class="igx-date-picker__input-date" igxInput [value]="displayData || \'\'"\n            [disabled]="disabled" readonly />\n    </igx-input-group>\n</ng-template>\n\n<ng-template #editableDatePickerTemplate>\n    <igx-input-group #editableInputGroup [supressInputAutofocus]="true">\n        <igx-prefix (click)="openDialog()">\n            <igx-icon>today</igx-icon>\n        </igx-prefix>\n        <label *ngIf="labelVisibility" igxLabel>{{label}}</label>\n        <input #editableInput class="igx-date-picker__input-date" igxInput type="text" [value]="transformedDate"\n            [igxMask]="inputMask" [placeholder]="mask" [disabled]="disabled" [displayValuePipe]="displayValuePipe"\n            [focusedValuePipe]="inputValuePipe" (blur)="onBlur($event)" (wheel)="onWheel($event)"\n            (input)="onInput($event)" (focus)="onFocus()" />\n        <igx-suffix *ngIf="!isEmpty" (click)="clear()">\n            <igx-icon>clear</igx-icon>\n        </igx-suffix>\n    </igx-input-group>\n</ng-template>\n\n<ng-container *ngTemplateOutlet="template; context: context"></ng-container>',styles:["\n        :host {\n            display: block;\n        }\n    "]}]}],e.ctorParameters=function(){return[{type:En,decorators:[{type:b.Inject,args:[En]}]},{type:b.ElementRef},{type:b.ChangeDetectorRef},{type:b.NgModuleRef}]},e.propDecorators={label:[{type:b.Input}],labelVisibility:[{type:b.Input}],locale:[{type:b.Input}],weekStart:[{type:b.Input}],formatOptions:[{type:b.Input}],format:[{type:b.Input}],mask:[{type:b.Input}],formatViews:[{type:b.Input}],disabledDates:[{type:b.Input}],specialDates:[{type:b.Input}],modalOverlaySettings:[{type:b.Input}],dropDownOverlaySettings:[{type:b.Input}],value:[{type:b.Input}],id:[{type:b.HostBinding,args:["attr.id"]},{type:b.Input}],formatter:[{type:b.Input}],disabled:[{type:b.Input}],vertical:[{type:b.Input}],todayButtonLabel:[{type:b.Input}],cancelButtonLabel:[{type:b.Input}],mode:[{type:b.Input}],isSpinLoop:[{type:b.Input}],outlet:[{type:b.Input}],onOpen:[{type:b.Output}],onOpened:[{type:b.Output}],onClose:[{type:b.Output}],onClosed:[{type:b.Output}],onClosing:[{type:b.Output}],onSelection:[{type:b.Output}],onDisabledDate:[{type:b.Output}],onValidationFailed:[{type:b.Output}],readOnlyDatePickerTemplate:[{type:b.ViewChild,args:["readOnlyDatePickerTemplate",{read:b.TemplateRef}]}],editableDatePickerTemplate:[{type:b.ViewChild,args:["editableDatePickerTemplate",{read:b.TemplateRef}]}],editableInputGroup:[{type:b.ViewChild,args:["editableInputGroup",{read:b.ElementRef}]}],templateDropDownTarget:[{type:b.ContentChild,args:["dropDownTarget",{read:b.ElementRef}]}],editableInput:[{type:b.ViewChild,args:["editableInput",{read:b.ElementRef}]}],readonlyInput:[{type:b.ViewChild,args:["readonlyInput",{read:b.ElementRef}]}],input:[{type:b.ContentChild,args:[_r]}],datePickerTemplateDirective:[{type:b.ContentChild,args:[rl,{read:rl}]}],headerTemplate:[{type:b.ContentChild,args:[Es,{read:Es}]}],subheaderTemplate:[{type:b.ContentChild,args:[Os,{read:Os}]}],datePickerActionsDirective:[{type:b.ContentChild,args:[ol,{read:ol}]}],onSpaceClick:[{type:b.HostListener,args:["keydown.spacebar",["$event"]]},{type:b.HostListener,args:["keydown.space",["$event"]]}]},y([Sn("'onOpen' @Output property is deprecated. Use 'onOpened' instead."),C("design:type",b.EventEmitter),C("design:paramtypes",[b.EventEmitter])],e.prototype,"onOpen",null),y([Sn("'onClose' @Output property is deprecated. Use 'onClosed' instead."),C("design:type",b.EventEmitter),C("design:paramtypes",[b.EventEmitter])],e.prototype,"onClose",null),e}(),ul=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[pl,al,ol,rl,il,nl],exports:[pl,rl,ol,il,nl],imports:[r.CommonModule,Go,Lr,Zs,Vr,yo,po],entryComponents:[al]}]}],e}(),dl=function(){function e(){this.defaultStyle=!0}return e.decorators=[{type:b.Directive,args:[{selector:"igx-dialog-title,[igxDialogTitle]"}]}],e.propDecorators={defaultStyle:[{type:b.HostBinding,args:["class.igx-dialog__window-title"]}]},e}(),hl=function(){function e(){this.defaultClass=!0}return e.decorators=[{type:b.Directive,args:[{selector:"igx-dialog-actions,[igxDialogActions]"}]}],e.propDecorators={defaultClass:[{type:b.HostBinding,args:["class.igx-dialog__window-actions"]}]},e}(),gl=0,fl=function(){function i(e,t){this.elementRef=e,this.navService=t,this.id="igx-dialog-"+gl++,this.title="",this.message="",this.leftButtonLabel="",this.leftButtonType="flat",this.leftButtonColor="",this.leftButtonBackgroundColor="",this.leftButtonRipple="",this.rightButtonLabel="",this.rightButtonType="flat",this.rightButtonColor="",this.rightButtonBackgroundColor="",this.rightButtonRipple="",this.onOpen=new b.EventEmitter,this.onClose=new b.EventEmitter,this.onLeftButtonSelect=new b.EventEmitter,this.onRightButtonSelect=new b.EventEmitter,this._animaitonSettings={openAnimation:u.useAnimation(ft,{params:{fromPosition:"translateY(100%)"}}),closeAnimation:u.useAnimation(bt,{params:{toPosition:"translateY(-100%)"}})},this._closeOnOutsideSelect=!1,this._isModal=!0,this.destroy$=new x.Subject,this.tabindex=-1,this._titleId=i.NEXT_ID+++"_title",this._overlayDefaultSettings={positionStrategy:new bn(this._animaitonSettings),scrollStrategy:new wn,modal:this.isModal,closeOnOutsideClick:this.closeOnOutsideSelect}}return Object.defineProperty(i.prototype,"isModal",{get:function(){return this._isModal},set:function(e){this._overlayDefaultSettings.modal=e,this._isModal=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"closeOnOutsideSelect",{get:function(){return this._closeOnOutsideSelect},set:function(e){this._overlayDefaultSettings.closeOnOutsideClick=e,this._closeOnOutsideSelect=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"element",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"state",{get:function(){return this.isOpen?"open":"close"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isOpen",{get:function(){return!this.toggleRef.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isCollapsed",{get:function(){return this.toggleRef.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"role",{get:function(){return""!==this.leftButtonLabel&&""!==this.rightButtonLabel?"dialog":""!==this.leftButtonLabel||""!==this.rightButtonLabel?"alertdialog":"alert"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"titleId",{get:function(){return this._titleId},enumerable:!0,configurable:!0}),i.prototype.ngAfterContentInit=function(){var e=this;this.toggleRef.onClosing.pipe(p.takeUntil(this.destroy$)).subscribe(function(){return e.emitCloseFromDialog()})},i.prototype.emitCloseFromDialog=function(){this.onClose.emit({dialog:this,event:null})},i.prototype.open=function(e){void 0===e&&(e=this._overlayDefaultSettings),this.toggleRef.open(e),this.onOpen.emit({dialog:this,event:null}),this.leftButtonLabel||this.rightButtonLabel||this.toggleRef.element.focus()},i.prototype.close=function(){this.toggleRef.close()},i.prototype.toggle=function(){this.isOpen?this.close():this.open()},i.prototype.onDialogSelected=function(e){e.stopPropagation(),this.isOpen&&this.closeOnOutsideSelect&&e.target.classList.contains(i.DIALOG_CLASS)&&this.close()},i.prototype.onInternalLeftButtonSelect=function(e){this.onLeftButtonSelect.emit({dialog:this,event:e})},i.prototype.onInternalRightButtonSelect=function(e){this.onRightButtonSelect.emit({dialog:this,event:e})},i.prototype.ngOnInit=function(){this.navService&&this.id&&this.navService.add(this.id,this)},i.prototype.ngOnDestroy=function(){this.navService&&this.id&&this.navService.remove(this.id)},i.NEXT_ID=1,i.DIALOG_CLASS="igx-dialog",i.decorators=[{type:b.Component,args:[{selector:"igx-dialog",template:'<div tabindex="0" #dialog class="igx-dialog" igxToggle (click)="onDialogSelected($event)">\n    <div #dialogWindow class="igx-dialog__window"  [attr.role]="role" [attr.aria-labelledby]="titleId">\n\n        <div *ngIf="title" [attr.id]="titleId" class="igx-dialog__window-title">\n            {{ title }}\n        </div>\n        <ng-content *ngIf="!title" select="igx-dialog-title,[igxDialogTitle]"></ng-content>\n\n        <div class="igx-dialog__window-content" *ngIf="message">{{ message }}</div>\n        <ng-content *ngIf="!message"></ng-content>\n\n        <div *ngIf="leftButtonLabel || rightButtonLabel" class="igx-dialog__window-actions">\n            <button *ngIf="leftButtonLabel" type="button" [igxFocus]="isOpen" igxButton="{{ leftButtonType }}" igxButtonColor="{{ leftButtonColor }}" igxButtonBackground="{{ leftButtonBackgroundColor }}"\n                igxRipple="{{ leftButtonRipple }}" (click)="onInternalLeftButtonSelect($event)">\n                {{ leftButtonLabel }}\n            </button>\n            <button *ngIf="rightButtonLabel" type="button" [igxFocus]="isOpen" igxButton="{{ rightButtonType }}" igxButtonColor="{{ rightButtonColor }}" igxButtonBackground="{{ rightButtonBackgroundColor }}"\n                igxRipple="{{ rightButtonRipple }}" (click)="onInternalRightButtonSelect($event)">\n                {{ rightButtonLabel }}\n            </button>\n        </div>\n        <ng-content *ngIf="!leftButtonLabel && !rightButtonLabel" select="igx-dialog-actions,[igxDialogActions]"></ng-content>\n\n    </div>\n</div>\n'}]}],i.ctorParameters=function(){return[{type:b.ElementRef},{type:Zt,decorators:[{type:b.Optional}]}]},i.propDecorators={toggleRef:[{type:b.ViewChild,args:[Hn]}],id:[{type:b.HostBinding,args:["attr.id"]},{type:b.Input}],isModal:[{type:b.Input}],title:[{type:b.Input}],message:[{type:b.Input}],leftButtonLabel:[{type:b.Input}],leftButtonType:[{type:b.Input}],leftButtonColor:[{type:b.Input}],leftButtonBackgroundColor:[{type:b.Input}],leftButtonRipple:[{type:b.Input}],rightButtonLabel:[{type:b.Input}],rightButtonType:[{type:b.Input}],rightButtonColor:[{type:b.Input}],rightButtonBackgroundColor:[{type:b.Input}],rightButtonRipple:[{type:b.Input}],closeOnOutsideSelect:[{type:b.Input}],onOpen:[{type:b.Output}],onClose:[{type:b.Output}],onLeftButtonSelect:[{type:b.Output}],onRightButtonSelect:[{type:b.Output}],tabindex:[{type:b.HostBinding,args:["attr.tabindex"]}],isOpen:[{type:b.Input}],isCollapsed:[{type:b.HostBinding,args:["class.igx-dialog--hidden"]}],role:[{type:b.Input}],titleId:[{type:b.Input}]},i}(),ml=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[fl,dl,hl],exports:[fl,dl,hl],imports:[r.CommonModule,Nn,Vr,yo,Zr]}]}],e}(),yl=function(){function e(e,t,i){this.id=e,this.index=t,this.data=i}return e.prototype.createEditEventArgs=function(){return{rowID:this.id,oldValue:m({},this.data),newValue:this.newData,cancel:!1}},e}(),vl=function(){function e(e,t,i,n,r,o){this.id=e,this.rowIndex=t,this.column=i,this.value=n,this.editValue=r,this.rowData=o}return e.prototype.castToNumber=function(e){if("number"!==this.column.dataType||this.column.inlineEditorTemplate)return e;var t=parseFloat(e);return!isNaN(t)&&isFinite(t)?t:0},e.prototype.createEditEventArgs=function(){return{rowID:this.id.rowID,cellID:this.id,oldValue:this.value,newValue:this.editValue,cancel:!1}},e}(),xl=function(){function e(){this.cell=null,this.row=null}return e.prototype.createCell=function(e){return new vl(e.cellID,e.rowIndex,e.column,e.value,e.value,e.row.rowData)},e.prototype.createRow=function(e){return new yl(e.id.rowID,e.rowIndex,e.rowData)},e.prototype.sameRow=function(e){return this.row&&this.row.id===e},e.prototype.sameCell=function(e){return this.cell.id.rowID===e.id.rowID&&this.cell.id.columnID===e.id.columnID},Object.defineProperty(e.prototype,"inEditMode",{get:function(){return!!this.cell},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowEditing",{get:function(){return this.grid.rowEditable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"primaryKey",{get:function(){return this.grid.primaryKey},enumerable:!0,configurable:!0}),e.prototype.beginRowEdit=function(){!this.grid.rowEditable||this.grid.primaryKey!==undefined&&null!==this.grid.primaryKey||console.warn("The grid must have a `primaryKey` specified when using `rowEditable`!"),this.row=this.createRow(this.cell);var e={rowID:this.row.id,oldValue:this.row.data,cancel:!1};this.grid.onRowEditEnter.emit(e),e.cancel?this.endRowEdit():(this.row.transactionState=this.grid.transactions.getAggregatedValue(this.row.id,!0),this.grid.transactions.startPending(),this.grid.openRowOverlay(this.row.id))},e.prototype.endRowEdit=function(){this.row=null},e.prototype.begin=function(e){this.cell=this.createCell(e),this.cell.primaryKey=this.primaryKey;var t={cellID:this.cell.id,rowID:this.cell.id.rowID,oldValue:this.cell.value,cancel:!1};if(this.grid.onCellEditEnter.emit(t),t.cancel)this.end();else if(this.rowEditing){if(!this.row)return void this.beginRowEdit();if(this.row&&!this.sameRow(this.cell.id.rowID))return this.grid.endEdit(!0),this.cell=this.createCell(e),void this.beginRowEdit()}else this.endRowEdit()},e.prototype.end=function(){this.cell=null},e.prototype.isInEditMode=function(e,t){return!!this.cell&&(this.cell.column.index===t&&this.cell.rowIndex===e)},e.decorators=[{type:b.Injectable}],e}(),bl=function(){function e(e){this.zone=e,this.dragMode=!1,this.keyboardState={},this.pointerState={},this.selection=new Map,this.temp=new Map,this._ranges=new Set,this.initPointerState(),this.initKeyboardState()}return Object.defineProperty(e.prototype,"ranges",{get:function(){this.addKeyboardRange();var e=Array.from(this._ranges).map(function(e){return JSON.parse(e)});return!e.length&&this.activeElement&&e.push(this.generateRange(this.activeElement)),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"primaryButton",{get:function(){return this.pointerState.primaryButton},set:function(e){this.pointerState.primaryButton=e},enumerable:!0,configurable:!0}),e.prototype.initKeyboardState=function(){this.keyboardState.node=null,this.keyboardState.shift=!1,this.keyboardState.range=null,this.keyboardState.active=!1},e.prototype.initPointerState=function(){this.pointerState.node=null,this.pointerState.ctrl=!1,this.pointerState.shift=!1,this.pointerState.range=null,this.pointerState.primaryButton=!0},e.prototype.add=function(e){this.selection.has(e.row)?this.selection.get(e.row).add(e.column):this.selection.set(e.row,new Set).get(e.row).add(e.column),this._ranges.add(JSON.stringify(this.generateRange(e)))},e.prototype.addKeyboardRange=function(){this.keyboardState.range&&this._ranges.add(JSON.stringify(this.keyboardState.range))},e.prototype.remove=function(e){this.selection.has(e.row)&&this.selection.get(e.row)["delete"](e.column),this.isActiveNode(e)&&(this.activeElement=null),this._ranges["delete"](JSON.stringify(this.generateRange(e)))},e.prototype.isInMap=function(e){return this.selection.has(e.row)&&this.selection.get(e.row).has(e.column)||this.temp.has(e.row)&&this.temp.get(e.row).has(e.column)},e.prototype.selected=function(e){return this.isActiveNode(e)||this.isInMap(e)},e.prototype.isActiveNode=function(e,t){if(void 0===t&&(t=!1),this.activeElement){var i=this.activeElement.column===e.column&&this.activeElement.row===e.row;if(t){var n=this.activeElement.layout;return i&&this.isActiveLayout(n,e.layout)}return i}return!1},e.prototype.isActiveLayout=function(e,t){return e.columnVisibleIndex===t.columnVisibleIndex},e.prototype.addRangeMeta=function(e,t){this._ranges.add(JSON.stringify(this.generateRange(e,t)))},e.prototype.removeRangeMeta=function(e,t){this._ranges["delete"](JSON.stringify(this.generateRange(e,t)))},e.prototype.generateRange=function(e,t){if(!t)return{rowStart:e.row,rowEnd:e.row,columnStart:e.column,columnEnd:e.column};var i=t.node,n=i.row,r=i.column;return{rowStart:Math.min(e.row,n),rowEnd:Math.max(e.row,n),columnStart:Math.min(e.column,r),columnEnd:Math.max(e.column,r)}},e.prototype.keyboardStateOnKeydown=function(e,t,i){this.keyboardState.active=!0,this.initPointerState(),this.keyboardState.shift=t&&!i,this.keyboardState.shift&&!this.keyboardState.node&&(this.clear(),this.keyboardState.node=e)},e.prototype.keyboardStateOnFocus=function(e,t){var i=this.keyboardState;if(i.active){if(i.shift)return this.dragSelect(e,i),i.range=this.generateRange(e,i),void t.emit(this.generateRange(e,i));this.initKeyboardState(),this.clear(),this.add(e)}},e.prototype.pointerDown=function(e,t,i){if(this.addKeyboardRange(),this.initKeyboardState(),this.pointerState.ctrl=i,this.pointerState.shift=t,i||this.clear(),t)return this.pointerState.node||(this.pointerState.node=this.activeElement||e),this.pointerDownShiftKey(e),void this.clearTextSelection();this.removeRangeMeta(e),this.pointerState.node=e},e.prototype.pointerDownShiftKey=function(e){this.clear(),this.selectRange(e,this.pointerState)},e.prototype.mergeMap=function(i,e){for(var n,r,o=e.entries(),s=o.next(),t=function(){var e;if(e=w(s.value,2),n=e[0],r=e[1],i.has(n)){var t=i.get(n);r.forEach(function(e){return t.add(e)}),i.set(n,t)}else i.set(n,r);s=o.next()};!s.done;)t()},e.prototype.pointerEnter=function(e,t){return this.dragMode=1===t.buttons&&-1===t.button,!!this.dragMode&&(this.clearTextSelection(),this.pointerState.node||(this.pointerState.node=e),this.pointerState.ctrl?this.selectRange(e,this.pointerState,this.temp):this.dragSelect(e,this.pointerState),!0)},e.prototype.pointerUp=function(e,t){var i=this;return this.dragMode?(this.restoreTextSelection(),this.addRangeMeta(e,this.pointerState),this.mergeMap(this.selection,this.temp),this.zone.runTask(function(){return t.emit(i.generateRange(e,i.pointerState))}),this.temp.clear(),!(this.dragMode=!1)):this.pointerState.shift?(this.clearTextSelection(),this.restoreTextSelection(),this.addRangeMeta(e,this.pointerState),t.emit(this.generateRange(e,this.pointerState)),!0):(this.add(e),!1)},e.prototype.selectRange=function(e,t,i){void 0===i&&(i=this.selection),i===this.temp&&i.clear();for(var n=this.generateRange(e,t),r=n.rowStart,o=n.rowEnd,s=n.columnStart,a=n.columnEnd,l=r;l<=o;l++)for(var c=s;c<=a;c++)i.has(l)?i.get(l).add(c):i.set(l,new Set).get(l).add(c)},e.prototype.dragSelect=function(e,t){this.pointerState.ctrl||this.selection.clear(),this.selectRange(e,t)},e.prototype.clear=function(){this.selection.clear(),this.temp.clear(),this._ranges.clear()},e.prototype.clearTextSelection=function(){var e=window.getSelection();e.rangeCount&&(this._selectionRange=e.getRangeAt(0),this._selectionRange.collapse(!0),e.removeAllRanges())},e.prototype.restoreTextSelection=function(){var e=window.getSelection();e.rangeCount||e.addRange(this._selectionRange||document.createRange())},e.prototype._moveSelectionChrome=function(e){var t=window.getSelection();t.removeAllRanges();var i=new Range;i.selectNode(e),i.collapse(!0),t.addRange(i)},e.decorators=[{type:b.Injectable}],e.ctorParameters=function(){return[{type:b.NgZone}]},e}(),Cl=function(){function e(e,t,i,n,r,o,s){var a=this;this.selectionService=e,this.crudService=t,this.gridAPI=i,this.selection=n,this.cdr=r,this.element=o,this.zone=s,this._vIndex=-1,this.highlightClass="igx-highlight",this.activeHighlightClass="igx-highlight__active",this.lastPinned=!1,this.editMode=!1,this.tabindex=0,this.role="gridcell",this.width="",this.focused=!1,this.isInCompositionMode=!1,this.pointerdown=function(e){if(!ci(e))return a.selectionService.addKeyboardRange(),a.selectionService.initKeyboardState(),void(a.selectionService.primaryButton=!1);a.selectionService.pointerDown(a.selectionNode,e.shiftKey,e.ctrlKey)},this.pointerenter=function(e){a.selectionService.pointerEnter(a.selectionNode,e)&&a.grid.cdr.detectChanges()},this.pointerup=function(e){a.grid.hasColumnLayouts&&a.grid.navigation.setStartNavigationCell(a.colStart,a.rowStart,null),ci(e)&&(a.selectionService.pointerUp(a.selectionNode,a.grid.onRangeSelection)&&a.grid.cdr.detectChanges(),a._updateCRUDStatus())}}return Object.defineProperty(e.prototype,"context",{get:function(){return{$implicit:this.value,cell:this}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"template",{get:function(){if(this.editMode){var e=this.column.inlineEditorTemplate;return e||this.inlineEditorTemplate}return this.cellTemplate?this.cellTemplate:this.defaultCellTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridID",{get:function(){return this.row.gridID},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){return this.gridAPI.grid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowIndex",{get:function(){return this.row.index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnIndex",{get:function(){return this.column.index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visibleColumnIndex",{get:function(){return this.column.columnLayoutChild?this.column.visibleIndex:this._vIndex},set:function(e){this._vIndex=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cellID",{get:function(){var e=this.grid.primaryKey;return{rowID:e?this.rowData[e]:this.rowData,columnID:this.columnIndex,rowIndex:this.rowIndex}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.element.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inEditMode",{get:function(){return this.editMode},set:function(e){this.setEditMode(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readonly",{get:function(){return!this.column.editable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridRowSpan",{get:function(){return this.column.gridRowSpan},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridColumnSpan",{get:function(){return this.column.gridColumnSpan},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowEnd",{get:function(){return this.column.rowEnd},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colEnd",{get:function(){return this.column.colEnd},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowStart",{get:function(){return this.column.rowStart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colStart",{get:function(){return this.column.colStart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"describedby",{get:function(){return this.row.gridID+"_"+this.column.field},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this.isCellSelected()},set:function(e){var t=this.selectionNode;e?this.selectionService.add(t):this.selectionService.remove(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dirty",{get:function(){if(!this.grid.rowEditable){var e=this.grid.transactions.getState(this.row.rowID);return e&&e.value&&e.value[this.column.field]}var t=this.grid.transactions.getAggregatedValue(this.row.rowID,!1);return!!t&&(t[this.column.field]!==undefined&&null!==t[this.column.field])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"editValue",{get:function(){if(this.crudService.inEditMode)return this.crudService.cell.editValue},set:function(e){this.crudService.inEditMode&&(this.crudService.cell.editValue=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"editable",{get:function(){return this.column.editable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"highlight",{get:function(){return this._highlight},set:function(e){this._highlight=e,this._highlight&&this.grid.lastSearchInfo.searchText&&(this._highlight.highlight(this.grid.lastSearchInfo.searchText,this.grid.lastSearchInfo.caseSensitive,this.grid.lastSearchInfo.exactMatch),this._highlight.activateIfNecessary())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectionNode",{get:function(){return{row:this.rowIndex,column:this.column.columnLayoutChild?this.column.parent.visibleIndex:this.visibleColumnIndex,layout:this.column.columnLayoutChild?{rowStart:this.column.rowStart,colStart:this.column.colStart,rowEnd:this.column.rowEnd,colEnd:this.column.colEnd,columnVisibleIndex:this.visibleColumnIndex}:null}},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var t=this;this.zone.runOutsideAngular(function(){t.nativeElement.addEventListener("pointerdown",t.pointerdown),t.nativeElement.addEventListener("pointerenter",t.pointerenter),t.nativeElement.addEventListener("pointerup",t.pointerup),ai()&&(t.compositionStartHandler=function(){return t.isInCompositionMode=!0},t.compositionEndHandler=function(){return t.isInCompositionMode=!1},t.nativeElement.addEventListener("compositionstart",t.compositionStartHandler),t.nativeElement.addEventListener("compositionend",t.compositionEndHandler),t.focusHandlerIE=function(e){return t.onFocus(e)},t.focusOut=function(){return t.onBlur()},t.nativeElement.addEventListener("focusin",t.focusHandlerIE),t.nativeElement.addEventListener("focusout",t.focusOut))})},e.prototype.ngOnDestroy=function(){var e=this;this.zone.runOutsideAngular(function(){e.nativeElement.removeEventListener("pointerdown",e.pointerdown),e.nativeElement.removeEventListener("pointerenter",e.pointerenter),e.nativeElement.removeEventListener("pointerup",e.pointerup),ai()&&(e.nativeElement.removeEventListener("compositionstart",e.compositionStartHandler),e.nativeElement.removeEventListener("compositionend",e.compositionEndHandler),e.nativeElement.removeEventListener("focusin",e.focusHandlerIE),e.nativeElement.removeEventListener("focusout",e.focusOut))})},e.prototype._updateCRUDStatus=function(){if(!this.editMode){var e=this.crudService,t=this.crudService.cell,i=!(!e.row&&!e.cell);if(this.editable&&i&&!this.row.deleted)return t&&this.gridAPI.update_cell(t,t.editValue),e.end(),this.grid.cdr.markForCheck(),void e.begin(this);t&&e.sameRow(this.cellID.rowID)?this.gridAPI.submit_value():i&&!e.sameRow(this.cellID.rowID)&&this.grid.endEdit(!0)}},e.prototype.isCellSelected=function(){return this.selectionService.selected(this.selectionNode)},e.prototype.ngOnChanges=function(e){e.value&&!e.value.firstChange&&this.highlight&&(this.highlight.lastSearchInfo.searchedText=this.grid.lastSearchInfo.searchText,this.highlight.lastSearchInfo.caseSensitive=this.grid.lastSearchInfo.caseSensitive,this.highlight.lastSearchInfo.exactMatch=this.grid.lastSearchInfo.exactMatch)},e.prototype.setEditMode=function(e){this.row.deleted||(this.editable&&e?(this.gridAPI.submit_value(),this.crudService.begin(this)):this.gridAPI.escape_editMode(),this.grid.cdr.markForCheck())},e.prototype.update=function(e){if(!this.row.deleted){var t=this.crudService.createCell(this),i=this.gridAPI.update_cell(t,e);if(this.crudService.cell&&this.crudService.sameCell(t)){if(i.cancel)return;this.gridAPI.escape_editMode()}this.cdr.markForCheck()}},e.prototype.onDoubleClick=function(e){!this.editable||this.editMode||this.row.deleted||this.crudService.begin(this),this.grid.onDoubleClick.emit({cell:this,event:e})},e.prototype.onClick=function(e){this.grid.onCellClick.emit({cell:this,event:e})},e.prototype.onContextMenu=function(e){this.grid.onContextMenu.emit({cell:this,event:e})},e.prototype.onFocus=function(e){if(!this.focused){var t=this.selectionNode,i=this.grid.hasColumnLayouts;this.focused=!0,this.row.focused=!0,this.selectionService.isActiveNode(t,i)||this.grid.onSelection.emit({cell:this,event:e}),this.selectionService.primaryButton?(this._updateCRUDStatus(),this.selectionService.activeElement=t):(this.selectionService.activeElement=null,this.crudService.inEditMode&&!this.editMode&&this.gridAPI.submit_value()),this.selectionService.primaryButton=!0,this.selectionService.keyboardStateOnFocus(t,this.grid.onRangeSelection)}},e.prototype.onBlur=function(){this.focused=!1,this.row.focused=!1},e.prototype.handleAlt=function(e,t){if("igx-tree-grid-row"===this.row.nativeElement.tagName.toLowerCase()&&this.isToggleKey(e)){var i=this.row.expanded&&hi.has(e),n=!this.row.expanded&&di.has(e);i?this.gridAPI.trigger_row_expansion_toggle(this.row.treeRow,!this.row.expanded,t,this.visibleColumnIndex):n&&this.gridAPI.trigger_row_expansion_toggle(this.row.treeRow,!this.row.expanded,t,this.visibleColumnIndex)}},e.prototype.handleTab=function(e){e?this.grid.navigation.performShiftTabKey(this.row.nativeElement,this.selectionNode):this.grid.navigation.performTab(this.row.nativeElement,this.selectionNode)},e.prototype.handleEnd=function(e){e?this.grid.navigation.goToLastCell():this.grid.navigation.onKeydownEnd(this.rowIndex,!1,this.rowStart)},e.prototype.handleHome=function(e){e?this.grid.navigation.goToFirstCell():this.grid.navigation.onKeydownHome(this.rowIndex,!1,this.rowStart)},e.prototype.dispatchEvent=function(e){var t=e.key.toLowerCase(),i=e.shiftKey,n=e.ctrlKey,r=this.selectionNode;if(gi.has(t)){e.stopPropagation();var o={targetType:"dataCell",target:this,event:e,cancel:!1};if(this.grid.onGridKeydown.emit(o),o.cancel)return this.selectionService.clear(),void(this.selectionService.keyboardState.active=!0);if(e.altKey)return e.preventDefault(),void this.handleAlt(t,e);if(this.selectionService.keyboardStateOnKeydown(r,i,i&&"tab"===t),"tab"===t&&e.preventDefault(),this.editMode&&ui.has(t)){if(this.column.inlineEditorTemplate)return;["date","boolean"].indexOf(this.column.dataType)}else{ui.has(t)&&e.preventDefault();var s={cell:this,groupRow:null,event:e,cancel:!1};if(this.grid._onFocusChange.emit(s),!s.cancel)switch(t){case"tab":this.handleTab(i);break;case"end":this.handleEnd(n);break;case"home":this.handleHome(n);break;case"arrowleft":case"left":if(n){this.grid.navigation.onKeydownHome(r.row,!1,this.rowStart);break}this.grid.navigation.onKeydownArrowLeft(this.nativeElement,this.selectionNode);break;case"arrowright":case"right":if(n){this.grid.navigation.onKeydownEnd(r.row,!1,this.rowStart);break}this.grid.navigation.onKeydownArrowRight(this.nativeElement,this.selectionNode);break;case"arrowup":case"up":if(n){this.grid.navigation.navigateTop(this.visibleColumnIndex);break}this.grid.navigation.navigateUp(this.row.nativeElement,this.selectionNode);break;case"arrowdown":case"down":if(n){this.grid.navigation.navigateBottom(this.visibleColumnIndex);break}this.grid.navigation.navigateDown(this.row.nativeElement,this.selectionNode);break;case"enter":case"f2":this.onKeydownEnterEditMode();break;case"escape":case"esc":this.onKeydownExitEditMode();break;case" ":case"spacebar":case"space":this.row.rowSelectable&&this.row.checkboxElement.toggle();break;default:return}}}},e.prototype.onKeydownEnterEditMode=function(){this.isInCompositionMode||this.column.editable&&!this.row.deleted&&(this.editMode?(this.grid.endEdit(!0),this.nativeElement.focus()):this.crudService.begin(this))},e.prototype.onKeydownExitEditMode=function(){if(!this.isInCompositionMode&&this.editMode){var e=this.crudService.cell,t={cellID:e.id,rowID:e.id.rowID,oldValue:e.value,newValue:e.editValue,cancel:!1};if(this.grid.onCellEditCancel.emit(t),t.cancel)return;this.grid.endEdit(!1),this.nativeElement.focus()}},e.prototype.highlightText=function(e,t,i){return this.highlight&&this.column.searchable?this.highlight.highlight(e,t,i):0},e.prototype.clearHighlight=function(){this.highlight&&this.column.searchable&&this.highlight.clearHighlight()},e.prototype.calculateSizeToFit=function(t){return Math.max.apply(Math,_(Array.from(this.nativeElement.children).map(function(e){return si(t,e)})))},e.prototype.isToggleKey=function(e){return hi.has(e)||di.has(e)},e.decorators=[{type:b.Component,args:[{changeDetection:b.ChangeDetectionStrategy.OnPush,selector:"igx-grid-cell",template:'<ng-template #defaultCell>\n    <div igxTextHighlight [cssClass]="highlightClass" [activeCssClass]="activeHighlightClass" [groupName]="gridID"\n        [value]="formatter ? formatter(value) : column.dataType === \'number\' ? (value | igxdecimal: grid.locale) : column.dataType === \'date\' ? (value | igxdate: grid.locale) : value"\n        [row]="rowData" [column]="this.column.field" [containerClass]="\'igx-grid__td-text\'"\n        class="igx-grid__td-text">{{ formatter ? formatter(value) : column.dataType === \'number\' ? (value | igxdecimal:\n        grid.locale) : column.dataType === \'date\' ? (value | igxdate: grid.locale) : value }}</div>\n</ng-template>\n<ng-template #inlineEditor let-cell="cell">\n    <ng-container *ngIf="column.dataType === \'string\'">\n        <igx-input-group displayDensity="compact">\n            <input igxInput [value]="editValue" (input)="editValue = $event.target.value" [igxFocus]="focused" />\n        </igx-input-group>\n    </ng-container>\n    <ng-container *ngIf="column.dataType === \'number\'">\n        <igx-input-group displayDensity="compact">\n            <input igxInput [value]="editValue" (input)="editValue = $event.target.value" [igxFocus]="focused" type="number">\n        </igx-input-group>\n    </ng-container>\n    <ng-container *ngIf="column.dataType === \'boolean\'">\n        <igx-checkbox (change)="editValue = $event.checked" [value]="editValue" [checked]="editValue"\n            [igxFocus]="focused" [disableRipple]="true"></igx-checkbox>\n    </ng-container>\n    <ng-container *ngIf="column.dataType === \'date\'">\n        <igx-date-picker [style.width.%]="100" [outlet]="grid.outletDirective" mode="dropdown" (onSelection)="editValue = $event"\n            [locale]="grid.locale" [value]="editValue" [igxFocus]="focused" [labelVisibility]="false">\n        </igx-date-picker>\n    </ng-container>\n</ng-template>\n<ng-container *ngTemplateOutlet="template; context: context">\n</ng-container>\n'}]}],e.ctorParameters=function(){return[{type:bl},{type:xl},{type:_i},{type:$n},{type:b.ChangeDetectorRef},{type:b.ElementRef},{type:b.NgZone}]},e.propDecorators={column:[{type:b.Input}],row:[{type:b.Input}],rowData:[{type:b.Input}],cellTemplate:[{type:b.Input}],value:[{type:b.Input}],formatter:[{type:b.Input}],rowIndex:[{type:b.HostBinding,args:["attr.data-rowIndex"]}],visibleColumnIndex:[{type:b.HostBinding,args:["attr.data-visibleIndex"]},{type:b.Input}],lastPinned:[{type:b.Input},{type:b.HostBinding,args:["class.igx-grid__td--pinned-last"]}],editMode:[{type:b.Input},{type:b.HostBinding,args:["class.igx-grid__td--editing"]}],tabindex:[{type:b.HostBinding,args:["attr.tabindex"]}],role:[{type:b.HostBinding,args:["attr.role"]}],readonly:[{type:b.HostBinding,args:["attr.aria-readonly"]}],gridRowSpan:[{type:b.HostBinding,args:["style.-ms-grid-row-span"]}],gridColumnSpan:[{type:b.HostBinding,args:["style.-ms-grid-column-span"]}],rowEnd:[{type:b.HostBinding,args:["style.grid-row-end"]}],colEnd:[{type:b.HostBinding,args:["style.grid-column-end"]}],rowStart:[{type:b.HostBinding,args:["style.-ms-grid-row"]},{type:b.HostBinding,args:["style.grid-row-start"]}],colStart:[{type:b.HostBinding,args:["style.-ms-grid-column"]},{type:b.HostBinding,args:["style.grid-column-start"]}],describedby:[{type:b.HostBinding,args:["attr.aria-describedby"]}],width:[{type:b.HostBinding,args:["style.min-width"]},{type:b.HostBinding,args:["style.max-width"]},{type:b.HostBinding,args:["style.flex-basis"]},{type:b.Input}],selected:[{type:b.HostBinding,args:["attr.aria-selected"]},{type:b.HostBinding,args:["class.igx-grid__td--selected"]}],dirty:[{type:b.HostBinding,args:["class.igx-grid__td--edited"]}],focused:[{type:b.HostBinding,args:["class.igx-grid__td--active"]}],defaultCellTemplate:[{type:b.ViewChild,args:["defaultCell",{read:b.TemplateRef}]}],inlineEditorTemplate:[{type:b.ViewChild,args:["inlineEditor",{read:b.TemplateRef}]}],highlight:[{type:b.ViewChild,args:[wo,{read:wo}]}],onDoubleClick:[{type:b.HostListener,args:["dblclick",["$event"]]}],onClick:[{type:b.HostListener,args:["click",["$event"]]}],onContextMenu:[{type:b.HostListener,args:["contextmenu",["$event"]]}],onFocus:[{type:b.HostListener,args:["focus",["$event"]]}],onBlur:[{type:b.HostListener,args:["blur"]}],dispatchEvent:[{type:b.HostListener,args:["keydown",["$event"]]}]},y([Sn("'inEditMode' is deprecated\nUse 'editMode' to get the current state and 'setEditMode(boolean)' as a setter"),C("design:type",Boolean),C("design:paramtypes",[Boolean])],e.prototype,"inEditMode",null),e}(),wl=function(){function e(e,t,i,n,r,o){this.gridAPI=e,this.crudService=t,this.selectionService=i,this.selection=n,this.element=r,this.cdr=o,this.role="row",this.dragging=!1,this.focused=!1,this.defaultCssClass="igx-grid__tr",this._rowSelection=!1}return Object.defineProperty(e.prototype,"rowData",{get:function(){return this.inEditMode?Object.assign({},this._rowData,this.grid.transactions.getAggregatedValue(this.rowID,!1)):this._rowData},set:function(e){this._rowData=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataRowIndex",{get:function(){return this.index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"styleClasses",{get:function(){return this.resolveClasses()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columns",{get:function(){return this.grid.visibleColumns},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pinnedColumns",{get:function(){return this.grid.pinnedColumns},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"unpinnedColumns",{get:function(){return this.grid.unpinnedColumns},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowSelectable",{get:function(){return this.grid.rowSelectable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showRowCheckboxes",{get:function(){return this.grid.showRowCheckboxes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dirty",{get:function(){var e=this.grid.transactions.getState(this.rowID);return!!e&&(e.type===wi.ADD||e.type===wi.UPDATE)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowDraggable",{get:function(){return this.grid.rowDraggable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"added",{get:function(){var e=this.grid.transactions.getState(this.rowID);return!!e&&e.type===wi.ADD},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deleted",{get:function(){return this.gridAPI.row_deleted_transaction(this.rowID)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inEditMode",{get:function(){if(this.grid.rowEditable){var e=this.crudService.row;return e&&e.id===this.rowID||!1}return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){return this.gridAPI.grid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowID",{get:function(){var e=this.grid.primaryKey;return e?this._rowData[e]:this._rowData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.element.nativeElement},enumerable:!0,configurable:!0}),e.prototype.onCheckboxClick=function(e){var t=e.checked?this.selection.add_item(this.gridID,this.rowID):this.selection.delete_item(this.gridID,this.rowID);this.grid.triggerRowSelectionChange(t,this,e)},e.prototype.update=function(e){var t=this.crudService;t.inEditMode&&t.cell.id.rowID===this.rowID&&this.grid.endEdit(!1);var i=new yl(this.rowID,this.index,this.rowData);this.gridAPI.update_row(i,e),this.cdr.markForCheck()},e.prototype["delete"]=function(){this.grid.deleteRowById(this.rowID)},Object.defineProperty(e.prototype,"rowCheckboxAriaLabel",{get:function(){return this.grid.primaryKey?this.isSelected?"Deselect row with key "+this.rowID:"Select row with key "+this.rowID:this.isSelected?"Deselect row":"Select row"},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){this.isSelected=this.rowSelectable&&!!this.grid.allRowsSelected||this.selection.is_item_selected(this.gridID,this.rowID),this.cdr.markForCheck(),this.checkboxElement&&(this.checkboxElement.checked=this.isSelected)},e.prototype.resolveClasses=function(){var e=this.index%2?this.grid.evenRowCSS:this.grid.oddRowCSS,t=this.isSelected?"igx-grid__tr--selected":"",i=this.inEditMode?"igx-grid__tr--edit":"",n=this.dirty?"igx-grid__tr--edited":"",r=this.deleted?"igx-grid__tr--deleted":"",o=this.grid.hasColumnLayouts?"igx-grid__tr--mrl":"",s=this.dragging?"igx-grid__tr--drag":"";return(this.defaultCssClass+" "+e+" "+t+" "+i+" "+n+"\n         "+r+" "+o+" "+s).trim()},Object.defineProperty(e.prototype,"resolveDragIndicatorClasses",{get:function(){return"igx-grid__drag-indicator "+(this.grid.rowDragging&&!this.dragging?"igx-grid__drag-indicator--off":"")},enumerable:!0,configurable:!0}),e.decorators=[{type:b.Component,args:[{changeDetection:b.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-row",template:'<ng-container *ngIf="grid.groupingExpressions.length > 0">\n    <div class="igx-grid__row-indentation igx-grid__row-indentation--level-{{grid.groupingExpressions.length}}"></div>\n</ng-container>\n<ng-container *ngIf="rowDraggable">\n    <div [class]="resolveDragIndicatorClasses" [igxRowDrag]="this">\n        <ng-container *ngTemplateOutlet="this.grid.dragIndicatorIconTemplate ? this.grid.dragIndicatorIconTemplate : this.grid.dragIndicatorIconBase"></ng-container>\n    </div>\n</ng-container>\n<ng-container *ngIf="showRowCheckboxes">\n    <div class="igx-grid__cbx-selection">\n        <igx-checkbox [checked]="isSelected" [disabled]="deleted" (change)="onCheckboxClick($event)" disableRipple="true" [disableTransitions]="grid.disableTransitions" [aria-label]="rowCheckboxAriaLabel"></igx-checkbox>\n    </div>\n</ng-container>\n\n<ng-container *ngIf="!grid.hasColumnLayouts">\n    <ng-container *ngIf="pinnedColumns.length > 0">\n        <igx-grid-cell *ngFor="let col of pinnedColumns | igxNotGrouped"\n            class="igx-grid__td igx-grid__td--fw igx-grid__td--pinned"\n            [class.igx-grid__td--number]="col.dataType === \'number\'"\n            [ngClass]="col.cellClasses | igxCellStyles:rowData[col.field]:rowData:col.field"\n            [editMode]="col.editable && crudService.isInEditMode(index, col.index)"\n            [column]="col"\n            [formatter]="col.formatter"\n            [row]="this"\n            [lastPinned]="col.isLastPinned"\n            [style.min-height.px]="grid.rowHeight || 32"\n            [rowData]="rowData"\n            [style.min-width.px]="col.width"\n            [style.flex-basis.px]="col.width"\n            [width]="col.getCellWidth()"\n            [visibleColumnIndex]="col.visibleIndex"\n            [value]="rowData[col.field]"\n            [cellTemplate]="col.bodyTemplate">\n        </igx-grid-cell>\n    </ng-container>\n    <ng-template igxGridFor let-col [igxGridForOf]="unpinnedColumns | igxNotGrouped" [igxForScrollContainer]="grid.parentVirtDir" [igxForScrollOrientation]="\'horizontal\'" [igxForContainerSize]=\'grid.unpinnedWidth\' [igxForSizePropName]=\'"calcPixelWidth"\' [igxForTrackBy]=\'grid.trackColumnChanges\' #igxDirRef>\n        <igx-grid-cell\n            class="igx-grid__td igx-grid__td--fw"\n            [class.igx-grid__td--number]="col.dataType === \'number\'"\n            [ngClass]="col.cellClasses | igxCellStyles:rowData[col.field]:rowData:col.field"\n            [editMode]="col.editable && crudService.isInEditMode(index, col.index)"\n            [column]="col"\n            [formatter]="col.formatter"\n            [row]="this"\n            [style.min-height.px]="grid.rowHeight || 32"\n            [rowData]="rowData"\n            [style.min-width.px]="col.width"\n            [style.flex-basis.px]="col.width"\n            [width]="col.getCellWidth()"\n            [visibleColumnIndex]="col.visibleIndex"\n            [value]="rowData[col.field]"\n            [cellTemplate]="col.bodyTemplate">\n        </igx-grid-cell>\n    </ng-template>\n</ng-container>\n\n<ng-container *ngIf="grid.hasColumnLayouts">\n    <ng-container *ngIf="pinnedColumns.length > 0">\n        <div *ngFor="let col of pinnedColumns | igxTopLevel" class="igx-grid__mrl-block"\n        [ngClass]="{\'igx-grid__td--pinned-last\': col.hasLastPinnedChildColumn}"\n        [ngStyle]="{\'grid-template-rows\':col.getGridTemplate(true, false),\n        \'grid-template-columns\':col.getGridTemplate(false, false),\n        \'z-index\': col.pinned ? 1 : null,\n        \'-ms-grid-rows\':col.getGridTemplate(true, true),\n        \'-ms-grid-columns\':col.getGridTemplate(false, true)}">\n            <igx-grid-cell *ngFor="let child of col.children"\n                class="igx-grid__td igx-grid__td--fw igx-grid__td--pinned"\n                [class.igx-grid__td--number]="child.dataType === \'number\'"\n                [ngClass]="child.cellClasses | igxCellStyles:rowData[child.field]:rowData:child.field"\n                [editMode]="child.editable && crudService.isInEditMode(index, child.index)"\n                [column]="child"\n                [formatter]="child.formatter"\n                [row]="this"\n                [style.min-height.px]="grid.rowHeight || 32"\n                [rowData]="rowData"\n                [visibleColumnIndex]="child.visibleIndex"\n                [value]="rowData[child.field]"\n                [cellTemplate]="child.bodyTemplate"></igx-grid-cell>\n        </div>\n    </ng-container>\n    <ng-template igxGridFor let-col [igxGridForOf]="unpinnedColumns | igxTopLevel" [igxForScrollContainer]="grid.parentVirtDir" let-colIndex="index" [igxForScrollOrientation]="\'horizontal\'" [igxForContainerSize]=\'grid.unpinnedWidth\' [igxForSizePropName]=\'"calcPixelWidth"\' [igxForTrackBy]=\'grid.trackColumnChanges\' #igxDirRef>\n        <div class="igx-grid__mrl-block"\n        [ngStyle]="{\'grid-template-rows\':col.getGridTemplate(true, false),\n     \'grid-template-columns\':col.getGridTemplate(false, false),\n     \'-ms-grid-rows\':col.getGridTemplate(true, true),\n     \'-ms-grid-columns\':col.getGridTemplate(false, true)}">\n            <igx-grid-cell *ngFor="let child of col.children"\n                class="igx-grid__td igx-grid__td--fw"\n                [class.igx-grid__td--number]="child.dataType === \'number\'"\n                [ngClass]="child.cellClasses | igxCellStyles:rowData[child.field]:rowData:child.field"\n                [editMode]="child.editable && crudService.isInEditMode(index, child.index)"\n                [column]="child"\n                [formatter]="child.formatter"\n                [row]="this"\n                [style.min-height.px]="grid.rowHeight || 32"\n                [rowData]="rowData"\n                [visibleColumnIndex]="child.visibleIndex"\n                [value]="rowData[child.field]"\n                [cellTemplate]="child.bodyTemplate"></igx-grid-cell>\n        </div>\n    </ng-template>\n</ng-container>\n'}]}],e.ctorParameters=function(){return[{type:_i},{type:xl},{type:bl},{type:$n},{type:b.ElementRef},{type:b.ChangeDetectorRef}]},e.propDecorators={rowData:[{type:b.Input}],index:[{type:b.Input}],gridID:[{type:b.Input}],virtDirRow:[{type:b.ViewChild,args:["igxDirRef",{read:hr}]}],checkboxElement:[{type:b.ViewChild,args:[b.forwardRef(function(){return xa}),{read:xa}]}],cells:[{type:b.ViewChildren,args:[b.forwardRef(function(){return Cl})]}],role:[{type:b.HostBinding,args:["attr.role"]}],dataRowIndex:[{type:b.HostBinding,args:["attr.data-rowIndex"]}],styleClasses:[{type:b.HostBinding,args:["class"]}],isSelected:[{type:b.HostBinding,args:["attr.aria-selected"]}]},e}(),_l=function(e){return 0===e||Boolean(e)},Sl=function(){function t(){}return t.count=function(e){return e.length},t.prototype.operate=function(e){return void 0===e&&(e=[]),[{key:"count",label:"Count",summaryResult:t.count(e)}]},t}(),Il=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return f(n,i),n.min=function(e){return e.length&&e.filter(_l).length?e.filter(_l).reduce(function(e,t){return Math.min(e,t)}):0},n.max=function(e){return e.length&&e.filter(_l).length?e.filter(_l).reduce(function(e,t){return Math.max(e,t)}):0},n.sum=function(e){return e.length&&e.filter(_l).length?e.filter(_l).reduce(function(e,t){return+e+ +t}):0},n.average=function(e){return e.length&&e.filter(_l).length?this.sum(e)/this.count(e):0},n.prototype.operate=function(e){void 0===e&&(e=[]);var t=i.prototype.operate.call(this,e);return t.push({key:"min",label:"Min",summaryResult:n.min(e)}),t.push({key:"max",label:"Max",summaryResult:n.max(e)}),t.push({key:"sum",label:"Sum",summaryResult:n.sum(e)}),t.push({key:"average",label:"Avg",summaryResult:n.average(e)}),t},n}(Sl),Dl=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return f(n,i),n.latest=function(e){return e.length&&e.filter(_l).length?e.filter(_l).sort(function(e,t){return new Date(t).valueOf()-new Date(e).valueOf()})[0]:undefined},n.earliest=function(e){return e.length&&e.filter(_l).length?(t=e.filter(_l).sort(function(e,t){return new Date(t).valueOf()-new Date(e).valueOf()}))[t.length-1]:undefined;var t},n.prototype.operate=function(e){void 0===e&&(e=[]);var t=i.prototype.operate.call(this,e);return t.push({key:"earliest",label:"Earliest",summaryResult:n.earliest(e)}),t.push({key:"latest",label:"Latest",summaryResult:n.latest(e)}),t},n}(Sl),El=function(){function e(e){this.zone=e,this.resizeCursor=null,this.showResizer=!1}return Object.defineProperty(e.prototype,"resizerHeight",{get:function(){var e=this.column.grid.getVisibleContentHeight(),t=1;return this.column.columnLayoutChild&&(t=this.column.grid.multiRowLayoutRowSize-this.column.rowStart+1),0!==this.column.level&&(e-=this.column.topLevelParent.headerGroup.height-this.column.headerGroup.height*t),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"restrictResizeMin",{get:function(){var e=parseFloat(this.column.minWidth),t=e<parseFloat(this.column.width)?e:parseFloat(this.column.width);return this.column.headerCell.elementRef.nativeElement.getBoundingClientRect().width-t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"restrictResizeMax",{get:function(){var e=this.column.headerCell.elementRef.nativeElement.getBoundingClientRect().width;if(this.column.pinned){var t=this.pinnedMaxWidth=this.column.grid.calcPinnedContainerMaxWidth-this.column.grid.getPinnedWidth(!0)+e;return this.column.maxWidth&&parseFloat(this.column.maxWidth)<t?(this.pinnedMaxWidth=this.column.maxWidth,parseFloat(this.column.maxWidth)-e):t-e}return this.column.maxWidth?parseFloat(this.column.maxWidth)-e:Number.MAX_SAFE_INTEGER},enumerable:!0,configurable:!0}),e.prototype.autosizeColumnOnDblClick=function(){var e=this.column.headerCell.elementRef.nativeElement.getBoundingClientRect().width,t=this.column.getLargestCellWidth();this.column.pinned?this.column.grid.getPinnedWidth(!0)-e+parseFloat(t)<=this.column.grid.calcPinnedContainerMaxWidth&&(this.column.width=t):this.column.maxWidth&&parseFloat(t)>parseFloat(this.column.maxWidth)?this.column.width=parseFloat(this.column.maxWidth)+"px":parseFloat(t)<parseFloat(this.column.minWidth)?this.column.width=this.column.minWidth+"px":this.column.width=t;this.zone.run(function(){}),this.column.grid.reflow(),this.column.grid.onColumnResized.emit({column:this.column,prevWidth:e.toString(),newWidth:this.column.width})},e.prototype.resizeColumn=function(e){this.showResizer=!1;var t=e.clientX-this.startResizePos,i=parseFloat(this.column.width),n=this.column.headerCell.elementRef.nativeElement.getBoundingClientRect().width;i=Number.isNaN(i)||i<n?n:i;var r=this.getColMinWidth(this.column),o=this.getColMaxWidth(this.column);this.column.grid.hasColumnLayouts?this.resizeColumnLayoutFor(this.column,t):this.column.width=i+t<r?r+"px":o&&o<i+t?o+"px":i+t+"px",this.zone.run(function(){}),this.column.grid.reflow(),i!==parseFloat(this.column.width)&&this.column.grid.onColumnResized.emit({column:this.column,prevWidth:i.toString(),newWidth:this.column.width}),this.isColumnResizing=!1},e.prototype.getColMinWidth=function(e){var t=parseFloat(e.width),i=e.headerCell.elementRef.nativeElement.getBoundingClientRect().width;t=Number.isNaN(t)||t<i?i:t;var n=parseFloat(e.minWidth);return n<t?n:t},e.prototype.getColMaxWidth=function(e){return e.pinned?parseFloat(this.pinnedMaxWidth):parseFloat(e.maxWidth)},e.prototype.resizeColumnLayoutFor=function(e,a){var l=this,t=e.getResizableColUnderEnd(),i=t.reduce(function(e,t){return e+t.spanUsed},0);if(e.pinned){var n=this.column.grid.getPinnedWidth(!0),r=this.column.grid.calcPinnedContainerMaxWidth;r<n+a&&(a=r-n)}for(var c=_(t),p=a,u=i,d=!1,o=function(){d=!1;var o=u,s=[];c.forEach(function(e){var t=parseFloat(e.target.calcWidth),i=a/u*e.target.gridColumnSpan,n=l.getColMinWidth(e.target),r=l.getColMaxWidth(e.target);t+i<n?(e.target.width=n+"px",p+=t-n,o-=e.spanUsed,d=!0):r&&r<t+i?(e.target.width=r+"px",p-=r-t,o-=e.spanUsed,d=!0):s.push(e)}),u=o,c=s};o(),d;);c.forEach(function(e){var t=parseFloat(e.target.calcWidth),i=p/u*e.target.gridColumnSpan;e.target.width=t+i+"px"})},e.decorators=[{type:b.Injectable}],e.ctorParameters=function(){return[{type:b.NgZone}]},e}(),Ol=function(){function e(e,t,i){this.zone=e,this.element=t,this.colResizingService=i,this._dblClick=!1,this.destroy$=new x.Subject}return e.prototype.ngOnDestroy=function(){this.destroy$.next(!0),this.destroy$.complete()},e.prototype.ngAfterViewInit=function(){var t=this;!this.column.columnGroup&&this.column.resizable&&(this.zone.runOutsideAngular(function(){x.fromEvent(t.element.nativeElement,"mousedown").pipe(p.debounceTime(200),p.takeUntil(t.destroy$)).subscribe(function(e){t._dblClick?t._dblClick=!1:0===e.button&&(t._onResizeAreaMouseDown(e),t.column.grid.resizeLine.resizer.onMousedown(e))})}),x.fromEvent(this.element.nativeElement,"mouseup").pipe(p.debounceTime(200),p.takeUntil(this.destroy$)).subscribe(function(){t.colResizingService.isColumnResizing=!1,t.colResizingService.showResizer=!1,t.column.grid.cdr.detectChanges()}))},e.prototype.onMouseOver=function(){this.colResizingService.resizeCursor="col-resize"},e.prototype.onDoubleClick=function(){this._dblClick=!0,this.colResizingService.column=this.column,this.colResizingService.autosizeColumnOnDblClick()},e.prototype._onResizeAreaMouseDown=function(e){this.colResizingService.column=this.column,this.colResizingService.isColumnResizing=!0,this.colResizingService.startResizePos=e.clientX,this.colResizingService.showResizer=!0,this.column.grid.cdr.detectChanges()},e.decorators=[{type:b.Directive,args:[{selector:"[igxResizeHandle]"}]}],e.ctorParameters=function(){return[{type:b.NgZone},{type:b.ElementRef},{type:El}]},e.propDecorators={column:[{type:b.Input,args:["igxResizeHandle"]}],onMouseOver:[{type:b.HostListener,args:["mouseover"]}],onDoubleClick:[{type:b.HostListener,args:["dblclick"]}]},e}(),Pl=function(){function e(e,t,i){var r=this;this.element=e,this.document=t,this.zone=i,this.restrictHResizeMin=Number.MIN_SAFE_INTEGER,this.restrictHResizeMax=Number.MAX_SAFE_INTEGER,this.resizeEnd=new x.Subject,this.resizeStart=new x.Subject,this.resize=new x.Subject,this._destroy=new x.Subject,this.resizeStart.pipe(p.map(function(e){return e.clientX}),p.takeUntil(this._destroy),p.switchMap(function(t){return r.resize.pipe(p.map(function(e){return e.clientX-t}),p.takeUntil(r.resizeEnd),p.takeUntil(r._destroy))})).subscribe(function(e){var t=r._left+e,i=r._left-r.restrictHResizeMin,n=r._left+r.restrictHResizeMax;r.left=t<i?i:t,n<t&&(r.left=n)})}return e.prototype.ngOnInit=function(){var t=this;this.zone.runOutsideAngular(function(){x.fromEvent(t.document.defaultView,"mousemove").pipe(p.throttle(function(){return x.interval(0,x.animationFrameScheduler)}),p.takeUntil(t._destroy)).subscribe(function(e){return t.onMousemove(e)}),x.fromEvent(t.document.defaultView,"mouseup").pipe(p.takeUntil(t._destroy)).subscribe(function(e){return t.onMouseup(e)})})},e.prototype.ngOnDestroy=function(){this._destroy.next(!0),this._destroy.complete()},Object.defineProperty(e.prototype,"left",{set:function(e){var t=this;requestAnimationFrame(function(){return t.element.nativeElement.style.left=e+"px"})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{set:function(e){var t=this;requestAnimationFrame(function(){return t.element.nativeElement.style.top=e+"px"})},enumerable:!0,configurable:!0}),e.prototype.onMouseup=function(e){this.resizeEnd.next(e),this.resizeEnd.complete()},e.prototype.onMousedown=function(e){e.preventDefault();var t=this.element.nativeElement.parentElement.parentElement;this.left=this._left=e.clientX-t.getBoundingClientRect().left,this.top=e.target.getBoundingClientRect().top-t.getBoundingClientRect().top,this.resizeStart.next(e)},e.prototype.onMousemove=function(e){e.preventDefault(),this.resize.next(e)},e.decorators=[{type:b.Directive,args:[{selector:"[igxResizer]"}]}],e.ctorParameters=function(){return[{type:b.ElementRef},{type:undefined,decorators:[{type:b.Inject,args:[r.DOCUMENT]}]},{type:b.NgZone}]},e.propDecorators={restrictHResizeMin:[{type:b.Input}],restrictHResizeMax:[{type:b.Input}],resizeEnd:[{type:b.Output}],resizeStart:[{type:b.Output}],resize:[{type:b.Output}]},e}(),Tl=function(){function e(e){this.template=e}return e.decorators=[{type:b.Directive,args:[{selector:"[igxFilterCellTemplate]"}]}],e.ctorParameters=function(){return[{type:b.TemplateRef}]},e}(),Rl=function(){function e(e){this.template=e}return e.decorators=[{type:b.Directive,args:[{selector:"[igxCell]"}]}],e.ctorParameters=function(){return[{type:b.TemplateRef}]},e}(),kl=function(){function e(e){this.template=e}return e.decorators=[{type:b.Directive,args:[{selector:"[igxHeader]"}]}],e.ctorParameters=function(){return[{type:b.TemplateRef}]},e}(),Ll=function(){function e(e){this.template=e}return e.decorators=[{type:b.Directive,args:[{selector:"[igxFooter]"}]}],e.ctorParameters=function(){return[{type:b.TemplateRef}]},e}(),Al=function(){function e(e){this.template=e}return e.decorators=[{type:b.Directive,args:[{selector:"[igxCellEditor]"}]}],e.ctorParameters=function(){return[{type:b.TemplateRef}]},e}(),Fl=function(){function e(){}return Object.defineProperty(e.prototype,"column",{get:function(){return this._column},set:function(e){e&&(this._column=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){return this._icon},set:function(e){e&&(this._icon=e)},enumerable:!0,configurable:!0}),e.decorators=[{type:b.Injectable,args:[{providedIn:"root"}]}],e.ngInjectableDef=b.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),Ml={BeforeDropTarget:0,AfterDropTarget:1,None:2};Ml[Ml.BeforeDropTarget]="BeforeDropTarget",Ml[Ml.AfterDropTarget]="AfterDropTarget",Ml[Ml.None]="None";var Vl=function(a){function e(e,t,i,n,r){var o=a.call(this,n,e,t,i)||this;return o.cms=r,o._ghostImageClass="igx-grid__drag-ghost-image",o.dragGhostImgIconClass="igx-grid__drag-ghost-image-icon",o.dragGhostImgIconGroupClass="igx-grid__drag-ghost-image-icon-group",o}return f(e,a),Object.defineProperty(e.prototype,"data",{set:function(e){this._column=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"column",{get:function(){return this._column},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"draggable",{get:function(){return this.column&&(this.column.movable||this.column.groupable&&!this.column.columnGroup)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){return this.cms.icon},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this._unsubscribe()},e.prototype.onEscape=function(e){this.cms.cancelDrop=!0,this.onPointerUp(e)},e.prototype.onPointerDown=function(e){var t=this;if(this.draggable&&"false"!==e.target.getAttribute("draggable")){e.preventDefault(),e.stopPropagation(),this._removeOnDestroy=!1,this.cms.column=this.column,this.ghostImageClass=this._ghostImageClass,a.prototype.onPointerDown.call(this,e),this.cms.isColumnMoving=!0,this.column.grid.cdr.detectChanges();var i={source:this.column};this.column.grid.onColumnMovingStart.emit(i),this.subscription$=x.fromEvent(this.column.grid.document.defaultView,"keydown").subscribe(function(e){"Escape"!==e.key&&"Esc"!==e.key||t.onEscape(e)})}},e.prototype.onPointerMove=function(e){if(e.preventDefault(),a.prototype.onPointerMove.call(this,e),this._dragStarted&&this.dragGhost&&!this.column.grid.draggedColumn&&(this.column.grid.draggedColumn=this.column,this.column.grid.cdr.detectChanges()),this.cms.isColumnMoving){var t={source:this.column,cancel:!1};this.column.grid.onColumnMoving.emit(t),t.cancel&&this.onEscape(e)}},e.prototype.onPointerUp=function(e){var t=this;this.zone.run(function(){a.prototype.onPointerUp.call(t,e),t.cms.isColumnMoving=!1,t.column.grid.draggedColumn=null,t.column.grid.cdr.detectChanges()}),this._unsubscribe()},e.prototype.createDragGhost=function(e){var t,i;a.prototype.createDragGhost.call(this,e),i=this.pointerEventsEnabled||!this.touchEventsEnabled?(t=e.pageX,e.pageY):(t=e.touches[0].pageX,e.touches[0].pageY),this.dragGhost.style.height=null,this.dragGhost.style.minWidth=null,this.dragGhost.style.flexBasis=null,this.dragGhost.style.position=null;var n=document.createElement("i"),r=document.createTextNode("block");n.appendChild(r),n.classList.add("material-icons"),this.cms.icon=n;var o=this.dragGhostHost?this.dragGhostHost.getBoundingClientRect().left:0,s=this.dragGhostHost?this.dragGhostHost.getBoundingClientRect().top:0;this.column.columnGroup?(this.dragGhost.insertBefore(n,this.dragGhost.childNodes[0]),this.renderer.addClass(n,this.dragGhostImgIconGroupClass),this.dragGhost.children[0].style.paddingLeft="0px"):(this.renderer.addClass(n,this.dragGhostImgIconClass),this.dragGhost.insertBefore(n,this.dragGhost.firstElementChild)),this.left=this._dragStartX=t-this.dragGhost.getBoundingClientRect().width/3*2-o,this.top=this._dragStartY=i-this.dragGhost.getBoundingClientRect().height/3*2-s},e.prototype._unsubscribe=function(){this.subscription$&&(this.subscription$.unsubscribe(),this.subscription$=null)},e.decorators=[{type:b.Directive,args:[{selector:"[igxColumnMovingDrag]"}]}],e.ctorParameters=function(){return[{type:b.ElementRef},{type:b.NgZone},{type:b.Renderer2},{type:b.ChangeDetectorRef},{type:Fl}]},e.propDecorators={data:[{type:b.Input,args:["igxColumnMovingDrag"]}]},e}(zr),Hl=function(o){function e(e,t,i,n){var r=o.call(this,e,t,i)||this;return r.elementRef=e,r.renderer=t,r.zone=i,r.cms=n,r._dropIndicator=null,r._lastDropIndicator=null,r._dragLeave=new x.Subject,r._dropIndicatorClass="igx-grid__th-drop-indicator--active",r}return f(e,o),Object.defineProperty(e.prototype,"data",{set:function(e){e instanceof zl&&(this._column=e),e instanceof hr&&(this._hVirtDir=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"column",{get:function(){return this._column},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDropTarget",{get:function(){return this._column&&this._column.grid.hasMovableColumns&&this.cms.column.movable&&(!this._column.pinned&&this.cms.column.disablePinning||!this.cms.column.disablePinning)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"horizontalScroll",{get:function(){if(this._hVirtDir)return this._hVirtDir},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this._dragLeave.next(!0),this._dragLeave.complete()},e.prototype.onDragOver=function(e){if(this.isDropTarget&&this.cms.column!==this.column&&this.cms.column.level===this.column.level&&this.cms.column.parent===this.column.parent){this._lastDropIndicator&&this.renderer.removeClass(this._dropIndicator,this._dropIndicatorClass);var t=this.elementRef.nativeElement.getBoundingClientRect(),i=t.left+t.width/2,n=this.elementRef.nativeElement.parentElement;e.detail.pageX<i?(this._dropPos=Ml.BeforeDropTarget,this._lastDropIndicator=this._dropIndicator=n.firstElementChild):(this._dropPos=Ml.AfterDropTarget,this._lastDropIndicator=this._dropIndicator=n.lastElementChild),"block"!==this.cms.icon.innerText&&this.renderer.addClass(this._dropIndicator,this._dropIndicatorClass)}},e.prototype.onDragEnter=function(e){var t=this;if(e.detail.owner instanceof Vl)if(this.column&&this.cms.column.grid.id!==this.column.grid.id)this.cms.icon.innerText="block";else{if(this.isDropTarget&&this.cms.column!==this.column&&this.cms.column.level===this.column.level&&this.cms.column.parent===this.column.parent){if((!this.column.pinned||this.column.pinned&&this.cms.column.pinned)&&(this.cms.icon.innerText="swap_horiz"),!this.cms.column.pinned&&this.column.pinned)this.column.grid.getPinnedWidth(!0)+parseFloat(this.cms.column.width)<=this.column.grid.calcPinnedContainerMaxWidth?this.cms.icon.innerText="lock":this.cms.icon.innerText="block"}else this.cms.icon.innerText="block";this.horizontalScroll&&(this.cms.icon.innerText="right"===e.target.id?"arrow_forward":"arrow_back",x.interval(100).pipe(p.takeUntil(this._dragLeave)).subscribe(function(){t.cms.column.grid.wheelHandler(),"right"===e.target.id?t.horizontalScroll.getHorizontalScroll().scrollLeft+=15:t.horizontalScroll.getHorizontalScroll().scrollLeft-=15}))}},e.prototype.onDragLeave=function(e){e.detail.owner instanceof Vl&&(this.cms.icon.innerText="block",this._dropIndicator&&this.renderer.removeClass(this._dropIndicator,this._dropIndicatorClass),this.horizontalScroll&&this._dragLeave.next(!0))},e.prototype.onDragDrop=function(e){if(e.preventDefault(),e.detail.owner instanceof Vl&&(!this.column||this.cms.column.grid.id===this.column.grid.id)&&(this.horizontalScroll&&this._dragLeave.next(!0),this.isDropTarget)){var t={source:this.cms.column,target:this.column},i=void 0;if(this.column.pinned&&!this.cms.column.pinned&&(i=this.column.grid.getPinnedWidth(!0)+parseFloat(this.cms.column.width)),i&&i>this.column.grid.calcPinnedContainerMaxWidth||this.column.level!==this.cms.column.level||this.column.parent!==this.cms.column.parent||this.cms.cancelDrop)return this.cms.cancelDrop=!1,void this.column.grid.onColumnMovingEnd.emit(t);this.column.grid.moveColumn(this.cms.column,this.column,this._dropPos),this.column.grid.draggedColumn=null,this.column.grid.cdr.detectChanges()}},e.decorators=[{type:b.Directive,args:[{selector:"[igxColumnMovingDrop]"}]}],e.ctorParameters=function(){return[{type:b.ElementRef},{type:b.Renderer2},{type:b.NgZone},{type:Fl}]},e.propDecorators={data:[{type:b.Input,args:["igxColumnMovingDrop"]}]},e}(Wr),Bl=function(){function e(){}return e.decorators=[{type:b.Directive,args:[{selector:"[igxGridBody]",providers:[pr]}]}],e}(),jl=function(i){function e(e){return i.call(this,e)||this}return f(e,i),e.prototype.transform=function(e,t){return e&&e instanceof Date?t?i.prototype.transform.call(this,e,"mediumDate",undefined,t):i.prototype.transform.call(this,e):e},e.decorators=[{type:b.Pipe,args:[{name:"igxdate"}]}],e.ctorParameters=function(){return[{type:String,decorators:[{type:b.Inject,args:[b.LOCALE_ID]}]}]},e}(r.DatePipe),Nl=function(i){function e(e){return i.call(this,e)||this}return f(e,i),e.prototype.transform=function(e,t){return e&&"number"==typeof e?t?i.prototype.transform.call(this,e,undefined,t):i.prototype.transform.call(this,e):e},e.decorators=[{type:b.Pipe,args:[{name:"igxdecimal"}]}],e.ctorParameters=function(){return[{type:String,decorators:[{type:b.Inject,args:[b.LOCALE_ID]}]}]},e}(r.DecimalPipe),Gl=function(s){function e(){var e=null!==s&&s.apply(this,arguments)||this;return e.isTop=!1,e.isTopInitialPosition=null,e}return f(e,s),e.prototype.position=function(e,t,i,n){var r=this.settings.container,o=this.settings.target;this.isTop=null!==this.isTopInitialPosition?this.isTopInitialPosition:r.getBoundingClientRect().bottom<o.getBoundingClientRect().bottom+e.getBoundingClientRect().height,e.style.width=o.clientWidth+"px",this.settings.verticalStartPoint=this.settings.verticalDirection=this.isTop?fn.Top:fn.Bottom,this.settings.openAnimation=this.isTop?Ne:He,s.prototype.position.call(this,e,{width:o.clientWidth,height:o.clientHeight},i,n)},e}(On),zl=function(){function e(e,t){this.gridAPI=e,this.cdr=t,this.header="",this.sortable=!1,this.groupable=!1,this.editable=null,this.filterable=!0,this.resizable=!1,this.movable=!1,this._calcWidth=null,this.headerClasses="",this.headerGroupClasses="",this.filteringIgnoreCase=!0,this.sortingIgnoreCase=!0,this.dataType=Pi.String,this.searchable=!0,this.parent=null,this._pinned=!1,this._summaries=null,this._filters=null,this._sortStrategy=mi.instance(),this._hidden=!1,this._disableHiding=!1,this._disablePinning=!1,this._defaultMinWidth="",this._hasSummary=!1,this._vIndex=NaN}return Object.defineProperty(e.prototype,"hasSummary",{get:function(){return this._hasSummary},set:function(e){this._hasSummary=e,this.grid&&this.grid.summaryService.recalculateSummaries()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hidden",{get:function(){return this._hidden},set:function(e){this._hidden!==e&&(this._hidden=e,this.grid&&(this.grid.resetCaches(),this.grid.endEdit(!1)),this.check(),this.grid&&(this.grid.refreshSearch(!0),this.grid.summaryService.resetSummaryHeight(),this.grid.reflow(),this.grid.filteringService.refreshExpressions()),this.columnLayoutChild&&this.parent.hidden!==e&&(this.parent.hidden=e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disableHiding",{get:function(){return this._disableHiding},set:function(e){this._disableHiding!==e&&(this._disableHiding=e,this.check())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disablePinning",{get:function(){return this._disablePinning},set:function(e){this._disablePinning!==e&&(this._disablePinning=e,this.check())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.widthSetByUser?this._width:this.defaultWidth},set:function(e){e&&(this._calcWidth=null,this.calcPixelWidth=NaN,this.widthSetByUser=!0,this._width=e,this.grid&&this.cacheCalcWidth())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"calcWidth",{get:function(){return this.getCalcWidth()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minWidth",{get:function(){return this._defaultMinWidth?this._defaultMinWidth:this.defaultMinWidth},set:function(e){var t=parseFloat(e);Number.isNaN(t)||(this._defaultMinWidth=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this.grid.columns.indexOf(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pinned",{get:function(){return this._pinned},set:function(e){if(this._pinned!==e){if(this.grid&&this.width&&!isNaN(parseInt(this.width,10)))return void(e?this.pin():this.unpin());this._pinned=e}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"summaries",{get:function(){return this._summaries},set:function(e){this._summaries=new e,this.grid&&(this.grid.summaryService.removeSummariesCachePerColumn(this.field),this.grid._summaryPipeTrigger++,this.grid.summaryService.recalculateSummaries())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filters",{get:function(){return this._filters},set:function(e){this._filters=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortStrategy",{get:function(){return this._sortStrategy},set:function(e){this._sortStrategy=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupingComparer",{get:function(){return this._groupingComparer},set:function(e){this._groupingComparer=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultMinWidth",{get:function(){if(!this.grid)return"80";switch(this.grid.displayDensity){case er.cosy:return"64";case er.compact:return"56";default:return"80"}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bodyTemplate",{get:function(){return this._bodyTemplate},set:function(e){this._bodyTemplate=e,this.grid&&this.grid.cdr.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerTemplate",{get:function(){return this._headerTemplate},set:function(e){this._headerTemplate=e,this.grid&&this.grid.cdr.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inlineEditorTemplate",{get:function(){return this._inlineEditorTemplate},set:function(e){this._inlineEditorTemplate=e,this.grid&&this.grid.cdr.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterCellTemplate",{get:function(){return this._filterCellTemplate},set:function(e){this._filterCellTemplate=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cells",{get:function(){var t=this;return this.grid.rowList.filter(function(e){return e instanceof wl}).map(function(e){if(e.cells)return e.cells.filter(function(e){return e.columnIndex===t.index})}).reduce(function(e,t){return e.concat(t)},[])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visibleIndex",{get:function(){var t=this;if(!isNaN(this._vIndex))return this._vIndex;var e=this.grid.unpinnedColumns.filter(function(e){return!e.columnGroup}),i=this.grid.pinnedColumns.filter(function(e){return!e.columnGroup}),n=this,r=-1;if(this.columnGroup&&(n=this.allChildren.filter(function(e){return!e.columnGroup})[0]),this.columnLayoutChild)return this.parent.childrenVisibleIndexes.find(function(e){return e.column===t}).index;if(this.pinned)r=i.indexOf(n);else{var o=e.indexOf(n);r=-1===o?-1:i.length+o}return this._vIndex=r},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnGroup",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnLayout",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnLayoutChild",{get:function(){return this.parent&&this.parent.columnLayout},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allChildren",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){for(var e=this.parent,t=0;e;)t++,e=e.parent;return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLastPinned",{get:function(){return this.grid.pinnedColumns[this.grid.pinnedColumns.length-1]===this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridRowSpan",{get:function(){return this.rowEnd&&this.rowStart?this.rowEnd-this.rowStart:1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridColumnSpan",{get:function(){return this.colEnd&&this.colStart?this.colEnd-this.colStart:1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filteringExpressionsTree",{get:function(){return this.grid.filteringExpressionsTree.find(this.field)},enumerable:!0,configurable:!0}),e.prototype.resetCaches=function(){this._vIndex=NaN,this.grid&&this.cacheCalcWidth()},e.prototype.ngAfterContentInit=function(){if(this.cellTemplate&&(this._bodyTemplate=this.cellTemplate.template),this.headTemplate&&(this._headerTemplate=this.headTemplate.template),this.editorTemplate&&(this._inlineEditorTemplate=this.editorTemplate.template),this.filterCellTemplateDirective&&(this._filterCellTemplate=this.filterCellTemplateDirective.template),!this.summaries)switch(this.dataType){case Pi.String:case Pi.Boolean:this.summaries=Sl;break;case Pi.Number:this.summaries=Il;break;case Pi.Date:this.summaries=Dl;break;default:this.summaries=Sl}if(!this.filters)switch(this.dataType){case Pi.Boolean:this.filters=Ro.instance();break;case Pi.Number:this.filters=Lo.instance();break;case Pi.Date:this.filters=ko.instance();break;case Pi.String:default:this.filters=Ao.instance()}},e.prototype.getGridTemplate=function(e,t){if(e){var i=this.grid.multiRowLayoutRowSize;return t?"(1fr)["+i+"]":"repeat("+i+",1fr)"}return this.getColumnSizesString(this.children)},e.prototype.getInitialChildColumnSizes=function(e){var s=this,a=[];e.forEach(function(e){if(e.colStart){var t=e.widthSetByUser&&a[e.colStart-1]&&!a[e.colStart-1].widthSetByUser,i=a[e.colStart-1]&&a[e.colStart-1].colSpan>e.gridColumnSpan,n=e.widthSetByUser&&a[e.colStart-1]&&a[e.colStart-1].widthSetByUser,r=!e.widthSetByUser&&a[e.colStart-1]&&!a[e.colStart-1].widthSetByUser;if(a[e.colStart-1]===undefined)a[e.colStart-1]={ref:e,width:e.widthSetByUser||s.grid.columnWidthSetByUser?parseInt(e.calcWidth,10):null,colSpan:e.gridColumnSpan,colEnd:e.colStart+e.gridColumnSpan,widthSetByUser:e.widthSetByUser};else if(t||i&&(n||r)){if(n&&i)for(var o=e.colStart-1+e.gridColumnSpan;o<a[e.colStart-1].colEnd-1&&(!a[o]||!a[o].widthSetByUser);o++)a[o]=a[e.colStart-1];a[e.colStart-1]={ref:e,width:e.widthSetByUser||s.grid.columnWidthSetByUser?parseInt(e.calcWidth,10):null,colSpan:e.gridColumnSpan,colEnd:e.colStart+e.gridColumnSpan,widthSetByUser:e.widthSetByUser}}else if(n&&a[e.colStart-1].colSpan<e.gridColumnSpan)for(o=e.colStart-1+a[e.colStart-1].colSpan;o<e.colStart-1+e.gridColumnSpan&&(!a[o]||!a[o].widthSetByUser);o++)a[o]={ref:e,width:e.widthSetByUser||s.grid.columnWidthSetByUser?parseInt(e.calcWidth,10):null,colSpan:e.gridColumnSpan,colEnd:e.colStart+e.gridColumnSpan,widthSetByUser:e.widthSetByUser}}});for(var t=0;t<a.length;t++)if(a[t]&&1<a[t].colSpan){for(var i=1;i<a[t].colSpan&&t+i+1<a[t].colEnd&&(!a[t+i]||!(!a[t].width&&a[t+i].width||!a[t].width&&!a[t+i].width&&a[t+i].colSpan<=a[t].colSpan||a[t+i].width&&a[t+i].colSpan<=a[t].colSpan));i++){var n=a[t].widthSetByUser?a[t].width/a[t].colSpan:a[t].width;a[t+i]={ref:a[t].ref,width:n,colSpan:1,colEnd:a[t].colEnd,widthSetByUser:a[t].widthSetByUser}}a[t].width=a[t].widthSetByUser?a[t].width/a[t].colSpan:a[t].width,t+=i-(a[t].colSpan=1)}return a},e.prototype.getFilledChildColumnSizes=function(e){for(var t=this.getInitialChildColumnSizes(e),i=[],n=0;n<t.length;n++)t[n]&&t[n].width?i.push(t[n].width+"px"):i.push(parseInt(this.grid.getPossibleColumnWidth(),10)+"px");return i},e.prototype.getColumnSizesString=function(e){return this.getFilledChildColumnSizes(e).join(" ")},e.prototype.getResizableColUnderEnd=function(){if(this.columnLayout||!this.columnLayoutChild||this.columnGroup)return[{target:this,spanUsed:1}];for(var e=this.getInitialChildColumnSizes(this.parent.children),t=[],i=this.colEnd?this.colEnd:this.colStart+1,n=0;n<e.length;n++)this.colStart<=n+1&&n+1<i&&t.push({target:e[n].ref,spanUsed:1});for(var r=[],o=0;o<t.length;o++)r.length&&r[r.length-1].target.field===t[o].target.field?r[r.length-1].spanUsed++:r.push(t[o]);return r},e.prototype.pin=function(e){if(this.grid&&this.grid.endEdit(!0),this._pinned)return!1;if(this.parent&&!this.parent.pinned)return this.topLevelParent.pin(e);var t=this.grid,i=e!==undefined;if(i&&(e<0||e>=t.pinnedColumns.length))return!1;var n=parseInt(this.width,10);if(!this.parent&&t.getUnpinnedWidth(!0)-n<t.unpinnedAreaMinWidth)return!1;this._pinned=!0,this._unpinnedIndex=t._unpinnedColumns.indexOf(this),e=e!==undefined?e:t._pinnedColumns.length;var r=t._pinnedColumns[e],o={column:this,insertAtIndex:e,isPinned:!0};return t.onColumnPinning.emit(o),-1===t._pinnedColumns.indexOf(this)&&(t._pinnedColumns.splice(o.insertAtIndex,0,this),-1!==t._unpinnedColumns.indexOf(this)&&t._unpinnedColumns.splice(t._unpinnedColumns.indexOf(this),1)),i&&t._moveColumns(this,r),this.columnGroup&&(this.allChildren.forEach(function(e){return e.pin()}),t.reinitPinStates()),t.resetCaches(),t.cdr.detectChanges(),this.columnLayoutChild&&this.grid.columns.filter(function(e){return e.columnLayout}).forEach(function(e){return e.populateVisibleIndexes()}),this.grid.filteringService.refreshExpressions(),this.grid.refreshSearch(!0),!0},e.prototype.unpin=function(e){if(this.grid&&this.grid.endEdit(!0),!this._pinned)return!1;if(this.parent&&this.parent.pinned)return this.topLevelParent.unpin(e);var t=this.grid,i=e!==undefined;if(i&&(e<0||e>=t._unpinnedColumns.length))return!1;e=e!==undefined?e:this._unpinnedIndex!==undefined?this._unpinnedIndex:this.index,this._pinned=!1;var n=t._unpinnedColumns[e];t._unpinnedColumns.splice(e,0,this),-1!==t._pinnedColumns.indexOf(this)&&t._pinnedColumns.splice(t._pinnedColumns.indexOf(this),1),i&&t._moveColumns(this,n),this.columnGroup&&this.allChildren.forEach(function(e){return e.unpin()}),t.reinitPinStates(),t.resetCaches();var r={column:this,insertAtIndex:t._unpinnedColumns.indexOf(this),isPinned:!1};return t.onColumnPinning.emit(r),t.cdr.detectChanges(),this.columnLayoutChild&&this.grid.columns.filter(function(e){return e.columnLayout}).forEach(function(e){return e.populateVisibleIndexes()}),this.grid.filteringService.refreshExpressions(),this.grid.refreshSearch(!0),!0},Object.defineProperty(e.prototype,"topLevelParent",{get:function(){for(var e=this.parent;e&&e.parent;)e=e.parent;return e},enumerable:!0,configurable:!0}),e.prototype.check=function(){this.grid&&this.grid.markForCheck()},Object.defineProperty(e.prototype,"headerCell",{get:function(){var t=this;return this.grid.headerCellList.find(function(e){return e.column===t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterCell",{get:function(){var t=this;return this.grid.filterCellList.find(function(e){return e.column===t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerGroup",{get:function(){var t=this;return this.grid.headerGroupsList.find(function(e){return e.column===t})},enumerable:!0,configurable:!0}),e.prototype.autosize=function(){this.columnGroup||(this.width=this.getLargestCellWidth(),this.grid.markForCheck(),this.grid.reflow())},e.prototype.getCalcWidth=function(){return(null===this._calcWidth||isNaN(this.calcPixelWidth))&&this.cacheCalcWidth(),this._calcWidth},e.prototype.getLargestCellWidth=function(){var t=this.grid.document.createRange(),e=new Map;if(0<this.cells.length){var i=[];0<this.cells[0].nativeElement.children.length?this.cells.forEach(function(e){return i.push(e.calculateSizeToFit(t))}):i=this.cells.map(function(e){return si(t,e.nativeElement)});var n=i.indexOf(Math.max.apply(Math,_(i))),r=this.grid.document.defaultView.getComputedStyle(this.cells[n].nativeElement),o=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderRightWidth);e.set(Math.max.apply(Math,_(i)),o)}if(this.headerCell){var s=void 0;s=this.headerTemplate&&0<this.headerCell.elementRef.nativeElement.children[0].children.length?Math.max.apply(Math,_(Array.from(this.headerCell.elementRef.nativeElement.children[0].children).map(function(e){return si(t,e)}))):si(t,this.headerCell.elementRef.nativeElement.children[0]),(this.sortable||this.filterable)&&(s+=this.headerCell.elementRef.nativeElement.children[1].getBoundingClientRect().width);var a=this.grid.document.defaultView.getComputedStyle(this.headerCell.elementRef.nativeElement),l=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight)+parseFloat(a.borderRightWidth);e.set(s,l)}var c=Math.max.apply(Math,_(Array.from(e.keys()))),p=Math.ceil(c+e.get(c));return Number.isNaN(p)?this.width:p+"px"},e.prototype.getCellWidth=function(){var e=this.width,t=e&&"string"==typeof e&&-1!==e.indexOf("%");if(this.columnLayoutChild)return"";if(!e||t)return e;var i=e;return"string"==typeof i&&!1!==i.endsWith("px")||(i+="px"),i},e.prototype.cacheCalcWidth=function(){var e=this.width,t=e&&"string"==typeof e&&-1!==e.indexOf("%");this._calcWidth=t?parseInt(e,10)/100*(this.grid.calcWidth-this.grid.featureColumnsWidth):e?this.width:this.defaultWidth||this.grid.getPossibleColumnWidth(),this.calcPixelWidth=parseInt(this._calcWidth,10)},e.prototype.populateVisibleIndexes=function(){},e.decorators=[{type:b.Component,args:[{changeDetection:b.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-column",template:""}]}],e.ctorParameters=function(){return[{type:_i},{type:b.ChangeDetectorRef}]},e.propDecorators={field:[{type:b.Input}],header:[{type:b.Input}],sortable:[{type:b.Input}],groupable:[{type:b.Input}],editable:[{type:b.Input}],filterable:[{type:b.Input}],resizable:[{type:b.Input}],hasSummary:[{type:b.Input}],hidden:[{type:b.Input}],disableHiding:[{type:b.Input}],disablePinning:[{type:b.Input}],movable:[{type:b.Input}],width:[{type:b.Input}],maxWidth:[{type:b.Input}],minWidth:[{type:b.Input}],headerClasses:[{type:b.Input}],headerGroupClasses:[{type:b.Input}],cellClasses:[{type:b.Input}],formatter:[{type:b.Input}],filteringIgnoreCase:[{type:b.Input}],sortingIgnoreCase:[{type:b.Input}],dataType:[{type:b.Input}],pinned:[{type:b.Input}],summaries:[{type:b.Input}],searchable:[{type:b.Input}],filters:[{type:b.Input}],sortStrategy:[{type:b.Input}],groupingComparer:[{type:b.Input}],bodyTemplate:[{type:b.Input,args:["cellTemplate"]}],headerTemplate:[{type:b.Input}],inlineEditorTemplate:[{type:b.Input,args:["cellEditorTemplate"]}],filterCellTemplate:[{type:b.Input,args:["filterCellTemplate"]}],rowEnd:[{type:b.Input}],colEnd:[{type:b.Input}],rowStart:[{type:b.Input}],colStart:[{type:b.Input}],cellTemplate:[{type:b.ContentChild,args:[Rl,{read:Rl}]}],headTemplate:[{type:b.ContentChild,args:[kl,{read:kl}]}],editorTemplate:[{type:b.ContentChild,args:[Al,{read:Al}]}],filterCellTemplateDirective:[{type:b.ContentChild,args:[Tl,{read:Tl}]}]},y([Sn("The property is deprecated. Please, use `column.grid.id` instead."),C("design:type",String)],e.prototype,"gridID",void 0),e}(),Wl=function(n){function e(e,t){var i=n.call(this,e,t)||this;return i.gridAPI=e,i.cdr=t,i.children=new b.QueryList,i.searchable=!0,i}return f(e,n),Object.defineProperty(e.prototype,"summaries",{get:function(){return this._summaries},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filters",{get:function(){return this._filters},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bodyTemplate",{get:function(){return this._bodyTemplate},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerTemplate",{get:function(){return this._headerTemplate},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inlineEditorTemplate",{get:function(){return this._inlineEditorTemplate},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cells",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hidden",{get:function(){return this.allChildren.every(function(e){return e.hidden})},set:function(t){this._hidden=t,this.children.forEach(function(e){return e.hidden=t})},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){var t=this;this.children.reset(this.children.toArray().slice(1)),this.children.forEach(function(e){e.parent=t})},Object.defineProperty(e.prototype,"allChildren",{get:function(){return pi(this.children.toArray())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnGroup",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnLayout",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){var e,i=!1;return e=""+this.children.reduce(function(e,t){return t.hidden?e:("string"==typeof t.width&&-1!==t.width.indexOf("%")&&(i=!0),e+parseInt(t.width,10))},0),i?e+"%":e},set:function(e){},enumerable:!0,configurable:!0}),e.decorators=[{type:b.Component,args:[{changeDetection:b.ChangeDetectionStrategy.OnPush,providers:[{provide:zl,useExisting:b.forwardRef(function(){return e})}],selector:"igx-column-group",template:""}]}],e.ctorParameters=function(){return[{type:_i},{type:b.ChangeDetectorRef}]},e.propDecorators={children:[{type:b.ContentChildren,args:[zl,{read:zl}]}],summaries:[{type:b.Input}],searchable:[{type:b.Input}],filters:[{type:b.Input}],hidden:[{type:b.Input}]},e}(zl),Ul=function(i){function e(){var e=null!==i&&i.apply(this,arguments)||this;return e.childrenVisibleIndexes=[],e}return f(e,i),Object.defineProperty(e.prototype,"width",{get:function(){return this.getFilledChildColumnSizes(this.children).reduce(function(e,t){return e+parseInt(t,10)},0)},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnLayout",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.getCalcWidth=function(){var e=0;if(this.headerGroup&&this.headerGroup.hasLastPinnedChildColumn){var t=this.grid.document.defaultView.getComputedStyle(this.headerGroup.element.nativeElement.children[0]);e=parseInt(t.borderRightWidth,10)}return i.prototype.getCalcWidth.call(this)+e},Object.defineProperty(e.prototype,"visibleIndex",{get:function(){if(!isNaN(this._vIndex))return this._vIndex;var e=this.grid.unpinnedColumns.filter(function(e){return e.columnLayout&&!e.hidden}),t=this.grid.pinnedColumns.filter(function(e){return e.columnLayout&&!e.hidden}),i=-1;if(this.pinned)i=t.indexOf(this);else{var n=e.indexOf(this);i=-1===n?-1:t.length+n}return this._vIndex=i},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hidden",{get:function(){return this._hidden},set:function(t){this._hidden=t,this.children.forEach(function(e){return e.hidden=t}),this.grid&&this.grid.columns&&0<this.grid.columns.length&&this.grid.columns.filter(function(e){return e.columnGroup}).forEach(function(e){return e.populateVisibleIndexes()})},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){var t=this;i.prototype.ngAfterContentInit.call(this),this.hidden?this.children.forEach(function(e){return e.hidden=t.hidden}):this.hidden=this.allChildren.some(function(e){return e.hidden}),this.children.forEach(function(e){e.disableHiding=!0,e.disablePinning=!0,e.movable=!1})},Object.defineProperty(e.prototype,"hasLastPinnedChildColumn",{get:function(){return this.children.some(function(e){return e.isLastPinned})},enumerable:!0,configurable:!0}),e.prototype.populateVisibleIndexes=function(){var n=this;this.childrenVisibleIndexes=[];var e=this.gridAPI.grid,i=e&&e.pinnedColumns&&e.unpinnedColumns?e.pinnedColumns.concat(e.unpinnedColumns):[],r=i.filter(function(e){return!e.columnGroup&&!e.hidden}).sort(function(e,t){return e.rowStart-t.rowStart||i.indexOf(e.parent)-i.indexOf(t.parent)||e.colStart-t.colStart});this.children.forEach(function(e){var t,i=e.rowStart||1;t=r.filter(function(e){return!e.columnGroup&&(e.rowStart||1)<=i}).indexOf(e),n.childrenVisibleIndexes.push({column:e,index:t})})},e.decorators=[{type:b.Component,args:[{changeDetection:b.ChangeDetectionStrategy.OnPush,providers:[{provide:zl,useExisting:b.forwardRef(function(){return e})}],selector:"igx-column-layout",template:""}]}],e.propDecorators={hidden:[{type:b.Input}]},e}(Wl),Kl=function(){function e(e){this.valueChanged=new b.EventEmitter,this._propName=e}return Object.defineProperty(e.prototype,"object",{get:function(){return this._object},set:function(e){e&&(this._object=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.object?this.object[this._propName]:null},set:function(e){this.onValueChanged(e)},enumerable:!0,configurable:!0}),e.prototype.onValueChanged=function(e){var t=this.value;e!==t&&(this.object[this._propName]=e,this.valueChanged.emit({oldValue:t,newValue:e}))},e.propDecorators={value:[{type:b.Input}],valueChanged:[{type:b.Output}]},e}(),$l=function(i){function e(e){var t=i.call(this,e)||this;return t.prop=e,t.indentation=30,t}return f(e,i),Object.defineProperty(e.prototype,"column",{get:function(){return this.object},set:function(e){e&&(this.object=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.column?this.column.header?this.column.header:this.column.field:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this.column.level},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"calcIndent",{get:function(){return this.indentation*this.level},enumerable:!0,configurable:!0}),e.propDecorators={column:[{type:b.Input}],indentation:[{type:b.Input}],container:[{type:b.Input}]},e}(Kl),Yl=function(e){function t(){return e.call(this,"hidden")||this}return f(t,e),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.column.disableHiding},enumerable:!0,configurable:!0}),t.decorators=[{type:b.Directive,args:[{selector:"[igxColumnHidingItem]"}]}],t.ctorParameters=function(){return[]},t}($l),Xl={Alphabetical:"Alphabetical",DisplayOrder:"DisplayOrder"},ql=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.filter=function(e,t){var i=this,n=[];return e.forEach(function(e){i.matchRecord(e,t.filteringOperands[0])?n.push(e):e.column.columnGroup&&-1<e.column.allChildren.findIndex(function(e){return i.matchRecord(e,t.filteringOperands[1])||i.matchRecord(e,t.filteringOperands[2])})&&n.push(e)}),n},t}(Di),Zl=function(){function e(e){this.cdr=e,this.disableFilter=!1,this.columnsAreaMaxHeight="100%",this.cssClass="igx-column-hiding",this._currentColumns=[],this._gridColumns=[],this._rawColumns=[],this._columnDisplayOrder=Xl.DisplayOrder,this._filterCriteria="",this._filterColumnsPrompt="",this._title=""}return Object.defineProperty(e.prototype,"columns",{get:function(){return this._gridColumns},set:function(e){e&&(this._gridColumns=e,this.createColumnItems(),this.filterCriteria&&this.filter())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this._title},set:function(e){this._title=e||""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterColumnsPrompt",{get:function(){return this._filterColumnsPrompt},set:function(e){this._filterColumnsPrompt=e||""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnItems",{get:function(){return this._currentColumns},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterCriteria",{get:function(){return this._filterCriteria},set:function(e){if(!e||0===e.length)return this.clearFiltering(),this._filterCriteria="",void this.cdr.detectChanges();this._filterCriteria&&this._filterCriteria.length>e.length&&this.clearFiltering(),this._filterCriteria=e,this.filter(),this.cdr.detectChanges()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnDisplayOrder",{get:function(){return this._columnDisplayOrder},set:function(e){e!==undefined&&(this.orderColumns(e),0<this._filterCriteria.length&&this.filter())},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){var e,t;try{for(var i=S(this._currentColumns),n=i.next();!n.done;n=i.next()){n.value.valueChanged.unsubscribe()}}catch(r){e={error:r}}finally{try{n&&!n.done&&(t=i["return"])&&t.call(i)}finally{if(e)throw e.error}}},e.prototype.createColumnItems=function(){var i=this;0<this._gridColumns.length&&(this._rawColumns=[],this._gridColumns.forEach(function(e){var t=i.createColumnItem(i,e);t&&i._rawColumns.push(t)}),this._currentColumns=this._rawColumns.slice(0),this.orderColumns(this._columnDisplayOrder))},e.prototype.orderColumns=function(e){this._columnDisplayOrder=e,this._currentColumns=e===Xl[Xl.Alphabetical]||e===Xl.Alphabetical?this._rawColumns.slice(0).sort(function(e,t){return e.name.toLowerCase().localeCompare(t.name.toLowerCase())}):this._rawColumns},e.prototype.filter=function(){var e=new Ci(Si.Or);e.filteringOperands.push(this.createFilteringExpression("name")),e.filteringOperands.push(this.createFilteringExpression("field")),e.filteringOperands.push(this.createFilteringExpression("header"));var t=new ql;this._currentColumns=t.filter(this._currentColumns,e)},e.prototype.createFilteringExpression=function(e){return{condition:Ao.instance().condition("contains"),fieldName:e,ignoreCase:!0,searchVal:this._filterCriteria}},e.prototype.clearFiltering=function(){this.createColumnItems()},e.propDecorators={columns:[{type:b.Input}],title:[{type:b.Input}],filterColumnsPrompt:[{type:b.Input}],disableFilter:[{type:b.Input}],columnItems:[{type:b.Input}],filterCriteria:[{type:b.Input}],columnDisplayOrder:[{type:b.Input}],columnsAreaMaxHeight:[{type:b.Input}],cssClass:[{type:b.HostBinding,args:["attr.class"]}]},e}(),Jl=function(i){function e(e){var t=i.call(this,e)||this;return t.cdr=e,t.showAllText="Show All",t.hideAllText="Hide All",t.onColumnVisibilityChanged=new b.EventEmitter,t.destroy$=new x.Subject,t}return f(e,i),Object.defineProperty(e.prototype,"disableHideAll",{get:function(){return!this.columnItems||this.columnItems.length<1||this.hiddenColumnsCount===this.columns.length||(this.hidableColumns.length<1||this.hidableColumns.length===this.hidableColumns.filter(function(e){return e.value}).length)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disableShowAll",{get:function(){return!this.columnItems||this.columnItems.length<1||this.hiddenColumnsCount<1||this.hidableColumns.length<1||this.hidableColumns.length===this.hidableColumns.filter(function(e){return!e.value}).length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hiddenColumnsCount",{get:function(){return this.columns?this.columns.filter(function(e){return e.hidden}).length:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hidableColumns",{get:function(){return this.columnItems.filter(function(e){return!e.disabled})},enumerable:!0,configurable:!0}),e.prototype.createColumnItem=function(e,t){var i=this;if(t.grid.hasColumnLayouts&&!t.columnLayout)return null;var n=new Yl;return n.container=e,n.column=t,n.valueChanged.pipe(p.takeUntil(this.destroy$)).subscribe(function(e){i.onVisibilityChanged({column:n.column,newValue:e.newValue})}),n},e.prototype.showAllColumns=function(){var e,t;try{for(var i=S(this.hidableColumns),n=i.next();!n.done;n=i.next()){n.value.value=!1}}catch(r){e={error:r}}finally{try{n&&!n.done&&(t=i["return"])&&t.call(i)}finally{if(e)throw e.error}}},e.prototype.hideAllColumns=function(){var e,t;try{for(var i=S(this.hidableColumns),n=i.next();!n.done;n=i.next()){n.value.value=!0}}catch(r){e={error:r}}finally{try{n&&!n.done&&(t=i["return"])&&t.call(i)}finally{if(e)throw e.error}}},e.prototype.onVisibilityChanged=function(e){this.onColumnVisibilityChanged.emit(e)},e.prototype.ngOnDestroy=function(){this.destroy$.next(!0),this.destroy$.complete()},e.decorators=[{type:b.Component,args:[{preserveWhitespaces:!1,selector:"igx-column-hiding",template:'<div class="igx-column-hiding__header">\n    <h4 class="igx-column-hiding__header-title" *ngIf="title">{{ title }}</h4>\n\n    <igx-input-group class="igx-column-hiding__header-input" *ngIf="!disableFilter">\n        <input igxInput\n            type="text"\n            [(ngModel)]="filterCriteria"\n            [placeholder]="filterColumnsPrompt"\n            autocomplete="off" />\n    </igx-input-group>\n</div>\n\n<div class="igx-column-hiding__columns"\n    [style.max-height]="columnsAreaMaxHeight">\n    <igx-checkbox\n        *ngFor="let columnItem of hidableColumns"\n        class="igx-column-hiding__columns-item"\n        (onColumnVisibilityChanged)="onVisibilityChanged($event)"\n        (change)="columnItem.value = !columnItem.value"\n        [checked]="columnItem.value"\n        [disabled]="columnItem.disabled"\n        [style.margin-left.px]="columnItem.calcIndent">\n        {{ columnItem.name }}\n    </igx-checkbox>\n</div>\n\n<div class="igx-column-hiding__buttons">\n    <button igxButton igxRipple (click)="showAllColumns()" [disabled]="disableShowAll">{{ showAllText }}</button>\n    <button igxButton igxRipple (click)="hideAllColumns()" [disabled]="disableHideAll">{{ hideAllText }}</button>\n</div>\n'}]}],e.ctorParameters=function(){return[{type:b.ChangeDetectorRef}]},e.propDecorators={disableHideAll:[{type:b.Input}],disableShowAll:[{type:b.Input}],showAllText:[{type:b.Input}],hideAllText:[{type:b.Input}],onColumnVisibilityChanged:[{type:b.Output}]},e}(Zl),Ql=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[Jl,Yl],exports:[Jl],imports:[Vr,wa,Lr,r.CommonModule,o.FormsModule]}]}],e}(),ec=function(e){function t(){return e.call(this,"pinned")||this}return f(t,e),Object.defineProperty(t.prototype,"pinnable",{get:function(){return!(this.column.grid.getUnpinnedWidth(!0)-this.column.width<this.column.grid.unpinnedAreaMinWidth)},enumerable:!0,configurable:!0}),t.decorators=[{type:b.Directive,args:[{selector:"[igxColumnPinningItem]"}]}],t.ctorParameters=function(){return[]},t}($l),tc=function(i){function e(e){var t=i.call(this,e)||this;return t.cdr=e,t}return f(e,i),e.prototype.createColumnItem=function(e,t){if(0!==t.level||t.disablePinning)return null;var i=new ec;return i.container=e,i.column=t,i},e.prototype.checkboxValueChange=function(e,t){if(e.checked&&!t.pinnable)return e.checkbox.checked=!1;t.value=!t.value},e.decorators=[{type:b.Component,args:[{preserveWhitespaces:!1,selector:"igx-column-pinning",template:'\n<div class="igx-column-hiding__header">\n    <h4 class="igx-column-hiding__header-title" *ngIf="title">{{ title }}</h4>\n\n    <igx-input-group class="igx-column-hiding__header-input" *ngIf="!disableFilter">\n        <input igxInput\n            type="text"\n            [(ngModel)]="filterCriteria"\n            [placeholder]="filterColumnsPrompt"\n            autocomplete="off" />\n    </igx-input-group>\n</div>\n\n<div class="igx-column-hiding__columns"\n    [style.max-height]="columnsAreaMaxHeight">\n    <igx-checkbox igxColumnPinningItem\n        *ngFor="let columnItem of columnItems"\n        class="igx-column-hiding__columns-item"\n        (change)="checkboxValueChange($event, columnItem)"\n        [checked]="columnItem.value">\n        {{ columnItem.name }}\n    </igx-checkbox>\n</div>\n'}]}],e.ctorParameters=function(){return[{type:b.ChangeDetectorRef}]},e}(Zl),ic=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[tc,ec],exports:[tc],imports:[wa,Lr,r.CommonModule,o.FormsModule]}]}],e}(),nc=function(s){function e(e,t,i,n,r){var o=s.call(this,r)||this;return o.gridAPI=e,o.cdr=t,o.excelExporter=i,o.csvExporter=n,o._displayDensityOptions=r,o._filterColumnsPrompt="Filter columns list ...",o._positionSettings={horizontalDirection:gn.Left,horizontalStartPoint:gn.Right,verticalDirection:fn.Bottom,verticalStartPoint:fn.Bottom},o._overlaySettings={positionStrategy:new On(o._positionSettings),scrollStrategy:new kn,modal:!1,closeOnOutsideClick:!0,excludePositionTarget:!0},o}return f(e,s),Object.defineProperty(e.prototype,"filterColumnsPrompt",{get:function(){return this._filterColumnsPrompt},set:function(e){this._filterColumnsPrompt=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultDropDownsMaxHeight",{get:function(){var e=this.grid.calcHeight;return e?.7*e+"px":"100%"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){return this.gridAPI.grid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shouldShowExportButton",{get:function(){return null!=this.grid&&(this.grid.exportExcel||this.grid.exportCsv)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shouldShowExportExcelButton",{get:function(){return null!=this.grid&&this.grid.exportExcel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shouldShowExportCsvButton",{get:function(){return null!=this.grid&&this.grid.exportCsv},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pinnedColumnsCount",{get:function(){return this.grid.pinnedColumns.filter(function(e){return!e.columnLayout}).length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hostClass",{get:function(){return this.getComponentDensityClass("igx-grid-toolbar")},enumerable:!0,configurable:!0}),e.prototype.getTitle=function(){return null!=this.grid?this.grid.toolbarTitle:""},e.prototype.getExportText=function(){return null!=this.grid?this.grid.exportText:""},e.prototype.getExportExcelText=function(){return null!=this.grid?this.grid.exportExcelText:""},e.prototype.getExportCsvText=function(){return null!=this.grid?this.grid.exportCsvText:""},e.prototype.exportClicked=function(){this._overlaySettings.positionStrategy.settings.target=this.exportButton.nativeElement,this._overlaySettings.outlet=this.grid.outletDirective,this.exportDropdown.toggle(this._overlaySettings)},e.prototype.exportToExcelClicked=function(){this.performExport(this.excelExporter,"excel")},e.prototype.exportToCsvClicked=function(){this.performExport(this.csvExporter,"csv")},e.prototype.performExport=function(e,t){this.exportClicked();var i="ExportedData",n="excel"===t?new hn(i):new Fi(i,Mi.CSV),r={grid:this.grid,exporter:e,options:n,cancel:!1};this.grid.onToolbarExporting.emit(r),r.cancel||e["export"](this.grid,n)},e.prototype.toggleColumnHidingUI=function(){this._overlaySettings.positionStrategy.settings.target=this.columnHidingButton.nativeElement,this._overlaySettings.outlet=this.grid.outletDirective,this.columnHidingDropdown.toggle(this._overlaySettings)},e.prototype.toggleColumnPinningUI=function(){this._overlaySettings.positionStrategy.settings.target=this.columnPinningButton.nativeElement,this._overlaySettings.outlet=this.grid.outletDirective,this.columnPinningDropdown.toggle(this._overlaySettings)},Object.defineProperty(e.prototype,"context",{get:function(){return{grid:this.grid,toolbar:this}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"customContentTemplate",{get:function(){return null!=this.grid&&null!=this.grid.toolbarCustomContentTemplate?this.grid.toolbarCustomContentTemplate.template:null},enumerable:!0,configurable:!0}),e.decorators=[{type:b.Component,args:[{selector:"igx-grid-toolbar",template:'<span class="igx-grid-toolbar__title" *ngIf="getTitle()">\n    {{ getTitle() }}\n</span>\n\n<div class="igx-grid-toolbar__custom-content" *ngIf="customContentTemplate != null">\n    <ng-container *ngTemplateOutlet="customContentTemplate; context: context">\n    </ng-container>\n</div>\n\n<div class="igx-grid-toolbar__actions">\n    <div *ngIf="grid.columnHiding">\n        <button igxButton="flat" [displayDensity]="grid.displayDensity" #columnHidingButton name="btnColumnHiding" igxButton igxRipple\n            (click)="toggleColumnHidingUI()">\n            <div  class="igx-grid-toolbar__button-space">\n                <igx-icon *ngIf="grid.hiddenColumnsCount > 0">visibility_off</igx-icon>\n                <igx-icon *ngIf="grid.hiddenColumnsCount === 0">visibility</igx-icon>\n                <span>{{ grid.hiddenColumnsCount }}</span>\n                <span>{{ grid.hiddenColumnsText }}</span>\n            </div>\n        </button>\n        <igx-drop-down #columnHidingDropdown>\n            <igx-column-hiding\n                [columns]="grid.columns"\n                [title]="grid.columnHidingTitle"\n                [filterColumnsPrompt]="filterColumnsPrompt"\n                [columnsAreaMaxHeight]="defaultDropDownsMaxHeight"\n                (onColumnVisibilityChanged)="grid.toggleColumnVisibility($event)">\n            </igx-column-hiding>\n        </igx-drop-down>\n    </div>\n    <div *ngIf="grid.columnPinning">\n        <button igxButton="flat" [displayDensity]="grid.displayDensity" #columnPinningButton name="btnColumnPinning" igxButton igxRipple\n            (click)="toggleColumnPinningUI()">\n            <div  class="igx-grid-toolbar__button-space">\n                <igx-icon *ngIf="pinnedColumnsCount > 0">lock</igx-icon>\n                <igx-icon *ngIf="pinnedColumnsCount === 0">lock_open</igx-icon>\n                <span>{{ pinnedColumnsCount }}</span>\n                <span>{{ grid.pinnedColumnsText }}</span>\n                <span></span>\n            </div>\n        </button>\n        <igx-drop-down #columnPinningDropdown>\n            <igx-column-pinning\n                [columns]="grid.columns"\n                [title]="grid.columnPinningTitle"\n                [filterColumnsPrompt]="filterColumnsPrompt"\n                [columnsAreaMaxHeight]="defaultDropDownsMaxHeight"></igx-column-pinning>\n        </igx-drop-down>\n    </div>\n\n\n    <div class="igx-grid-toolbar__dropdown" *ngIf="shouldShowExportButton" id="btnExport">\n        <button igxButton="flat" [displayDensity]="grid.displayDensity" igxRipple #btnExport\n                (click)="exportClicked()">\n            <span class="igx-grid-toolbar__button-space">\n                <igx-icon fontSet="material">import_export</igx-icon>\n                <span>{{ getExportText() }}</span>\n                <igx-icon fontSet="material">arrow_drop_down</igx-icon>\n            </span>\n        </button>\n\n        <igx-drop-down #exportDropdown>\n            <ul class="igx-grid-toolbar__dd-list">\n                <li class="igx-grid-toolbar__dd-list-items" igxRipple *ngIf="shouldShowExportExcelButton" id="btnExportExcel"\n                (click)="exportToExcelClicked()">{{ getExportExcelText() }}</li>\n                <li class="igx-grid-toolbar__dd-list-items" igxRipple *ngIf="shouldShowExportCsvButton" id="btnExportCsv"\n                (click)="exportToCsvClicked()">{{ getExportCsvText() }}</li>\n            </ul>\n        </igx-drop-down>\n    </div>\n</div>\n'}]}],e.ctorParameters=function(){return[{type:_i},{type:b.ChangeDetectorRef},{type:dn,decorators:[{type:b.Optional}]},{type:Vi,decorators:[{type:b.Optional}]},{type:undefined,decorators:[{type:b.Optional},{type:b.Inject,args:[tr]}]}]},e.propDecorators={gridID:[{type:b.HostBinding,args:["class.igx-grid-toolbar"]},{type:b.Input}],filterColumnsPrompt:[{type:b.Input}],defaultDropDownsMaxHeight:[{type:b.Input}],columnHidingDropdown:[{type:b.ViewChild,args:["columnHidingDropdown",{read:fr}]}],columnHidingUI:[{type:b.ViewChild,args:[Jl]}],columnHidingButton:[{type:b.ViewChild,args:["columnHidingButton"]}],exportDropdown:[{type:b.ViewChild,args:["exportDropdown",{read:fr}]}],exportButton:[{type:b.ViewChild,args:["btnExport"]}],columnPinningDropdown:[{type:b.ViewChild,args:["columnPinningDropdown",{read:fr}]}],columnPinningUI:[{type:b.ViewChild,args:[tc]}],columnPinningButton:[{type:b.ViewChild,args:["columnPinningButton"]}],hostClass:[{type:b.HostBinding,args:["attr.class"]}]},e}(ir),rc=function(){function e(e){this.template=e}return e.decorators=[{type:b.Directive,args:[{selector:"[igxToolbarCustomContent]"}]}],e.ctorParameters=function(){return[{type:b.TemplateRef}]},e}(),oc=function(){function e(e,t,i,n){this.gridAPI=e,this.gridSelection=t,this.element=i,this.cdr=n,this.defaultCssClass="igx-grid__group-row",this.paddingIndentationCssClass="igx-grid__group-row--padding-level",this.isFocused=!1,this.tabindex=0}return Object.defineProperty(e.prototype,"focused",{get:function(){return this.isFocused},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"expanded",{get:function(){return this.grid.isExpandedGroup(this.groupRow)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"describedBy",{get:function(){var e=this.groupRow.expression!==undefined?this.groupRow.expression.fieldName:"";return this.gridID+"_"+e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataRowIndex",{get:function(){return this.index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.element.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"styleClasses",{get:function(){return this.defaultCssClass+" "+this.paddingIndentationCssClass+"-"+this.groupRow.level+(this.focused?" "+this.defaultCssClass+"--active":"")},enumerable:!0,configurable:!0}),e.prototype.onFocus=function(){this.isFocused=!0},e.prototype.onBlur=function(){this.isFocused=!1},e.prototype.toggle=function(){var e=!this.grid.verticalScrollContainer.dc.instance.notVirtual,t=this.index;if(this.grid.toggleGroup(this.groupRow),e){var i=this.grid.nativeElement.querySelector('[data-rowIndex="'+t+'"]');i&&i.focus()}},Object.defineProperty(e.prototype,"selectionNode",{get:function(){return{row:this.index,column:this.gridSelection.activeElement?this.gridSelection.activeElement.column:0}},enumerable:!0,configurable:!0}),e.prototype.onKeydown=function(e){var t=e.key.toLowerCase();if(gi.has(t)){e.stopPropagation();var i={targetType:"groupRow",target:this,event:e,cancel:!1};if(this.grid.onGridKeydown.emit(i),!i.cancel&&(e.preventDefault(),this.isKeySupportedInGroupRow(t,e.shiftKey,e.altKey)&&!e.ctrlKey))if(this.isToggleKey(t,e.altKey))(this.expanded&&hi.has(t)||!this.expanded&&di.has(t))&&this.toggle();else{var n={cell:this,groupRow:null,event:e,cancel:!1};if(this.grid._onFocusChange.emit(n),!n.cancel){var r=this.gridSelection;r.keyboardState.shift=e.shiftKey&&!("tab"===t);r.activeElement&&-1!==this.grid.columnList.filter(function(e){return!e.hidden}).map(function(e){return e.visibleIndex}).indexOf(r.activeElement.column)&&r.activeElement.column;var o=r.activeElement?Object.assign({},r.activeElement):this.selectionNode;switch(o.row=this.index,t){case"arrowdown":case"down":this.grid.navigation.navigateDown(this.nativeElement,o);break;case"arrowup":case"up":this.grid.navigation.navigateUp(this.nativeElement,o);break;case"tab":this.handleTabKey(e.shiftKey,o)}}}}},Object.defineProperty(e.prototype,"grid",{get:function(){return this.gridAPI.grid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataType",{get:function(){return this.grid.getColumnByName(this.groupRow.expression.fieldName).dataType},enumerable:!0,configurable:!0}),e.prototype.handleTabKey=function(e,t){if(e)this.grid.navigation.performShiftTabKey(this.nativeElement,t);else if(this.index===this.grid.verticalScrollContainer.igxForOf.length-1&&this.grid.rootSummariesEnabled)this.grid.navigation.onKeydownHome(0,!0);else{var i=this.grid.navigation.gridOrderedColumns,n=i[i.length-1];t.column=n.columnLayoutChild?n.parent.visibleIndex:n.visibleIndex,this.grid.navigation.performTab(this.nativeElement,t)}},e.prototype.isKeySupportedInGroupRow=function(e,t,i){return void 0===t&&(t=!1),void 0===i&&(i=!1),t?-1!==["down","up","arrowdown","arrowup","tab"].indexOf(e):!!this.isToggleKey(e,i)||-1!==["down","up","arrowdown","arrowup","tab"].indexOf(e)},e.prototype.isToggleKey=function(e,t){return t&&-1!==["left","right","up","down","arrowleft","arrowright","arrowup","arrowdown"].indexOf(e)},e.decorators=[{type:b.Component,args:[{changeDetection:b.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-grid-groupby-row",template:'<ng-container #defaultGroupRow>\n    <div (click)="toggle()" class="igx-grid__grouping-indicator">\n        <igx-icon *ngIf="!expanded" fontSet="material">expand_more</igx-icon>\n        <igx-icon *ngIf="expanded" fontSet="material">expand_less</igx-icon>\n    </div>\n\n    <div class="igx-grid__group-content" #groupContent>\n        <ng-container *ngTemplateOutlet="grid.groupRowTemplate ? grid.groupRowTemplate : defaultGroupByTemplate; context: { $implicit: groupRow }">\n        </ng-container>\n    </div>\n\n    <ng-template #defaultGroupByTemplate>\n        <div class="igx-group-label">\n            <igx-icon fontSet="material" class="igx-group-label__icon">group_work</igx-icon>\n            <span class="igx-group-label__column-name">\n            {{ groupRow.expression ? groupRow.expression.fieldName : \'\' }}:\n            </span>\n\n            <ng-container *ngIf="dataType === \'boolean\' || dataType === \'string\'; else default" >\n                <span class="igx-group-label__text">{{ groupRow.value }}</span>\n            </ng-container>\n            <ng-template #default>\n                <ng-container *ngIf="dataType === \'number\'">\n                    <span class="igx-group-label__text">{{ groupRow.value | number }}</span>\n                </ng-container>\n                <ng-container *ngIf="dataType === \'date\'">\n                    <span class="igx-group-label__text">{{ groupRow.value | date }}</span>\n                </ng-container>\n            </ng-template>\n\n            <igx-badge [value]="groupRow.records ? groupRow.records.length : 0" class=\'igx-group-label__count-badge\'></igx-badge>\n        </div>\n    </ng-template>\n</ng-container>\n'}]}],e.ctorParameters=function(){return[{type:_i},{type:bl},{type:b.ElementRef},{type:b.ChangeDetectorRef}]},e.propDecorators={isFocused:[{type:b.Input}],index:[{type:b.Input}],gridID:[{type:b.Input}],groupRow:[{type:b.Input}],groupContent:[{type:b.ViewChild,args:["groupContent"]}],expanded:[{type:b.HostBinding,args:["attr.aria-expanded"]}],tabindex:[{type:b.HostBinding,args:["attr.tabindex"]}],describedBy:[{type:b.HostBinding,args:["attr.aria-describedby"]}],dataRowIndex:[{type:b.HostBinding,args:["attr.data-rowIndex"]}],styleClasses:[{type:b.HostBinding,args:["class"]}],onFocus:[{type:b.HostListener,args:["focus"]}],onBlur:[{type:b.HostListener,args:["blur"]}],onKeydown:[{type:b.HostListener,args:["keydown",["$event"]]}]},e}(),sc="left",ac="right",lc=function(){function e(){}return Object.defineProperty(e.prototype,"displayContainerWidth",{get:function(){return Math.round(this.grid.parentVirtDir.dc.instance._viewContainer.element.nativeElement.offsetWidth)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayContainerScrollLeft",{get:function(){return Math.round(this.grid.parentVirtDir.getHorizontalScroll().scrollLeft)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalDisplayContainerElement",{get:function(){return this.grid.verticalScrollContainer.dc.instance._viewContainer.element.nativeElement},enumerable:!0,configurable:!0}),e.prototype.horizontalScroll=function(t){var e=this.grid.dataRowList.find(function(e){return e.index===t})?this.grid.dataRowList.find(function(e){return e.index===t}):this.grid.dataRowList.first;return e||(e=this.grid.summariesRowList.find(function(e){return e.index===t})),e.virtDirRow},e.prototype.getColumnUnpinnedIndex=function(t){var e=this.grid.unpinnedColumns.find(function(e){return!e.columnGroup&&e.visibleIndex===t});return this.grid.pinnedColumns.length?this.grid.unpinnedColumns.filter(function(e){return!e.columnGroup}).indexOf(e):t},e.prototype.isColumnFullyVisible=function(t){var e,i=(e=0<this.grid.dataRowList.length?this.grid.dataRowList.first.virtDirRow:this.grid.headerContainer).getHorizontalScroll(),n=this.grid.columnList.filter(function(e){return!e.columnGroup}).find(function(e){return e.visibleIndex===t});if(!i.clientWidth||n.pinned)return!0;var r=this.getColumnUnpinnedIndex(t);return this.displayContainerWidth>=e.getColumnScrollLeft(r+1)-this.displayContainerScrollLeft},e.prototype.isColumnLeftFullyVisible=function(t){var e,i=(e=0<this.grid.dataRowList.length?this.grid.dataRowList.first.virtDirRow:this.grid.headerContainer).getHorizontalScroll(),n=this.grid.columnList.filter(function(e){return!e.columnGroup}).find(function(e){return e.visibleIndex===t});if(!i.clientWidth||n.pinned)return!0;var r=this.getColumnUnpinnedIndex(t);return this.displayContainerScrollLeft<=e.getColumnScrollLeft(r)},Object.defineProperty(e.prototype,"gridOrderedColumns",{get:function(){return _(this.grid.pinnedColumns,this.grid.unpinnedColumns).filter(function(e){return!e.columnGroup})},enumerable:!0,configurable:!0}),e.prototype.isRowInEditMode=function(e){return this.grid.rowEditable&&this.grid.rowInEditMode&&this.grid.rowInEditMode.index===e},e.prototype.findNextEditable=function(e,t){var i=this.gridOrderedColumns,n=t,r=0,o=0,s=-1;e===sc?(r=0,o=-1):e===ac&&(r=i.length-1,o=1);for(var a=n;a*o<=r;a+=o){if(i[a].editable){s=a;break}}return s},e.prototype.getCellElementByVisibleIndex=function(e,t,i){void 0===i&&(i=!1);var n=this.getCellSelector(t,i);return this.grid.nativeElement.querySelector(n+'[data-rowindex="'+e+'"][data-visibleIndex="'+t+'"]')},e.prototype.onKeydownArrowRight=function(e,t){var i=t.row,n=t.column,r=t.isSummaryRow;this.grid.unpinnedColumns[this.grid.unpinnedColumns.length-1].visibleIndex!==n&&(this.isColumnFullyVisible(n+1)?e.classList.contains("igx-grid__td--pinned-last")||e.classList.contains("igx-grid-summary--pinned-last")?this.isColumnLeftFullyVisible(n+1)?e.nextElementSibling.firstElementChild.focus({preventScroll:!0}):(this.grid.nativeElement.focus({preventScroll:!0}),this.grid.parentVirtDir.onChunkLoad.pipe(p.first()).subscribe(function(){e.nextElementSibling.firstElementChild.focus({preventScroll:!0})}),this.horizontalScroll(i).scrollTo(0)):e.nextElementSibling.focus({preventScroll:!0}):this.performHorizontalScrollToCell(i,n+1,r))},e.prototype.onKeydownArrowLeft=function(e,t){var i=t.row,n=t.column,r=t.isSummaryRow;if(0!==n){var o=this.getColumnUnpinnedIndex(n-1);!e.previousElementSibling&&this.grid.pinnedColumns.length&&-1===o?e.parentNode.previousElementSibling.focus({preventScroll:!0}):this.isColumnLeftFullyVisible(n-1)?e.previousElementSibling.focus({preventScroll:!0}):this.performHorizontalScrollToCell(i,n-1,r)}},e.prototype.movePreviousEditable=function(e,t){var i=this.findNextEditable(sc,t-1);-1===i&&this.grid.rowEditTabs.length?this.grid.rowEditTabs.last.element.nativeElement.focus():this.focusNextEditableTarget(e,i)},e.prototype.moveNextEditable=function(e,t){var i=this.findNextEditable(ac,t+1);-1===i&&this.grid.rowEditTabs.length?this.grid.rowEditTabs.first.element.nativeElement.focus():this.focusNextEditableTarget(e,i)},e.prototype.focusNextEditableTarget=function(e,t){this.isColumnFullyVisible(t)&&this.isColumnLeftFullyVisible(t)?this.getCellElementByVisibleIndex(e,t).focus():this.performHorizontalScrollToCell(e,t)},e.prototype.onKeydownHome=function(t,e){void 0===e&&(e=!1);var i=(e?this.grid.summariesRowList:this.grid.dataRowList).find(function(e){return e.index===t}),n=this.getCellSelector(0,e);if(i){var r=(i=i.nativeElement).querySelector(n);this.grid.pinnedColumns.length||0===this.displayContainerScrollLeft?r.focus({preventScroll:!0}):(this.grid.nativeElement.focus({preventScroll:!0}),this.grid.parentVirtDir.onChunkLoad.pipe(p.first()).subscribe(function(){(r=i.querySelector(n)).focus({preventScroll:!0})}),this.horizontalScroll(t).scrollTo(0))}},e.prototype.onKeydownEnd=function(t,i){var n=this;void 0===i&&(i=!1);var e=this.grid.unpinnedColumns[this.grid.unpinnedColumns.length-1].visibleIndex,r=(i?this.grid.summariesRowList:this.grid.dataRowList).find(function(e){return e.index===t});if(r)if(r=r.nativeElement,this.isColumnFullyVisible(e)){var o=r.querySelectorAll(this.getCellSelector(-1,i));o[o.length-1].focus({preventScroll:!0})}else this.grid.nativeElement.focus({preventScroll:!0}),this.grid.parentVirtDir.onChunkLoad.pipe(p.first()).subscribe(function(){var e=r.querySelectorAll(n.getCellSelector(-1,i));e[e.length-1].focus({preventScroll:!0})}),this.horizontalScroll(t).scrollTo(this.getColumnUnpinnedIndex(e))},e.prototype.navigateTop=function(t){var i=this,e=this.grid.verticalScrollContainer.getVerticalScroll(),n=this.getCellSelector(t);0===e.scrollTop?this.grid.nativeElement.querySelectorAll(n+'[data-visibleIndex="'+t+'"]')[0].focus():(this.grid.nativeElement.focus({preventScroll:!0}),this.grid.verticalScrollContainer.scrollTo(0),this.grid.verticalScrollContainer.onChunkLoad.pipe(p.first()).subscribe(function(){var e=i.grid.nativeElement.querySelectorAll(n+'[data-visibleIndex="'+t+'"]');0<e.length&&e[0].focus()}))},e.prototype.navigateBottom=function(t){var i=this,e=this.grid.verticalScrollContainer.getVerticalScroll(),n=this.getCellSelector(t);if(0===e.scrollHeight||e.scrollTop===e.scrollHeight-this.grid.verticalScrollContainer.igxForContainerSize){var r=this.grid.nativeElement.querySelectorAll(n+'[data-visibleIndex="'+t+'"]');r[r.length-1].focus()}else this.grid.nativeElement.focus({preventScroll:!0}),this.grid.verticalScrollContainer.scrollTo(this.grid.verticalScrollContainer.igxForOf.length-1),this.grid.verticalScrollContainer.onChunkLoad.pipe(p.first()).subscribe(function(){var e=i.grid.nativeElement.querySelectorAll(n+'[data-visibleIndex="'+t+'"]');0<e.length&&e[e.length-1].focus()})},e.prototype.navigateUp=function(i,e){var n=this,r=e.row,o=e.column;if(0!==r){var t=parseInt(this.verticalDisplayContainerElement.style.top,10);!i.previousElementSibling||i.previousElementSibling.offsetTop<Math.abs(t)?(this.grid.nativeElement.focus({preventScroll:!0}),this.grid.verticalScrollContainer.scrollTo(r-1),this.grid.verticalScrollContainer.onChunkLoad.pipe(p.first()).subscribe(function(){var e=i.tagName.toLowerCase(),t=n.getRowSelector();i=e===t||"igx-grid-summary-row"===e?n.getRowByIndex(r,e):n.grid.nativeElement.querySelector('igx-grid-groupby-row[data-rowindex="'+r+'"]'),n.focusPreviousElement(i,o)})):this.focusPreviousElement(i,o)}},e.prototype.focusPreviousElement=function(e,t){this.focusElem(e.previousElementSibling,t)},e.prototype.navigateDown=function(e,t){var i=this,n=t.row,r=t.column;if(n!==this.grid.verticalScrollContainer.igxForOf.length-1&&(0!==n||"igx-grid-summary-row"!==e.tagName.toLowerCase())){var o=this.grid.verticalScrollContainer.getSizeAt(n+1),s=this.grid.calcHeight?Math.ceil(this.grid.calcHeight):0,a=e.nextElementSibling?e.nextElementSibling.offsetTop+o+parseInt(this.verticalDisplayContainerElement.style.top,10):s+o;if(this.grid.nativeElement.focus({preventScroll:!0}),s&&s<a){var l=n+1;this.grid.verticalScrollContainer.scrollTo(l),this.grid.verticalScrollContainer.onChunkLoad.pipe(p.first()).subscribe(function(){e=i.getNextRowByIndex(l),i.focusElem(e,r)})}else this.focusNextElement(e,r)}},e.prototype.focusElem=function(e,t){if("igx-grid-groupby-row"===e.tagName.toLowerCase())e.focus();else{var i="igx-grid-summary-row"===e.tagName.toLowerCase();if(this.isColumnFullyVisible(t)&&this.isColumnLeftFullyVisible(t)){var n=this.getCellSelector(t,i),r=e.querySelector(n+'[data-visibleIndex="'+t+'"]');return r.focus(),r}this.performHorizontalScrollToCell(parseInt(e.getAttribute("data-rowindex"),10),t,i)}},e.prototype.focusNextElement=function(e,t){return this.focusElem(e.nextElementSibling,t)},e.prototype.goToFirstCell=function(){var e=this,t=this.grid.verticalScrollContainer.getVerticalScroll(),i=this.grid.dataRowList.first.virtDirRow.getHorizontalScroll();0===t.scrollTop?this.onKeydownHome(this.grid.dataRowList.first.index):!i.clientWidth||parseInt(i.scrollLeft,10)<=1||this.grid.pinnedColumns.length?this.navigateTop(0):(this.grid.nativeElement.focus({preventScroll:!0}),this.horizontalScroll(this.grid.dataRowList.first.index).scrollTo(0),this.grid.parentVirtDir.onChunkLoad.pipe(p.first()).subscribe(function(){e.navigateTop(0)}))},e.prototype.goToLastCell=function(){var i=this,e=this.grid.verticalScrollContainer.getVerticalScroll();if(0===e.scrollHeight||e.scrollTop===e.scrollHeight-this.grid.verticalScrollContainer.igxForContainerSize){var t=this.getAllRows(),n=parseInt(t[t.length-1].getAttribute("data-rowIndex"),10);this.onKeydownEnd(n)}else this.grid.nativeElement.focus({preventScroll:!0}),this.grid.verticalScrollContainer.scrollTo(this.grid.verticalScrollContainer.igxForOf.length-1),this.grid.verticalScrollContainer.onChunkLoad.pipe(p.first()).subscribe(function(){var e=i.getAllRows();if(0<e.length){var t=parseInt(e[e.length-1].getAttribute("data-rowIndex"),10);i.onKeydownEnd(t)}})},e.prototype.goToLastBodyElement=function(){var n=this,e=this.grid.verticalScrollContainer.getVerticalScroll();if(0===e.scrollHeight||e.scrollTop===e.scrollHeight-this.grid.verticalScrollContainer.igxForContainerSize){var t=this.grid.verticalScrollContainer.igxForOf.length-1,i=this.grid.nativeElement.querySelector('[data-rowindex="'+t+'"]');if(i&&"igx-grid-groupby-row"===i.tagName.toLowerCase())return void i.focus();var r=!(!i||"igx-grid-summary-row"!==i.tagName.toLowerCase());this.onKeydownEnd(t,r)}else this.grid.verticalScrollContainer.scrollTo(this.grid.verticalScrollContainer.igxForOf.length-1),this.grid.verticalScrollContainer.onChunkLoad.pipe(p.first()).subscribe(function(){var e=n.grid.verticalScrollContainer.igxForOf.length-1,t=n.grid.nativeElement.querySelector('[data-rowindex="'+e+'"]');if(t&&"igx-grid-groupby-row"===t.tagName.toLowerCase())t.focus();else{var i=!(!t||"igx-grid-summary-row"!==t.tagName.toLowerCase());n.onKeydownEnd(e,i)}})},e.prototype.performTab=function(e,t){var i=t.row,n=t.column,r=t.isSummaryRow;if(!r||0!==i||this.grid.unpinnedColumns[this.grid.unpinnedColumns.length-1].visibleIndex!==n)if(this.grid.unpinnedColumns[this.grid.unpinnedColumns.length-1].visibleIndex===n){if(this.isRowInEditMode(i)&&this.grid.rowEditTabs.length)return void this.grid.rowEditTabs.first.element.nativeElement.focus();var o=this.grid.rowList.find(function(e){return e.index===i+1})?this.grid.rowList.find(function(e){return e.index===i+1}):this.grid.summariesRowList.find(function(e){return e.index===i+1});if(i===this.grid.verticalScrollContainer.igxForOf.length-1&&this.grid.rootSummariesEnabled)return void this.onKeydownHome(0,!0);o&&this.navigateDown(e,{row:i,column:0})}else{var s=this.getCellElementByVisibleIndex(i,n,r);if(s){if(this.grid.rowEditable&&this.isRowInEditMode(i))return void this.moveNextEditable(i,n);this.onKeydownArrowRight(s,t)}}},e.prototype.moveFocusToFilterCell=function(e){if(this.grid.filteringService.isFilterRowVisible)this.grid.filteringService.focusFilterRowCloseButton();else{var t=this.grid.filteringService.unpinnedFilterableColumns,i=e?0:t.length-1,n=t[i].visibleIndex;(e?this.isColumnLeftFullyVisible(n):this.isColumnFullyVisible(n))?this.grid.filteringService.focusFilterCellChip(t[i],!1):this.grid.filteringService.scrollToFilterCell(t[i],!1)}},e.prototype.navigatePrevFilterCell=function(e,t){var i=this.grid.filteringService.unpinnedFilterableColumns,n=i.indexOf(e)-1,r=e.visibleIndex;if(0===r||n<0){var o=this.getFirstPinnedFilterableColumn();o&&e!==o||t.preventDefault()}else{var s=i[n],a=s.visibleIndex;0<=n&&0<r&&!this.isColumnLeftFullyVisible(a)&&!e.pinned&&(t.preventDefault(),this.grid.filteringService.scrollToFilterCell(s,!1))}},e.prototype.navigateFirstCellIfPossible=function(e){if(0<this.grid.rowList.length){if(0<this.grid.rowList.filter(function(e){return e instanceof oc}).length)return void e.stopPropagation();this.goToFirstCell()}else this.grid.rootSummariesEnabled&&this.onKeydownHome(0,!0);e.preventDefault()},e.prototype.navigateNextFilterCell=function(e,t){var i=this.grid.filteringService.unpinnedFilterableColumns,n=i.indexOf(e)+1;if(n>=this.grid.filteringService.unpinnedFilterableColumns.length)this.navigateFirstCellIfPossible(t);else{var r=i[n],o=r.visibleIndex;e.pinned||this.isColumnFullyVisible(o)?e!==this.getLastPinnedFilterableColumn()||this.isColumnFullyVisible(o)||(this.grid.filteringService.scrollToFilterCell(r,!1),t.stopPropagation()):(t.preventDefault(),this.grid.filteringService.scrollToFilterCell(r,!0))}},e.prototype.getLastPinnedFilterableColumn=function(){var e=this.grid.pinnedColumns.filter(function(e){return!e.columnGroup&&e.filterable});return e[e.length-1]},e.prototype.getFirstPinnedFilterableColumn=function(){return this.grid.pinnedColumns.filter(function(e){return!e.columnGroup&&e.filterable})[0]},e.prototype.performShiftTabKey=function(e,t){var i=t.row,n=t.column,r=t.isSummaryRow;if(r&&0===i&&0===n&&this.grid.rowList.length)this.goToLastBodyElement();else if(0===n){if(this.isRowInEditMode(i)&&this.grid.rowEditTabs.length)return void this.grid.rowEditTabs.last.element.nativeElement.focus();0===i&&this.grid.allowFiltering&&this.grid.filterMode===$c.quickFilter?this.moveFocusToFilterCell():this.navigateUp(e,{row:i,column:this.grid.unpinnedColumns[this.grid.unpinnedColumns.length-1].visibleIndex})}else{var o=this.getCellElementByVisibleIndex(i,n,r);if(o){if(this.grid.rowEditable&&this.isRowInEditMode(i))return void this.movePreviousEditable(i,n);this.onKeydownArrowLeft(o,t)}}},e.prototype.shouldPerformVerticalScroll=function(t,e){var i=parseInt(this.verticalDisplayContainerElement.style.top,10),n=this.grid.summariesRowList.filter(function(e){return 0!==e.index}).concat(this.grid.rowList.toArray()).find(function(e){return e.index===t}),r=this.grid.verticalScrollContainer.getSizeAt(t),o=this.grid.calcHeight?Math.ceil(this.grid.calcHeight):0,s=n?n.nativeElement.offsetTop+r+i:o+r;return!!(!n||n.nativeElement.offsetTop<Math.abs(i)||o&&o<s)},e.prototype.performVerticalScrollToCell=function(e,t,i){this.grid.verticalScrollContainer.scrollTo(e),this.grid.verticalScrollContainer.onChunkLoad.pipe(p.first()).subscribe(function(){i()})},e.prototype.performHorizontalScrollToCell=function(e,t,i,n){var r=this;void 0===i&&(i=!1);var o=this.getColumnUnpinnedIndex(t);this.grid.nativeElement.focus({preventScroll:!0}),this.grid.parentVirtDir.onChunkLoad.pipe(p.first()).subscribe(function(){n?n():r.getCellElementByVisibleIndex(e,t,i).focus({preventScroll:!0})}),this.horizontalScroll(e).scrollTo(o)},e.prototype.getRowByIndex=function(e,t){return void 0===t&&(t=this.getRowSelector()),this.grid.nativeElement.querySelector(t+'[data-rowindex="'+e+'"]')},e.prototype.getNextRowByIndex=function(e){return this.grid.tbody.nativeElement.querySelector('[data-rowindex="'+e+'"]')},e.prototype.getAllRows=function(){var e=this.getRowSelector();return this.grid.nativeElement.querySelectorAll(e)},e.prototype.getCellSelector=function(e,t){return void 0===t&&(t=!1),t?"igx-grid-summary-cell":"igx-grid-cell"},e.prototype.getRowSelector=function(){return"igx-grid-row"},e.decorators=[{type:b.Injectable}],e}(),cc=function(){function e(){}return e.decorators=[{type:b.Directive,args:[{selector:"[igxRowEdit]"}]}],e}(),pc=function(){function e(){}return e.decorators=[{type:b.Directive,args:[{selector:"[igxRowEditText]"}]}],e}(),uc=function(){function e(){}return e.decorators=[{type:b.Directive,args:[{selector:"[igxRowEditActions]"}]}],e}(),dc=function(){function e(e,t,i){this.element=t,this.grid=e,this.navigationService=i,this.navigationService.grid=e}return Object.defineProperty(e.prototype,"allTabs",{get:function(){return this.grid.rowEditTabs},enumerable:!0,configurable:!0}),e.prototype.handleTab=function(e){e.stopPropagation(),1<this.allTabs.length?(this.allTabs.last===this&&!e.shiftKey||this.allTabs.first===this&&e.shiftKey)&&this.move(e):this.move(e)},e.prototype.focusNextCell=function(e,t){var i=this.grid;i.parentVirtDir.onChunkLoad.pipe(p.first(),p.tap(function(){return i.markForCheck()})).subscribe(function(){i.rowInEditMode.cells.find(function(e){return e.visibleColumnIndex===t}).element.nativeElement.focus()})},e.prototype.move=function(e){e.preventDefault();var t=this.grid.parentVirtDir.getHorizontalScroll(),i=e.shiftKey?this.grid.lastEditableColumnIndex:this.grid.firstEditableColumnIndex,n=this.grid.rowInEditMode.cells.find(function(e){return e.visibleColumnIndex===i}),r=this.grid.hasColumnLayouts?n.column.parent.visibleIndex:i;n&&this.navigationService.isColumnFullyVisible(r)&&this.navigationService.isColumnLeftFullyVisible(r)?n.nativeElement.focus():(this.focusNextCell(this.grid.rowInEditMode.index,i),t.scrollLeft=this.grid.rowInEditMode.virtDirRow.getColumnScrollLeft(this.navigationService.getColumnUnpinnedIndex(r)))},e.decorators=[{type:b.Directive,args:[{selector:"[igxRowEditTabStop]"}]}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:b.Inject,args:[b.forwardRef(function(){return Xc})]}]},{type:b.ElementRef},{type:undefined,decorators:[{type:b.Inject,args:[b.forwardRef(function(){return lc})]}]}]},e.propDecorators={handleTab:[{type:b.HostListener,args:["keydown.Tab",["$event"]]},{type:b.HostListener,args:["keydown.Shift.Tab",["$event"]]}]},e}(),hc=[{name:"add_filter",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M19 15v-3h-2v3h-3v2h3v3h2v-3h3v-2h-3zM5 10h10v2H5zM2 5h16v2H2zM8 15h4v2H8z"/>\n      </svg>'},{name:"contains",value:'<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24">\n        <path d="M3 3v18h18V3zm16 16H5V5h14z"/>\n        <path d="M12 11.3a4.39 4.39 0 0 0-2.54.63 2.07 2.07 0 0 0-.9 1.78 2.29 2.29 0 0 0 .66 1.74 2.63 2.63 0 0 0 1.89.63 2.39 2.39 0 0 0 1.32-.37 3.05 3.05 0 0 0 1-.93 3.72 3.72 0 0 0 .08.57c0 .19.1.38.16.58h1.79a4.51 4.51 0 0 1-.21-.88 5.57 5.57 0 0 1-.07-.93v-3.5a2.44 2.44 0 0 0-.84-2 3.34 3.34 0 0 0-2.22-.7 3.54 3.54 0 0 0-2.3.72A1.93 1.93 0 0 0 9 10.29h1.71a.93.93 0 0 1 .29-.71 1.5 1.5 0 0 1 1-.29 1.45 1.45 0 0 1 1 .35 1.3 1.3 0 0 1 .37 1v.69zm1.4 1.08v1.17a1.61 1.61 0 0 1-.71.77 2.27 2.27 0 0 1-1.21.34 1.18 1.18 0 0 1-.84-.27.92.92 0 0 1-.3-.72 1.16 1.16 0 0 1 .44-.9 1.76 1.76 0 0 1 1.22-.39z"/>\n      </svg>'},{name:"does_not_contain",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M21,19.74V3H4.26L2.89,1.63,1.63,2.92,3,4.29V21H19.73l1.37,1.37,1.27-1.26ZM5,19V6.28l5.28,5.27a3.19,3.19,0,0,0-.81.38,2.07,2.07,0,0,0-.9,1.78,2.29,2.29,0,0,0,.66,1.74,2.63,2.63,0,0,0,1.89.63,2.39,2.39,0,0,0,1.32-.37,3.05,3.05,0,0,0,1-.93,3.72,3.72,0,0,0,.08.57c0,.19.1.38.16.58h1L17.73,19Zm5.79-6.23a1.31,1.31,0,0,1,.45-.25l1.37,1.36.28.29a1.57,1.57,0,0,1-.19.15,2.27,2.27,0,0,1-1.21.34,1.18,1.18,0,0,1-.84-.27.92.92,0,0,1-.3-.72A1.16,1.16,0,0,1,10.79,12.77Zm2.6-1.47h-.83L10.94,9.68l.08-.1a1.5,1.5,0,0,1,1-.29,1.45,1.45,0,0,1,1,.35,1.3,1.3,0,0,1,.37,1ZM19,17.74l-3.85-3.85V10.62a2.44,2.44,0,0,0-.84-2,3.34,3.34,0,0,0-2.22-.7,3.64,3.64,0,0,0-2.24.67L6.26,5H19Z"/>\n    </svg>'},{name:"all",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M2 14h8v2H2zM2 6h12v2H2zM16 17l-3-3-1.5 1.5L16 20l7-7-1.5-1.5L16 17zM2 10h12v2H2z"/>\n      </svg>\n      '},{name:"empty",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M5 17h2v2H5zM13 17h2v2h-2zM5 13h2v2H5zM17 17h2v2h-2zM13 5h2v2h-2zM9 17h2v2H9zM17 9h2v2h-2zM17 13h2v2h-2zM17 5h2v2h-2zM5 9h2v2H5zM5 5h2v2H5zM9 5h2v2H9z"/>\n      </svg>'},{name:"end_expression",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M13.14 6.76L17.49 12l-4.35 5.24 1.54 1.28L20.09 12l-5.41-6.52-1.54 1.28z"/>\n        <path d="M11.91 11h2v2h-2zM7.91 11h2v2h-2zM3.91 11h2v2h-2z"/>\n      </svg>'},{name:"ends_with",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M3 14.5h2v2H3zM11 14.5h2v2h-2zM7 14.5h2v2H7zM20.8 14.8v-3A2.1 2.1 0 0 0 20 10a3 3 0 0 0-2-.6 3 3 0 0 0-2 .6 1.7 1.7 0 0 0-.7 1.5h1.5a.8.8 0 0 1 .3-.7 1.3 1.3 0 0 1 .9-.3 1.3 1.3 0 0 1 .9.4 1.1 1.1 0 0 1 .3.8v.6H18a3.8 3.8 0 0 0-2.2.6 1.8 1.8 0 0 0-.8 1.5 2 2 0 0 0 .6 1.6 2.3 2.3 0 0 0 1.6.6 2.1 2.1 0 0 0 1.2-.4 2.8 2.8 0 0 0 .8-.8 4.3 4.3 0 0 0 .1.5l.1.5H21a4.1 4.1 0 0 1-.2-.7 5.4 5.4 0 0 1 0-1zm-1.6-.5a1.5 1.5 0 0 1-.6.7 2 2 0 0 1-1 .2 1.1 1.1 0 0 1-.8-.2.8.8 0 0 1-.2-.6 1 1 0 0 1 .3-.8 1.5 1.5 0 0 1 1.1-.3h1.2z"/>\n      </svg>'},{name:"equals",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M5 13.5h14v2H5zM5 8.5h14v2H5z"/>\n      </svg>'},{name:"greater_than_or_equal",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M5.99 19h12.02v2H5.99zM18 9.47L6 3v2.11L15.09 10 6 14.9v2.11l12-6.47V9.47z"/>\n      </svg>'},{name:"greater_than",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M6 7.11L15.09 12 6 16.89V19l12-6.46v-1.08L6 5v2.11z"/>\n      </svg>\n      '},{name:"is_after",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M15 7h4v10h-4v2h6V5h-6v2zM11 3h2v18h-2zM7 5h2v2H7zM3 5h2v2H3zM3 17h2v2H3zM3 13h2v2H3zM3 9h2v2H3zM7 17h2v2H7z"/>\n      </svg>'},{name:"is_before",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M3 19h6v-2H5V7h4V5H3v14zM11 3h2v18h-2zM15 5h2v2h-2zM19 5h2v2h-2zM19 13h2v2h-2zM15 17h2v2h-2zM19 17h2v2h-2zM19 9h2v2h-2z"/>\n      </svg>'},{name:"is_false",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M8 5a7 7 0 1 0 7 7 7 7 0 0 0-7-7zm4.31 9.79l-1.52 1.52L8 13.52l-2.79 2.79-1.52-1.52L6.48 12 3.69 9.21l1.52-1.52L8 10.48l2.79-2.79 1.52 1.52L9.52 12zM18 7a5 5 0 0 0-3 1.06 7.48 7.48 0 0 1 .49 1 3.89 3.89 0 1 1 0 5.82 8.08 8.08 0 0 1-.49 1A5 5 0 1 0 18 7z"/>\n        <path d="M17.52 13.85l2.91-2.92-.78-.78-2.13 2.12-1.17-1.15-.38.37-.41.41.42.42L17 13.34l.52.51z"/>\n      </svg>'},{name:"is_not_null",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M16.58 6.07l.79-1.36-1.74-1-.78 1.35a7.5 7.5 0 0 0-7.43 12.87l-.79 1.36 1.74 1 .78-1.35a7.5 7.5 0 0 0 7.43-12.87zM6.5 12A5.5 5.5 0 0 1 12 6.5a5.65 5.65 0 0 1 1.84.32l-5.41 9.36A5.49 5.49 0 0 1 6.5 12zm5.5 5.5a5.65 5.65 0 0 1-1.84-.32l5.41-9.36A5.5 5.5 0 0 1 12 17.5z"/>\n      </svg>'},{name:"is_null",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M12 4.5a7.5 7.5 0 1 0 7.5 7.5A7.5 7.5 0 0 0 12 4.5zm0 13a5.5 5.5 0 1 1 5.5-5.5 5.5 5.5 0 0 1-5.5 5.5z"/>\n      </svg>'},{name:"is_true",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M19.44 14.22zM16.56 14.22zM16.56 14.22L18 12.79l1.44 1.43.78-.78L18.79 12l1.43-1.44-.78-.78L18 11.21l-1.44-1.43-.78.78L17.21 12l-1.43 1.44.78.78z"/>\n        <path d="M18 7a5 5 0 0 0-3 1.06 7.48 7.48 0 0 1 .49 1 3.89 3.89 0 1 1 0 5.82 8.08 8.08 0 0 1-.49 1A5 5 0 1 0 18 7zM8 5a7 7 0 1 0 7 7 7 7 0 0 0-7-7zm-.93 10.18l-3.38-3.37 1.13-1.12 2.25 2.25 4.11-4.12 1.13 1.12z"/>\n      </svg>'},{name:"last_month",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M17.5 14a4.48 4.48 0 1 0 4.5 4.5 4.47 4.47 0 0 0-4.5-4.5zm3.5 5.5h-4v2l-3-3 3-3v2h4zM5 9h2v2H5zM5 13h2v2H5zM10 13h2v2h-2zM5 17h2v2H5zM10 17h2v2h-2zM10 9h2v2h-2zM15 9h2v2h-2z"/>\n        <path d="M4 8h14v4h2V5a2 2 0 0 0-2-2h-1V1h-2v2H7V1H5v2H4a2 2 0 0 0-2 2v15a2 2 0 0 0 2 2h7v-2H4z"/>\n      </svg>'},{name:"last_year",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M21 10v11H7v2h14a2 2 0 0 0 2-2V10z"/>\n        <path d="M19 17V5a2 2 0 0 0-2-2h-1V1h-2v2H6V1H4v2H3a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2zM3 17V7h14v10H3z"/>\n        <path d="M8.87 9l-2.99 3 2.99 3v-2.25h5.26v-1.5H8.87V9z"/>\n      </svg>'},{name:"less_than_or_equal",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M5.99 19h12.02v2H5.99zM18 14.9L8.91 10 18 5.11V3L6 9.47v1.07l12 6.47V14.9z"/>\n      </svg>'},{name:"less_than",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M6 12.54L18 19v-2.11L8.91 12 18 7.11V5L6 11.46v1.08z"/>\n      </svg>'},{name:"next_month",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M20 14.76a4.5 4.5 0 1 0 2 3.74 4.47 4.47 0 0 0-2-3.74zm-2 6.74v-2h-4v-2h4v-2l3 3zM5 9h2v2H5zM5 13h2v2H5zM10 13h2v2h-2zM5 17h2v2H5zM10 17h2v2h-2zM10 9h2v2h-2zM15 9h2v2h-2z"/>\n        <path d="M4 8h14v4h2V5a2 2 0 0 0-2-2h-1V1h-2v2H7V1H5v2H4a2 2 0 0 0-2 2v15a2 2 0 0 0 2 2h7v-2H4z"/>\n      </svg>'},{name:"next_year",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M21 21H7v2h14a2 2 0 0 0 2-2V10h-2z"/>\n        <path d="M19 17V5a2 2 0 0 0-2-2h-1V1h-2v2H6V1H4v2H3a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2zM3 17V7h14v10H3z"/>\n        <path d="M11.13 11.25H5.88v1.5h5.25V15l3-3-3-3v2.25z"/>\n      </svg>'},{name:"not_empty",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M5 9h2v2H5zM9 17h2v2H9zM13 17h2v2h-2zM17 9h2v2h-2zM17 5h2v2h-2zM5 17h2v2H5zM13 5h2v2h-2zM5 13h2v2H5zM19 15v-2h-2v.47L18.53 15H19zM11 7V5H9v.46L10.54 7H11zM2.76 1.76L1.5 3.06 20.97 22.5l1.26-1.26-8.89-8.89L2.76 1.76z"/>\n      </svg>'},{name:"not_equal",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M17.37 4.71l-1.74-1-2.76 4.79H5v2h6.71l-1.73 3H5v2h3.82l-2.19 3.79 1.74 1 2.76-4.79H19v-2h-6.71l1.73-3H19v-2h-3.82l2.19-3.79z"/>\n      </svg>'},{name:"start_expression",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M18.1 11h2v2h-2zM10.1 11h2v2h-2z"/>\n        <path d="M10.9 6.8L9.3 5.5 4 12l5.4 6.5 1.6-1.3L6.5 12 11 6.8zM14.1 11h2v2h-2z"/>\n      </svg>'},{name:"starts_with",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path fill="none" d="M4.97 13.23h3.06L6.5 9.12l-1.53 4.11z"/>\n        <path d="M5.89 7.5L2 16.5h1.72l.73-1.8h4.1l.73 1.8H11l-3.89-9zM5 13.23l1.5-4.11L8 13.23zM12 14.5h2v2h-2zM20 14.5h2v2h-2zM16 14.5h2v2h-2z"/>\n      </svg>'},{name:"this_month",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M6 9h2v2H6zM6 13h2v2H6zM11 13h2v2h-2zM6 17h2v2H6zM11 17h2v2h-2zM11 9h2v2h-2zM16 9h2v2h-2zM21 14.76a4.5 4.5 0 1 0 2 3.74 4.47 4.47 0 0 0-2-3.74zm-2.94 5.41l-1.75-1.76.69-.71 1.05 1L20 16.83l.71.71z"/>\n        <path d="M5 8h14v4h2V5a2 2 0 0 0-2-2h-1V1h-2v2H8V1H6v2H5a2 2 0 0 0-2 2v15a2 2 0 0 0 2 2h7v-2H5z"/>\n      </svg>'},{name:"this_year",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M21 21H7v2h14a2 2 0 0 0 2-2V10h-2z"/>\n        <path d="M19 17V5a2 2 0 0 0-2-2h-1V1h-2v2H6V1H4v2H3a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2zM3 17V7h14v10H3z"/>\n        <path d="M8.85 13.15l-1.77-1.77-.88.89 2.65 2.65 4.95-4.96-.88-.88-4.07 4.07z"/>\n      </svg>'},{name:"today",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M19 4h-1V2h-2v2H8V2H6v2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm0 16H5V9h14z"/>\n        <path d="M16.53 12.06L15.47 11l-4.88 4.88-2.12-2.12-1.06 1.06L10.59 18l5.94-5.94z"/>\n      </svg>'},{name:"ungroup",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M15 15h5v5h-5zM6 13h5v5H6zM13 6h5v5h-5zM6 6h5v5H6z"/>\n        <path d="M20 2H4a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h9v-2H4V4h16v9h2V4a2 2 0 0 0-2-2z"/>\n      </svg>'},{name:"yesterday",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M10.68 15.38h6.13v-1.75h-6.13V11l-3.49 3.5 3.49 3.5v-2.62z"/>\n        <path d="M19 4h-1V2h-2v2H8V2H6v2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm0 16H5V9h14z"/>\n      </svg>'},{name:"pin",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M15.18 2.25l7.07 7.07-2.83-.01-3.54 3.55.01 4.24-3.53-3.54-5.66 5.66H5.28V17.8l5.66-5.66L7.4 8.61l4.24.01 3.55-3.54-.01-2.83z"/>\n      </svg>'},{name:"unpin",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path fill="none" d="M0 0h24v25H0V0z"/>\n        <path d="M11.84 14.08L6.7 19.22H5.28V17.8l5.14-5.14L2 4.26 3.29 3l18 18L20 22.21zm4-.49l-5-5h.73l3.55-3.54v-2.8l7.07 7.07h-2.77l-3.54 3.54z" />\n      </svg>'}],gc="filtering-icons",fc=function th(){this.isSelected=!1,this.isVisible=!0},mc=function(){function e(e,t){this.gridAPI=e,this.iconService=t,this.columnsWithComplexFilter=new Set,this.areEventsSubscribed=!1,this.destroy$=new x.Subject,this.isFiltering=!1,this.columnToExpressionsMap=new Map,this.columnStartIndex=-1,this.isFilterRowVisible=!1,this.filteredColumn=null,this.selectedExpression=null,this.columnToFocus=null,this.shouldFocusNext=!1,this.columnToMoreIconHidden=new Map}return e.prototype.ngOnDestroy=function(){this.destroy$.next(!0),this.destroy$.complete()},Object.defineProperty(e.prototype,"displayContainerWidth",{get:function(){return parseInt(this.grid.parentVirtDir.dc.instance._viewContainer.element.nativeElement.offsetWidth,10)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayContainerScrollLeft",{get:function(){return parseInt(this.grid.parentVirtDir.getHorizontalScroll().scrollLeft,10)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"areAllColumnsInView",{get:function(){return 0===parseInt(this.grid.parentVirtDir.dc.instance._viewContainer.element.nativeElement.offsetWidth,10)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"unpinnedFilterableColumns",{get:function(){return this.grid.unpinnedColumns.filter(function(e){return!e.columnGroup&&e.filterable})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"unpinnedColumns",{get:function(){return this.grid.unpinnedColumns.filter(function(e){return!e.columnGroup})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"datePipe",{get:function(){return this._datePipe||(this._datePipe=new jl(this.grid.locale)),this._datePipe},enumerable:!0,configurable:!0}),e.prototype.subscribeToEvents=function(){var t=this;this.areEventsSubscribed||(this.areEventsSubscribed=!0,this.grid.onColumnResized.pipe(p.takeUntil(this.destroy$)).subscribe(function(e){t.updateFilteringCell(e.column)}),this.grid.parentVirtDir.onChunkLoad.pipe(p.takeUntil(this.destroy$)).subscribe(function(e){e.startIndex!==t.columnStartIndex&&(t.columnStartIndex=e.startIndex,t.grid.filterCellList.forEach(function(e){e.updateFilterCellArea()})),t.columnToFocus&&(t.focusFilterCellChip(t.columnToFocus,!1),t.columnToFocus=null)}),this.grid.onColumnMovingEnd.pipe(p.takeUntil(this.destroy$)).subscribe(function(){t.grid.filterCellList.forEach(function(e){e.updateFilterCellArea()})}))},e.prototype.filterInternal=function(e,t){var i;void 0===t&&(t=null),this.isFiltering=!0,0===(i=t instanceof Ci?t:this.createSimpleFilteringTree(e,t)).filteringOperands.length?this.clearFilter(e):this.filter(e,null,i),this.isFiltering=!1},e.prototype.filter=function(e,t,i,n){var r=this,o=this.gridAPI.get_column_by_name(e),s=n||!!o&&o.filteringIgnoreCase;if(i)this.gridAPI.filter(e,t,i,s);else{var a=this.grid.filteringExpressionsTree.find(e);if(!a)throw new Error("Invalid condition or Expression Tree!");if(a instanceof Ci)this.gridAPI.filter(e,t,a,s);else{var l=a;this.gridAPI.filter(e,t,l.condition,s)}}requestAnimationFrame(function(){return r.grid.onFilteringDone.emit(o.filteringExpressionsTree)})},e.prototype.clearFilter=function(e){var t=this;if(e&&!this.gridAPI.get_column_by_name(e))return;(this.isFiltering=!0,this.gridAPI.clear_filter(e),requestAnimationFrame(function(){return t.grid.onFilteringDone.emit(null)}),e)&&(this.getExpressions(e).length=0);this.isFiltering=!1},e.prototype.filterGlobal=function(e,t,i){var n=this;this.gridAPI.filter_global(e,t,i),requestAnimationFrame(function(){return n.grid.onFilteringDone.emit(n.grid.filteringExpressionsTree)})},e.prototype.registerSVGIcons=function(){var e,t;try{for(var i=S(hc),n=i.next();!n.done;n=i.next()){var r=n.value;this.iconService.isSvgIconCached(r.name,gc)||this.iconService.addSvgIconFromText(r.name,r.value,gc)}}catch(o){e={error:o}}finally{try{n&&!n.done&&(t=i["return"])&&t.call(i)}finally{if(e)throw e.error}}},e.prototype.getExpressions=function(t){if(this.columnToExpressionsMap.has(t))return this.columnToExpressionsMap.get(t);var e=this.grid.columns.find(function(e){return e.field===t}),i=new Array;return this.generateExpressionsList(e.filteringExpressionsTree,this.grid.filteringExpressionsTree.operator,i),this.columnToExpressionsMap.set(t,i),i},e.prototype.refreshExpressions=function(){var n=this;this.isFiltering||(this.columnsWithComplexFilter.clear(),this.columnToExpressionsMap.forEach(function(e,t){var i=n.grid.columns.find(function(e){return e.field===t});i?(e.length=0,n.generateExpressionsList(i.filteringExpressionsTree,n.grid.filteringExpressionsTree.operator,e),n.isFilteringTreeComplex(i.filteringExpressionsTree)&&n.columnsWithComplexFilter.add(t),n.updateFilteringCell(i)):n.columnToExpressionsMap["delete"](t)}))},e.prototype.removeExpression=function(e,t){var i=this.getExpressions(e);0===t&&1<i.length?i[1].beforeOperator=null:t===i.length-1?i[t-1].afterOperator=null:(i[t-1].afterOperator=i[t+1].beforeOperator,i[0].beforeOperator=null,i[i.length-1].afterOperator=null),i.splice(t,1)},e.prototype.createSimpleFilteringTree=function(e,t){void 0===t&&(t=null);for(var i,n,r=t||this.getExpressions(e),o=new Ci(Si.Or,e),s=0;s<r.length;s++)(n=r[s]).expression.condition.isUnary||null!==n.expression.searchVal?n.beforeOperator!==undefined&&null!==n.beforeOperator&&n.beforeOperator!==Si.Or||n.afterOperator!==Si.And?n.beforeOperator===Si.And?i.filteringOperands.push(n.expression):(o.filteringOperands.push(n.expression),i=null):(i=new Ci(Si.And,e),o.filteringOperands.push(i),i.filteringOperands.push(n.expression)):n.afterOperator!==Si.And||i||(i=new Ci(Si.And,e),o.filteringOperands.push(i));return o},e.prototype.isFilterComplex=function(t){if(this.columnsWithComplexFilter.has(t))return!0;var e=this.grid.columns.find(function(e){return e.field===t}),i=this.isFilteringTreeComplex(e.filteringExpressionsTree);return i&&this.columnsWithComplexFilter.add(t),i},e.prototype.getOperatorAsString=function(e){return 0===e?this.grid.resourceStrings.igx_grid_filter_operator_and:this.grid.resourceStrings.igx_grid_filter_operator_or},e.prototype.getChipLabel=function(e){return e.condition.isUnary?this.grid.resourceStrings["igx_grid_filter_"+e.condition.name]||e.condition.name:e.searchVal instanceof Date?this.datePipe.transform(e.searchVal,this.grid.locale):e.searchVal},e.prototype.updateFilteringCell=function(e){var t=e.filterCell;t&&t.updateFilterCellArea()},e.prototype.focusFilterCellChip=function(e,t){var i=e.filterCell;i&&i.focusChip(t)},e.prototype.focusFilterRowCloseButton=function(){this.grid.filteringRow.closeButton.nativeElement.focus()},Object.defineProperty(e.prototype,"filteredData",{get:function(){return this.grid.filteredData},enumerable:!0,configurable:!0}),e.prototype.scrollToFilterCell=function(e,t){this.grid.nativeElement.focus({preventScroll:!0}),this.columnToFocus=e,this.shouldFocusNext=t;for(var i=0,n=0,r=0;r<this.unpinnedColumns.length;r++)if(i+=parseInt(this.unpinnedColumns[r].width,10),this.unpinnedColumns[r]===e){n=i-parseInt(this.unpinnedColumns[r].width,10);break}var o=this.grid.headerContainer,s=this.displayContainerWidth+this.displayContainerScrollLeft;t?o.getHorizontalScroll().scrollLeft+=i-s:o.getHorizontalScroll().scrollLeft=n},e.prototype.isFilteringTreeComplex=function(e){if(!e)return!1;if(e instanceof Ci){var t=e;if(t.operator===Si.Or)return 1<this.getChildAndOperatorsCount(t);for(var i=!1,n=0;n<t.filteringOperands.length;n++)i=i||this.isFilteringTreeComplex(t.filteringOperands[n]);return i}return!1},e.prototype.getChildAndOperatorsCount=function(e){for(var t,i=0,n=0;n<e.filteringOperands.length;n++)(t=e[n])instanceof Ci&&(t.operator===Si.And&&i++,i+=this.getChildAndOperatorsCount(t));return i},e.prototype.generateExpressionsList=function(e,t,i){this.generateExpressionsListRecursive(e,t,i),i.length&&(i[i.length-1].afterOperator=null)},e.prototype.generateExpressionsListRecursive=function(e,t,i){if(e)if(e instanceof Ci){for(var n=e,r=0;r<n.filteringOperands.length;r++)this.generateExpressionsListRecursive(n.filteringOperands[r],n.operator,i);i.length&&(i[i.length-1].afterOperator=t)}else{var o=new fc;o.expression=e,o.afterOperator=t;var s=i[i.length-1];s&&(o.beforeOperator=s.afterOperator),i.push(o)}},e.prototype.isFilteringExpressionsTreeEmpty=function(){var e,t=this.grid.filteringExpressionsTree;if(!t.filteringOperands||!t.filteringOperands.length)return!0;for(var i=0;i<t.filteringOperands.length;i++){if(!((e=t.filteringOperands[i])instanceof Ci))return!1;var n=e;if(n.filteringOperands&&n.filteringOperands.length)return!1}return!0},e.decorators=[{type:b.Injectable}],e.ctorParameters=function(){return[{type:_i},{type:Bo}]},e}();function yc(){return function(e,r,t){var i="_"+r.toString();(t=t||{configurable:!0,enumerable:!0}).get=t.get||function(){return this[i]};var o=t.set||function(e){this[i]=e};return t.set=function(e){var t,i=this[r];if((e!==i||"object"==typeof e&&e===i)&&(o.call(this,e),this.ngOnChanges)){var n=((t={})[r]=new b.SimpleChange(i,e,!1),t);this.ngOnChanges(n)}},t}}var vc=function(){function e(){}return e.prototype.ngAfterViewInit=function(){var e=this;requestAnimationFrame(function(){e.virtDir.recalcUpdateSizes()})},e.prototype.clearInput=function(){this.searchValue=null},e.prototype.onCheckboxChange=function(t){var i=this;0===this.data.indexOf(t.checkbox.value)?this.data.forEach(function(e){e.isSelected=t.checked,i.data[0].indeterminate=!1}):(t.checkbox.value.isSelected=t.checked,this.data.slice(1,this.data.length).find(function(e){return!1===e.isSelected})?this.data.slice(1,this.data.length).find(function(e){return!0===e.isSelected})?this.data[0].indeterminate=!0:(this.data[0].indeterminate=!1,this.data[0].isSelected=!1):(this.data[0].indeterminate=!1,this.data[0].isSelected=!0)),t.checkbox.nativeCheckbox.nativeElement.blur()},Object.defineProperty(e.prototype,"itemSize",{get:function(){var e="40px";switch(this.displayDensity){case er.cosy:e="32px";break;case er.compact:e="28px"}return e},enumerable:!0,configurable:!0}),e.decorators=[{type:b.Component,args:[{changeDetection:b.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-excel-style-search",template:'<igx-input-group\n            type="box"\n            [displayDensity]="displayDensity"\n            [supressInputAutofocus]="true">\n    <igx-icon igxPrefix>search</igx-icon>\n    <input\n        #input\n        igxInput\n        tabindex="0"\n        [(ngModel)]="searchValue"\n        [placeholder]="column.grid.resourceStrings.igx_grid_excel_search_placeholder"\n        autocomplete="off"/>\n    <igx-icon\n        igxSuffix\n        *ngIf="searchValue || searchValue === 0"\n        (click)="clearInput()"\n        tabindex="0">\n        clear\n    </igx-icon>\n</igx-input-group>\n\n        <igx-list [displayDensity]="displayDensity" [style.height.px]="250">\n            <div [style.overflow]="\'hidden\'" [style.position]="\'relative\'">\n                <igx-list-item\n                    *igxFor="let item of data | excelStyleSearchFilter: searchValue; scrollOrientation : \'vertical\'; containerSize: \'250px\'; itemSize: itemSize">\n                    <igx-checkbox\n                    [value]="item"\n                    tabindex="-1"\n                    [checked]="item.isSelected"\n                    [disableRipple]="true"\n                    [indeterminate]="item.indeterminate"\n                    [disableTransitions]="true"\n                    (change)="onCheckboxChange($event)">\n                        {{ column.formatter && !item.isSpecial ? column.formatter(item.label) : column.dataType === \'number\' ? (item.label | igxdecimal:\n                            column.grid.locale) : column.dataType === \'date\' ? (item.label | igxdate: column.grid.locale) : item.label }}\n                    </igx-checkbox>\n                </igx-list-item>\n            </div>\n        </igx-list>\n'}]}],e.ctorParameters=function(){return[]},e.propDecorators={data:[{type:b.Input}],column:[{type:b.Input}],searchInput:[{type:b.ViewChild,args:["input",{read:_r}]}],displayDensity:[{type:b.Input}],virtDir:[{type:b.ViewChild,args:[ur]}]},e}(),xc=function(){function e(e){this.cdr=e,this._dropDownOverlaySettings={closeOnOutsideClick:!0,modal:!1,positionStrategy:new On,scrollStrategy:new An},this.onExpressionRemoved=new b.EventEmitter,this.onLogicOperatorChanged=new b.EventEmitter}return Object.defineProperty(e.prototype,"inputValuesElement",{get:function(){return this.inputValuesDirective},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLast",{get:function(){return this.expressionsList[this.expressionsList.length-1]===this.expressionUI},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSingle",{get:function(){return 1===this.expressionsList.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputConditionsPlaceholder",{get:function(){return this.grid.resourceStrings.igx_grid_filter_condition_placeholder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputValuePlaceholder",{get:function(){return this.grid.resourceStrings.igx_grid_filter_row_placeholder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){switch(this.column.dataType){case Pi.Number:return"number";default:return"text"}},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){this._dropDownOverlaySettings.outlet=this.column.grid.outletDirective,this._dropDownOverlaySettings.positionStrategy.settings.target=this.inputGroupConditions.element.nativeElement},e.prototype.focus=function(){var e=this;requestAnimationFrame(function(){return e.inputValuesElement.focus()})},e.prototype.isConditionSelected=function(e){return this.expressionUI.expression.condition&&this.expressionUI.expression.condition.name===e},e.prototype.getConditionName=function(e){return e?this.translateCondition(e.name):null},e.prototype.getInputWidth=function(){return this.inputGroupConditions.element.nativeElement.offsetWidth+"px"},Object.defineProperty(e.prototype,"conditions",{get:function(){return this.column.filters.conditionList()},enumerable:!0,configurable:!0}),e.prototype.translateCondition=function(e){return this.grid.resourceStrings["igx_grid_filter_"+this.getCondition(e).name]||e},e.prototype.getIconName=function(){return this.column.dataType===Pi.Boolean&&null===this.expressionUI.expression.condition?this.getCondition(this.conditions[0]).iconName:this.expressionUI.expression.condition?this.expressionUI.expression.condition.iconName:"filter_list"},e.prototype.toggleCustomDialogDropDown=function(){this.dropdownConditions.toggle(this._dropDownOverlaySettings)},e.prototype.getCondition=function(e){return this.column.filters.condition(e)},e.prototype.onConditionsChanged=function(e){var t=e.newSelection.value;this.expressionUI.expression.condition=this.getCondition(t),this.focus()},e.prototype.onValuesInput=function(e){this.expressionUI.expression.searchVal=this.transformValue(e.target.value)},e.prototype.onLogicOperatorButtonClicked=function(e,t){0===this.logicOperatorButtonGroup.selectedButtons.length?(e.stopPropagation(),this.logicOperatorButtonGroup.selectButton(t)):this.onLogicOperatorChanged.emit({target:this.expressionUI,newValue:t})},e.prototype.onLogicOperatorKeyDown=function(e,t){"Enter"===e.key&&(this.logicOperatorButtonGroup.selectButton(t),this.onLogicOperatorChanged.emit({target:this.expressionUI,newValue:t}))},e.prototype.onRemoveButtonClick=function(){this.onExpressionRemoved.emit(this.expressionUI)},e.prototype.onInputConditionsKeyDown=function(e){!e.altKey||"ArrowDown"!==e.key&&"Down"!==e.key||this.toggleCustomDialogDropDown(),"Tab"===e.key&&e.shiftKey&&this.expressionsList[0]===this.expressionUI&&e.preventDefault(),event.stopPropagation()},e.prototype.transformValue=function(e){return this.column.dataType===Pi.Number?e=parseFloat(e):this.column.dataType===Pi.Boolean&&(e=Boolean(e)),e},e.decorators=[{type:b.Component,args:[{changeDetection:b.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-excel-style-default-expression",template:'<igx-drop-down\n    #dropdownConditions\n    [maxHeight]="\'200px\'"\n    [width]="getInputWidth()"\n    (onSelection)="onConditionsChanged($event)">\n    <igx-drop-down-item *ngFor="let condition of conditions" [value]="condition" [selected]="isConditionSelected(condition)">\n        <igx-icon fontSet="filtering-icons" [name]="getCondition(condition).iconName"></igx-icon>\n        <span>{{ translateCondition(condition) }}</span>\n    </igx-drop-down-item>\n</igx-drop-down>\n\n<igx-input-group\n    #inputGroupConditions\n    (click)="toggleCustomDialogDropDown()"\n    type="box"\n    [displayDensity]="displayDensity"\n    [supressInputAutofocus]="true">\n\n    <igx-prefix>\n        <igx-icon *ngIf="expressionUI.expression.condition" fontSet="filtering-icons" [name]="getIconName()"></igx-icon>\n        <igx-icon *ngIf="!expressionUI.expression.condition">filter_list</igx-icon>\n    </igx-prefix>\n\n    <input\n        igxInput\n        (keydown)="onInputConditionsKeyDown($event)"\n        [igxDropDownItemNavigation]="dropdownConditions"\n        tabindex="0"\n        [placeholder]="inputConditionsPlaceholder"\n        autocomplete="off"\n        [value]="getConditionName(expressionUI.expression.condition)"\n        [readonly]="true"\n    />\n</igx-input-group>\n\n<igx-input-group #inputGroupValues type="box" [displayDensity]="displayDensity" [supressInputAutofocus]="true">\n    <input\n        #inputValues\n        igxInput\n        [type]="type"\n        tabindex="0"\n        [placeholder]="inputValuePlaceholder"\n        [disabled]="expressionUI.expression.condition && expressionUI.expression.condition.isUnary"\n        autocomplete="off"\n        [value]="expressionUI.expression.searchVal"\n        (input)="onValuesInput($event)"\n    />\n</igx-input-group>\n\n<button (click)="onRemoveButtonClick()" igxButton="icon" [displayDensity]="displayDensity" *ngIf="!isSingle">\n    <igx-icon>cancel</igx-icon>\n</button>\n\n<igx-buttongroup #logicOperatorButtonGroup\n    *ngIf="!isLast"\n    [multiSelection]="false">\n    <span igxButton [displayDensity]="displayDensity"\n        tabindex="0"\n        #andButton\n        (keydown)="onLogicOperatorKeyDown($event, 0)"\n        [selected]="expressionUI.afterOperator === 0"\n        type="button"\n        (click)="onLogicOperatorButtonClicked($event, 0)">\n        {{ grid.resourceStrings.igx_grid_filter_operator_and }}\n    </span>\n\n    <span igxButton [displayDensity]="displayDensity"\n        tabindex="0"\n        #orButton\n        (keydown)="onLogicOperatorKeyDown($event, 1)"\n        [selected]="expressionUI.afterOperator === 1"\n        type="button"\n        (click)="onLogicOperatorButtonClicked($event, 1)">\n        {{ grid.resourceStrings.igx_grid_filter_operator_or }}\n    </span>\n</igx-buttongroup>\n'}]}],e.ctorParameters=function(){return[{type:b.ChangeDetectorRef}]},e.propDecorators={column:[{type:b.Input}],expressionUI:[{type:b.Input}],expressionsList:[{type:b.Input}],grid:[{type:b.Input}],displayDensity:[{type:b.Input}],onExpressionRemoved:[{type:b.Output}],onLogicOperatorChanged:[{type:b.Output}],inputGroupConditions:[{type:b.ViewChild,args:["inputGroupConditions",{read:kr}]}],inputValuesDirective:[{type:b.ViewChild,args:["inputValues",{read:_r}]}],dropdownConditions:[{type:b.ViewChild,args:["dropdownConditions",{read:fr}]}],logicOperatorButtonGroup:[{type:b.ViewChild,args:["logicOperatorButtonGroup",{read:gs}]}]},e}(),bc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),Object.defineProperty(t.prototype,"inputValuesElement",{get:function(){return this.datePicker.getEditElement()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputDatePlaceholder",{get:function(){return this.grid.resourceStrings.igx_grid_filter_row_date_placeholder},enumerable:!0,configurable:!0}),t.prototype.openDatePicker=function(e){e()},t.decorators=[{type:b.Component,args:[{changeDetection:b.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-excel-style-date-expression",template:'<igx-drop-down #dropdownConditions [maxHeight]="\'200px\'" [width]="getInputWidth()"\n    (onSelection)="onConditionsChanged($event)">\n    <igx-drop-down-item *ngFor="let condition of conditions" [value]="condition"\n        [selected]="isConditionSelected(condition)">\n        <igx-icon fontSet="filtering-icons" [name]="getCondition(condition).iconName"></igx-icon>\n        <span>{{ translateCondition(condition) }}</span>\n    </igx-drop-down-item>\n</igx-drop-down>\n\n<igx-input-group #inputGroupConditions (click)="toggleCustomDialogDropDown()" type="box"\n    [displayDensity]="displayDensity" [supressInputAutofocus]="true">\n\n    <igx-prefix>\n        <igx-icon *ngIf="expressionUI.expression.condition" fontSet="filtering-icons" [name]="getIconName()"></igx-icon>\n        <igx-icon *ngIf="!expressionUI.expression.condition">filter_list</igx-icon>\n    </igx-prefix>\n\n    <input igxInput (keydown)="onInputConditionsKeyDown($event)" tabindex="0"\n        [igxDropDownItemNavigation]="dropdownConditions" [placeholder]="inputConditionsPlaceholder" autocomplete="off"\n        [value]="getConditionName(expressionUI.expression.condition)" [readonly]="true" />\n</igx-input-group>\n\n<igx-date-picker #datePicker mode="dropdown" [(ngModel)]="expressionUI.expression.searchVal" [locale]="grid.locale"\n    [outlet]="grid.outletDirective">\n    <ng-template igxDatePickerTemplate let-openDialog="openDialog" let-value="value">\n        <igx-input-group #dropDownTarget type="box" [displayDensity]="displayDensity" [supressInputAutofocus]="true">\n            <input #input igxInput tabindex="0" (click)="openDatePicker(openDialog)"\n                [placeholder]="inputDatePlaceholder" autocomplete="off" [value]="value | igxdate: grid.locale"\n                [readonly]="true"\n                [disabled]="expressionUI.expression.condition && expressionUI.expression.condition.isUnary" />\n        </igx-input-group>\n    </ng-template>\n</igx-date-picker>\n\n<button (click)="onRemoveButtonClick()" igxButton="icon" [displayDensity]="displayDensity" *ngIf="!isSingle">\n    <igx-icon>cancel</igx-icon>\n</button>\n\n<igx-buttongroup #logicOperatorButtonGroup *ngIf="!isLast" [multiSelection]="false">\n    <span igxButton [displayDensity]="displayDensity" #andButton (keydown)="onLogicOperatorKeyDown($event, 0)"\n        tabindex="0" [selected]="expressionUI.afterOperator === 0" type="button"\n        (click)="onLogicOperatorButtonClicked($event, 0)">\n        {{ grid.resourceStrings.igx_grid_filter_operator_and }}\n    </span>\n\n    <span igxButton [displayDensity]="displayDensity" #orButton tabindex="0"\n        (keydown)="onLogicOperatorKeyDown($event, 1)" [selected]="expressionUI.afterOperator === 1" type="button"\n        (click)="onLogicOperatorButtonClicked($event, 1)">\n        {{ grid.resourceStrings.igx_grid_filter_operator_or }}\n    </span>\n</igx-buttongroup>'}]}],t.propDecorators={datePicker:[{type:b.ViewChild,args:["datePicker",{read:pl}]}],displayDensity:[{type:b.Input}]},t}(xc),Cc=function(){function e(e){this.cdr=e,this.expressionsList=new Array,this._customDialogPositionSettings={verticalDirection:fn.Middle,horizontalDirection:gn.Center,horizontalStartPoint:gn.Center,verticalStartPoint:fn.Middle},this._customDialogOverlaySettings={closeOnOutsideClick:!0,modal:!1,positionStrategy:new On(this._customDialogPositionSettings),scrollStrategy:new kn}}return e.prototype.ngAfterViewInit=function(){this._customDialogOverlaySettings.outlet=this.grid.outlet},Object.defineProperty(e.prototype,"template",{get:function(){return this.column.dataType===Pi.Date?this.dateExpressionTemplate:this.defaultExpressionTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){return this.filteringService.grid},enumerable:!0,configurable:!0}),e.prototype.onCustomDialogOpening=function(){this.selectedOperator&&this.createInitialExpressionUIElement()},e.prototype.onCustomDialogOpened=function(){this.expressionComponents.first&&this.expressionComponents.first.focus()},e.prototype.open=function(){this._customDialogOverlaySettings.positionStrategy.settings.target=this.grid.rootGrid?this.grid.rootGrid.nativeElement:this.grid.nativeElement,this.toggle.open(this._customDialogOverlaySettings)},e.prototype.onClearButtonClick=function(){this.filteringService.clearFilter(this.column.field),this.createInitialExpressionUIElement(),this.cdr.detectChanges()},e.prototype.closeDialog=function(){this.overlayComponentId&&this.overlayService.hide(this.overlayComponentId)},e.prototype.onApplyButtonClick=function(){this.expressionsList=this.expressionsList.filter(function(e){return e.expression.condition&&(e.expression.searchVal||0===e.expression.searchVal||e.expression.condition.isUnary)}),0<this.expressionsList.length&&(this.expressionsList[0].beforeOperator=null,this.expressionsList[this.expressionsList.length-1].afterOperator=null),this.filteringService.filterInternal(this.column.field,this.expressionsList),this.closeDialog()},e.prototype.onAddButtonClick=function(){var e=new fc;e.expression={condition:null,fieldName:this.column.field,ignoreCase:this.column.filteringIgnoreCase,searchVal:null},this.expressionsList[this.expressionsList.length-1].afterOperator=Si.And,e.beforeOperator=this.expressionsList[this.expressionsList.length-1].afterOperator,this.expressionsList.push(e),this.markChildrenForCheck(),this.scrollToBottom()},e.prototype.onExpressionRemoved=function(e){var t=this.expressionsList.indexOf(e);0===t&&1<this.expressionsList.length?this.expressionsList[1].beforeOperator=null:t===this.expressionsList.length-1?this.expressionsList[t-1].afterOperator=null:(this.expressionsList[t-1].afterOperator=this.expressionsList[t+1].beforeOperator,this.expressionsList[0].beforeOperator=null,this.expressionsList[this.expressionsList.length-1].afterOperator=null),this.expressionsList.splice(t,1),this.cdr.detectChanges(),this.markChildrenForCheck()},e.prototype.onLogicOperatorChanged=function(e){var t=this.expressionsList.indexOf(e.target);e.target.afterOperator=e.newValue,t+1<this.expressionsList.length&&(this.expressionsList[t+1].beforeOperator=e.newValue)},e.prototype.onKeyDown=function(e){e.stopPropagation()},e.prototype.onApplyButtonKeyDown=function(e){"Tab"!==e.key||e.shiftKey||(e.stopPropagation(),e.preventDefault())},e.prototype.createCondition=function(e){switch(this.column.dataType){case Pi.Boolean:return Ro.instance().condition(e);case Pi.Number:return Lo.instance().condition(e);case Pi.Date:return ko.instance().condition(e);default:return Ao.instance().condition(e)}},e.prototype.markChildrenForCheck=function(){this.expressionComponents.forEach(function(e){return e.cdr.markForCheck()}),this.expressionDateComponents.forEach(function(e){return e.cdr.markForCheck()})},e.prototype.createInitialExpressionUIElement=function(){this.expressionsList=[];var e=new fc;e.expression={condition:this.createCondition(this.selectedOperator),fieldName:this.column.field,ignoreCase:this.column.filteringIgnoreCase,searchVal:null},e.afterOperator=Si.And,this.expressionsList.push(e);var t=new fc;t.expression={condition:null,fieldName:this.column.field,ignoreCase:this.column.filteringIgnoreCase,searchVal:null},t.beforeOperator=Si.And,this.expressionsList.push(t)},e.prototype.scrollToBottom=function(){var e=this;requestAnimationFrame(function(){e.expressionsContainer.nativeElement.scrollTop=e.expressionsContainer.nativeElement.scrollHeight})},e.decorators=[{type:b.Component,args:[{changeDetection:b.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-excel-style-custom-dialog",template:'<article #toggle igxToggle\n    class="igx-excel-filter__secondary"\n    (keydown)="onKeyDown($event)"\n    (onOpening)="onCustomDialogOpening()"\n    (onOpened)="onCustomDialogOpened()">\n    <header class="igx-excel-filter__secondary-header">\n        <h4 class="igx-typography__h6">\n            {{ grid.resourceStrings.igx_grid_excel_custom_dialog_header }}{{ column.header || column.field }}\n        </h4>\n    </header>\n\n    <article #expressionsContainer class="igx-excel-filter__secondary-main">\n        <ng-container *ngIf="column.dataType === \'date\'">\n            <igx-excel-style-date-expression *ngFor="let expression of expressionsList;"\n                class="igx-excel-filter__condition"\n                [expressionUI]="expression"\n                [column]="column"\n                [grid]="grid"\n                [displayDensity]="displayDensity"\n                [expressionsList]="expressionsList"\n                (onExpressionRemoved)="onExpressionRemoved($event)"\n                (onLogicOperatorChanged)="onLogicOperatorChanged($event)">\n            </igx-excel-style-date-expression>\n        </ng-container>\n\n        <ng-container *ngIf="column.dataType !== \'date\'">\n            <igx-excel-style-default-expression *ngFor="let expression of expressionsList;"\n                class="igx-excel-filter__condition"\n                [expressionUI]="expression"\n                [column]="column"\n                [grid]="grid"\n                [displayDensity]="displayDensity"\n                [expressionsList]="expressionsList"\n                (onExpressionRemoved)="onExpressionRemoved($event)"\n                (onLogicOperatorChanged)="onLogicOperatorChanged($event)">\n            </igx-excel-style-default-expression>\n        </ng-container>\n\n        <button igxButton [displayDensity]="displayDensity"\n            class="igx-excel-filter__add-filter"\n            (click)="onAddButtonClick()">\n            <igx-icon>add</igx-icon>\n            <span>{{ grid.resourceStrings.igx_grid_excel_custom_dialog_add }}</span>\n        </button>\n    </article>\n\n    <footer class="igx-excel-filter__secondary-footer">\n        <button igxButton [displayDensity]="displayDensity" (click)="onClearButtonClick()">{{ grid.resourceStrings.igx_grid_excel_custom_dialog_clear }}</button>\n\n        <div>\n            <button igxButton [displayDensity]="displayDensity" (click)="closeDialog()">{{ grid.resourceStrings.igx_grid_excel_cancel }}</button>\n            <button igxButton="raised" [displayDensity]="displayDensity" (click)="onApplyButtonClick()" (keydown)="onApplyButtonKeyDown($event)">\n                {{ grid.resourceStrings.igx_grid_excel_apply }}\n            </button>\n        </div>\n    </footer>\n</article>\n'}]}],e.ctorParameters=function(){return[{type:b.ChangeDetectorRef}]},e.propDecorators={expressionsList:[{type:b.Input}],column:[{type:b.Input}],selectedOperator:[{type:b.Input}],filteringService:[{type:b.Input}],overlayComponentId:[{type:b.Input}],overlayService:[{type:b.Input}],displayDensity:[{type:b.Input}],expressionComponents:[{type:b.ViewChildren,args:[xc]}],expressionDateComponents:[{type:b.ViewChildren,args:[bc]}],toggle:[{type:b.ViewChild,args:["toggle",{read:Hn}]}],defaultExpressionTemplate:[{type:b.ViewChild,args:["defaultExpressionTemplate",{read:b.TemplateRef}]}],dateExpressionTemplate:[{type:b.ViewChild,args:["dateExpressionTemplate",{read:b.TemplateRef}]}],expressionsContainer:[{type:b.ViewChild,args:["expressionsContainer"]}]},e}(),wc=function(){function e(){}return e.prototype.onSortButtonClicked=function(e){0===this.sortButtonGroup.selectedIndexes.length?this.grid.isColumnGrouped(this.column.field)?this.selectButton(e):this.grid.clearSort(this.column.field):this.grid.sort({fieldName:this.column.field,dir:e,ignoreCase:!0})},e.prototype.selectButton=function(e){1===e?this.sortButtonGroup.selectButton(0):this.sortButtonGroup.selectButton(1)},e.decorators=[{type:b.Component,args:[{changeDetection:b.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-excel-style-sorting",template:'<header>\n    {{ grid.resourceStrings.igx_grid_excel_filter_sorting_header }}\n</header>\n<igx-buttongroup #sortButtonGroup [multiSelection]="false">\n    <span tabindex="0" igxButton type="button" [displayDensity]="displayDensity" [attr.data-togglable]="true" (click)="onSortButtonClicked(1)">\n        <igx-icon>arrow_upwards</igx-icon>\n        <span>\n            {{ displayDensity===\'compact\'?\n            grid.resourceStrings.igx_grid_excel_filter_sorting_asc_short:\n            grid.resourceStrings.igx_grid_excel_filter_sorting_asc  }}\n        </span>\n    </span>\n\n    <span tabindex="0" igxButton type="button" [displayDensity]="displayDensity" [attr.data-togglable]="true" (click)="onSortButtonClicked(2)">\n        <igx-icon>arrow_downwards</igx-icon>\n        <span>\n            {{ displayDensity===\'compact\'?\n            grid.resourceStrings.igx_grid_excel_filter_sorting_desc_short:\n            grid.resourceStrings.igx_grid_excel_filter_sorting_desc\n         }}\n        </span>\n    </span>\n</igx-buttongroup>\n'}]}],e.ctorParameters=function(){return[]},e.propDecorators={column:[{type:b.Input}],grid:[{type:b.Input}],displayDensity:[{type:b.Input}],sortButtonGroup:[{type:b.ViewChild,args:["sortButtonGroup",{read:gs}]}]},e}(),_c=function ih(){this.isSpecial=!1},Sc=function(){function e(e){this.template=e}return e.decorators=[{type:b.Directive,args:[{selector:"[igxExcelStyleSortingTemplate]"}]}],e.ctorParameters=function(){return[{type:b.TemplateRef}]},e}(),Ic=function(){function e(e){this.template=e}return e.decorators=[{type:b.Directive,args:[{selector:"[igxExcelStyleMovingTemplate]"}]}],e.ctorParameters=function(){return[{type:b.TemplateRef}]},e}(),Dc=function(){function e(e){this.template=e}return e.decorators=[{type:b.Directive,args:[{selector:"[igxExcelStyleHidingTemplate]"}]}],e.ctorParameters=function(){return[{type:b.TemplateRef}]},e}(),Ec=function(){function e(e){this.template=e}return e.decorators=[{type:b.Directive,args:[{selector:"[igxExcelStylePinningTemplate]"}]}],e.ctorParameters=function(){return[{type:b.TemplateRef}]},e}(),Oc=function(){function o(e){this.cdr=e,this.shouldOpenSubMenu=!0,this.expressionsList=new Array,this.destroy$=new x.Subject,this.containsNullOrEmpty=!1,this.selectAllSelected=!0,this.selectAllIndeterminate=!1,this.filterValues=new Set,this.columnMoving=new x.Subscription,this.listData=new Array,this.uniqueValues=[],this._subMenuPositionSettings={verticalStartPoint:fn.Top},this._subMenuOverlaySettings={closeOnOutsideClick:!0,modal:!1,positionStrategy:new On(this._subMenuPositionSettings),scrollStrategy:new kn},this.className="igx-excel-filter"}return Object.defineProperty(o.prototype,"grid",{get:function(){return this.filteringService.grid},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"conditions",{get:function(){return this.column.filters.conditionList()},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"subMenuText",{get:function(){switch(this.column.dataType){case Pi.Boolean:return this.grid.resourceStrings.igx_grid_excel_boolean_filter;case Pi.Number:return this.grid.resourceStrings.igx_grid_excel_number_filter;case Pi.Date:return this.grid.resourceStrings.igx_grid_excel_date_filter;default:return this.grid.resourceStrings.igx_grid_excel_text_filter}},enumerable:!0,configurable:!0}),o.prototype.ngOnDestroy=function(){this.destroy$.next(!0),this.destroy$.complete()},o.prototype.ngAfterViewInit=function(){var t=this;if(this.expressionsList=new Array,this.filteringService.generateExpressionsList(this.column.filteringExpressionsTree,this.grid.filteringLogic,this.expressionsList),this.expressionsList&&this.expressionsList.length&&"in"!==this.expressionsList[0].expression.condition.name&&(this.customDialog.expressionsList=this.expressionsList),this.populateColumnData(),this.excelStyleSorting){var e=this.grid.sortingExpressions.find(function(e){return e.fieldName===t.column.field});e&&this.excelStyleSorting.selectButton(e.dir)}requestAnimationFrame(function(){t.excelStyleSearch.searchInput.nativeElement.focus()})},o.prototype.clearFilterClass=function(){return this.column.filteringExpressionsTree?"igx-excel-filter__actions-clear":"igx-excel-filter__actions-clear--disabled"},o.prototype.initialize=function(e,t,i,n){var r=this;this.column=e,this.filteringService=t,this.overlayService=i,this.overlayComponentId=n,this._subMenuOverlaySettings.outlet=this.grid.outlet,this.columnMoving=this.grid.onColumnMoving.pipe(p.takeUntil(this.destroy$)).subscribe(function(){r.closeDropdown()})},o.prototype.getCondition=function(e){return this.column.filters.condition(e)},o.prototype.translateCondition=function(e){return this.grid.resourceStrings["igx_grid_filter_"+this.getCondition(e).name]||e},o.prototype.onPin=function(){this.column.pinned=!this.column.pinned,this.closeDropdown()},o.prototype.onHide=function(){this.column.hidden=!0,this.grid.onColumnVisibilityChanged.emit({column:this.column,newValue:!0}),this.closeDropdown()},o.prototype.onTextFilterClick=function(e){if(this.shouldOpenSubMenu){this._subMenuOverlaySettings.positionStrategy.settings.target=e.currentTarget;var t=this.grid.nativeElement.getBoundingClientRect(),i=this.mainDropdown.nativeElement.getBoundingClientRect(),n=i.left+i.width,r=t.left+t.width;n+=window.pageXOffset,r+=window.pageXOffset,Math.abs(n-r)<200?(this._subMenuOverlaySettings.positionStrategy.settings.horizontalDirection=gn.Left,this._subMenuOverlaySettings.positionStrategy.settings.horizontalStartPoint=gn.Left):(this._subMenuOverlaySettings.positionStrategy.settings.horizontalDirection=gn.Right,this._subMenuOverlaySettings.positionStrategy.settings.horizontalStartPoint=gn.Right),this.subMenu.open(this._subMenuOverlaySettings),this.shouldOpenSubMenu=!1}},o.prototype.onTextFilterKeyDown=function(e){"Enter"===e.key&&this.onTextFilterClick(e)},o.prototype.onSubMenuClosed=function(){var e=this;requestAnimationFrame(function(){e.shouldOpenSubMenu=!0})},o.prototype.onSubMenuSelection=function(e){this.customDialog.selectedOperator=e.newSelection.value,e.cancel=!0,this.mainDropdown.nativeElement.style.display="none",this.subMenu.close(),this.customDialog.open()},o.prototype.areExpressionsSelectable=function(){return 1===this.expressionsList.length&&("equals"===this.expressionsList[0].expression.condition.name||"true"===this.expressionsList[0].expression.condition.name||"false"===this.expressionsList[0].expression.condition.name||"empty"===this.expressionsList[0].expression.condition.name||"in"===this.expressionsList[0].expression.condition.name)||this.expressionsList.filter(function(e){return!(1!==e.beforeOperator&&1!==e.afterOperator||"equals"!==e.expression.condition.name&&"true"!==e.expression.condition.name&&"false"!==e.expression.condition.name&&"empty"!==e.expression.condition.name&&"in"!==e.expression.condition.name)}).length===this.expressionsList.length},o.prototype.areExpressionsValuesInTheList=function(){if(this.column.dataType===Pi.Boolean)return!0;if(1===this.filterValues.size){var e=this.filterValues.values().next().value;if(!e&&0!==e)return!0}for(var t=0;t<this.uniqueValues.length;t++)if(this.filterValues.has(this.uniqueValues[t]))return!0;return!1},o.prototype.populateColumnData=function(){var e,t,i=this,n=this.column.gridAPI.get_all_data(this.grid.id),r=this.grid.filteringExpressionsTree,o=new Ci(r.operator,r.fieldName);try{for(var s=S(r.filteringOperands),a=s.next();!a.done;a=s.next()){var l=a.value;if(l instanceof Ci)if(l.fieldName===this.column.field)break;o.filteringOperands.push(l)}}catch(u){e={error:u}}finally{try{a&&!a.done&&(t=s["return"])&&t.call(s)}finally{if(e)throw e.error}}if(o.filteringOperands.length){var c={expressionsTree:o};n=Ti.filter(ti(n),c)}this.column.dataType===Pi.Date?(this.uniqueValues=Array.from(new Set(n.map(function(e){return e[i.column.field]?e[i.column.field].toDateString():e[i.column.field]}))),this.filterValues=new Set(this.expressionsList.reduce(function(e,t){return"in"===t.expression.condition.name?_(e,Array.from(t.expression.searchVal.values()).map(function(e){return new Date(e).toDateString()})):_(e,[t.expression.searchVal?t.expression.searchVal.toDateString():t.expression.searchVal])},[]))):(this.uniqueValues=Array.from(new Set(n.map(function(e){return e[i.column.field]}))),this.filterValues=new Set(this.expressionsList.reduce(function(e,t){return"in"===t.expression.condition.name?_(e,Array.from(t.expression.searchVal.values())):_(e,[t.expression.searchVal])},[]))),this.listData=new Array;var p=this.areExpressionsSelectable()&&this.areExpressionsValuesInTheList();this.column.dataType===Pi.Boolean?this.addBooleanItems():this.addItems(p),this.listData.sort(function(e,t){return i.sortData(e,t)}),this.column.dataType===Pi.Date&&(this.uniqueValues=this.uniqueValues.map(function(e){return new Date(e)})),this.containsNullOrEmpty&&this.addBlanksItem(p),this.addSelectAllItem(),this.cdr.detectChanges()},o.prototype.addBooleanItems=function(){var i=this;this.selectAllSelected=!0,this.selectAllIndeterminate=!1,this.uniqueValues.forEach(function(e){var t=new _c;e!==undefined&&null!==e&&""!==e?(i.column.filteringExpressionsTree?!0===e&&i.expressionsList.find(function(e){return"true"===e.expression.condition.name})?(t.isSelected=!0,i.selectAllIndeterminate=!0):!1===e&&i.expressionsList.find(function(e){return"false"===e.expression.condition.name})?(t.isSelected=!0,i.selectAllIndeterminate=!0):t.isSelected=!1:t.isSelected=!0,t.value=e,t.label=e,t.indeterminate=!1,i.listData.push(t)):i.containsNullOrEmpty=!0})},o.prototype.addItems=function(i){var n=this;this.selectAllSelected=!0,this.selectAllIndeterminate=!1,this.uniqueValues.forEach(function(e){if(e!==undefined&&null!==e&&""!==e){var t=new _c;n.column.filteringExpressionsTree?i?(n.filterValues.has(e)?t.isSelected=!0:t.isSelected=!1,n.selectAllIndeterminate=!0):(t.isSelected=!1,n.selectAllSelected=!1):t.isSelected=!0,n.column.dataType===Pi.Date?(t.value=new Date(e),t.label=new Date(e)):(t.value=e,t.label=e),t.indeterminate=!1,n.listData.push(t)}else n.containsNullOrEmpty=!0})},o.prototype.addSelectAllItem=function(){var e=new _c;e.isSelected=this.selectAllSelected,e.value=this.grid.resourceStrings.igx_grid_excel_select_all,e.label=this.grid.resourceStrings.igx_grid_excel_select_all,e.indeterminate=this.selectAllIndeterminate,e.isSpecial=!0,this.listData.unshift(e)},o.prototype.addBlanksItem=function(e){var t=new _c;this.column.filteringExpressionsTree?e&&(this.filterValues.has(null)?t.isSelected=!0:t.isSelected=!1):t.isSelected=!0,t.value=null,t.label=this.grid.resourceStrings.igx_grid_excel_blanks,t.indeterminate=!1,t.isSpecial=!0,this.listData.unshift(t)},o.prototype.sortData=function(e,t){var i=e.value,n=t.value;return typeof e===Pi.String&&(i=e.value.toUpperCase(),n=t.value.toUpperCase()),i<n?-1:n<i?1:0},Object.defineProperty(o.prototype,"sortingTemplate",{get:function(){return this.grid.excelStyleSortingTemplateDirective?this.grid.excelStyleSortingTemplateDirective.template:this.defaultExcelStyleSortingTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"movingTemplate",{get:function(){return this.grid.excelStyleMovingTemplateDirective?this.grid.excelStyleMovingTemplateDirective.template:this.defaultExcelStyleMovingTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"pinningTemplate",{get:function(){return this.grid.excelStylePinningTemplateDirective?this.grid.excelStylePinningTemplateDirective.template:this.defaultExcelStylePinningTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"hidingTemplate",{get:function(){return this.grid.excelStyleHidingTemplateDirective?this.grid.excelStyleHidingTemplateDirective.template:this.defaultExcelStyleHidingTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"applyButtonDisabled",{get:function(){return this.listData[0]&&!this.listData[0].isSelected&&!this.listData[0].indeterminate},enumerable:!0,configurable:!0}),o.prototype.applyFilter=function(){var i=this,n=new Ci(Si.Or,this.column.field),e=this.listData.slice(1,this.listData.length).filter(function(e){return!0===e.isSelected});if(this.listData.slice(1,this.listData.length).find(function(e){return!1===e.isSelected})){if(e.length<=o.filterOptimizationThreshold)e.forEach(function(e){var t=null;t=null!==e.value&&e.value!==undefined?i.column.dataType===Pi.Boolean?i.createCondition(e.value.toString()):i.createCondition("equals"):i.createCondition("empty"),n.filteringOperands.push({condition:t,fieldName:i.column.field,ignoreCase:i.column.filteringIgnoreCase,searchVal:e.value})});else{var t=e.findIndex(function(e){return null===e.value||e.value===undefined}),r=void 0;0<=t&&(r=e[t],e.splice(t,1)),this.column.dataType===Pi.Date?n.filteringOperands.push({condition:new Mo,fieldName:this.column.field,ignoreCase:this.column.filteringIgnoreCase,searchVal:new Set(e.map(function(e){return new Date(e.value.getFullYear(),e.value.getMonth(),e.value.getDate()).toISOString()}))}):n.filteringOperands.push({condition:new Fo,fieldName:this.column.field,ignoreCase:this.column.filteringIgnoreCase,searchVal:new Set(e.map(function(e){return e.value}))}),r&&n.filteringOperands.push({condition:this.createCondition("empty"),fieldName:this.column.field,ignoreCase:this.column.filteringIgnoreCase,searchVal:r.value})}this.expressionsList=new Array,this.filteringService.filterInternal(this.column.field,n)}else this.filteringService.clearFilter(this.column.field);this.closeDropdown()},o.prototype.closeDropdown=function(){this.overlayComponentId&&(this.overlayService.hide(this.overlayComponentId),this.overlayComponentId=null)},o.prototype.onKeyDown=function(e){"Escape"!==e.key&&"Esc"!==e.key||this.closeDropdown(),e.stopPropagation()},o.prototype.clearFilter=function(){this.filteringService.clearFilter(this.column.field),this.populateColumnData()},o.prototype.onClearFilterKeyDown=function(e){"Enter"===e.key&&this.clearFilter()},o.prototype.showCustomFilterItem=function(){var e=this.column.filteringExpressionsTree;return e&&e.filteringOperands&&e.filteringOperands.length&&!(e.filteringOperands[0].condition&&"in"===e.filteringOperands[0].condition.name)},o.prototype.createCondition=function(e){switch(this.column.dataType){case Pi.Boolean:return Ro.instance().condition(e);case Pi.Number:return Lo.instance().condition(e);case Pi.Date:return ko.instance().condition(e);default:return Ao.instance().condition(e)}},o.filterOptimizationThreshold=2,o.decorators=[{type:b.Component,args:[{changeDetection:b.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-grid-excel-style-filtering",template:'<article #dropdown\n    class="igx-excel-filter__menu"\n    [id]="overlayComponentId"\n    (keydown)="onKeyDown($event)">\n\n    <header class="igx-excel-filter__menu-header">\n        <h4 class="igx-typography__h6">{{ column.header || column.field }}</h4>\n        <div *ngIf="grid.displayDensity!==\'comfortable\'" class="igx-excel-filter__menu-header-actions">\n            <button *ngIf="!column.disablePinning && !column.pinned"\n                igxButton="icon"\n                [displayDensity]="grid.displayDensity"\n                (click)="onPin()"\n                tabindex="0">\n                <igx-icon fontSet="filtering-icons" name="pin"></igx-icon>\n            </button>\n            <button *ngIf="!column.disablePinning && column.pinned"\n                igxButton="icon"\n                [displayDensity]="grid.displayDensity"\n                (click)="onPin()"\n                tabindex="0">\n                <igx-icon fontSet="filtering-icons" name="unpin"></igx-icon>\n            </button>\n            <button *ngIf="!column.disableHiding"\n                igxButton="icon"\n                [displayDensity]="grid.displayDensity"\n                tabindex="0"\n                (click)="onHide()">\n                <igx-icon>visibility_off</igx-icon>\n            </button>\n        </div>\n    </header>\n\n    <ng-template #defaultExcelStyleSortingTemplate>\n        <igx-excel-style-sorting\n            #excelStyleSorting\n            [ngClass]="(grid.displayDensity===\'compact\')? \'igx-excel-filter__sort--compact\': \'igx-excel-filter__sort\'"\n            [column]="column"\n            [grid]="grid"\n            [displayDensity]="grid.displayDensity">\n        </igx-excel-style-sorting>\n    </ng-template>\n\n    <div *ngIf="column.sortable">\n        <ng-container *ngTemplateOutlet="sortingTemplate"></ng-container>\n    </div>\n\n    <section class="igx-excel-filter__actions">\n\n        <ng-template #defaultExcelStyleMovingTemplate>\n            <igx-excel-style-column-moving\n                [ngClass]="(grid.displayDensity===\'compact\')? \'igx-excel-filter__move--compact\': \'igx-excel-filter__move\'"\n                [column]="column"\n                [grid]="grid"\n                [displayDensity]="grid.displayDensity">\n            </igx-excel-style-column-moving>\n        </ng-template>\n\n        <div *ngIf="column.movable">\n            <ng-container *ngTemplateOutlet="movingTemplate"></ng-container>\n        </div>\n\n        <ng-template #defaultExcelStylePinningTemplate>\n            <div class="igx-excel-filter__actions-pin"\n                (click)="onPin()"\n                tabindex="0"\n                *ngIf="!column.pinned">\n                <span>{{ grid.resourceStrings.igx_grid_excel_pin }}</span>\n                <igx-icon fontSet="filtering-icons" name="pin"></igx-icon>\n            </div>\n\n            <div class="igx-excel-filter__actions-unpin"\n                (click)="onPin()"\n                tabindex="0"\n                *ngIf="column.pinned">\n                <span>{{ grid.resourceStrings.igx_grid_excel_unpin }}</span>\n                <igx-icon fontSet="filtering-icons" name="unpin"></igx-icon>\n            </div>\n        </ng-template>\n\n        <div *ngIf="!column.disablePinning && grid.displayDensity===\'comfortable\'">\n            <ng-container *ngTemplateOutlet="pinningTemplate"></ng-container>\n        </div>\n\n        <ng-template #defaultExcelStyleHidingTemplate>\n            <div class="igx-excel-filter__actions-hide"\n                tabindex="0"\n                (click)="onHide()">\n                <span>{{ grid.resourceStrings.igx_grid_excel_hide }}</span>\n                <igx-icon>visibility_off</igx-icon>\n            </div>\n        </ng-template>\n\n        <div *ngIf="!column.disableHiding && grid.displayDensity===\'comfortable\'">\n            <ng-container *ngTemplateOutlet="hidingTemplate"></ng-container>\n        </div>\n\n        <div\n            tabindex="0"\n            [ngClass]="clearFilterClass()"\n            (keydown)="onClearFilterKeyDown($event)"\n            (click)="clearFilter()">\n            <span>{{ grid.resourceStrings.igx_grid_excel_filter_clear }}</span>\n            <igx-icon>clear</igx-icon>\n        </div>\n\n        <div\n            tabindex="0"\n            class="igx-excel-filter__actions-filter"\n            (keydown)="onTextFilterKeyDown($event)"\n            (click)="onTextFilterClick($event)"\n            [igxDropDownItemNavigation]="subMenu" >\n            <span>{{ subMenuText }}</span>\n            <igx-icon>keyboard_arrow_right</igx-icon>\n        </div>\n    </section>\n\n    <igx-excel-style-search\n        class="igx-excel-filter__menu-main"\n        #excelStyleSearch\n        [column]="column"\n        [data]="listData"\n        [displayDensity]="grid.displayDensity">\n    </igx-excel-style-search>\n\n    <footer class="igx-excel-filter__menu-footer">\n        <button igxButton [displayDensity]="grid.displayDensity" (click)="closeDropdown()">{{ grid.resourceStrings.igx_grid_excel_cancel }}</button>\n        <button igxButton="raised" [displayDensity]="grid.displayDensity" [disabled]="applyButtonDisabled" (click)="applyFilter()">{{ grid.resourceStrings.igx_grid_excel_apply }}</button>\n    </footer>\n</article>\n\n<igx-drop-down [maxHeight]="\'397px\'" #subMenu (onSelection)="onSubMenuSelection($event)" (onClosed)="onSubMenuClosed()">\n    <div>\n        <igx-drop-down-item\n            *ngFor="let condition of conditions"\n            [value]="condition">\n            <igx-icon fontSet="filtering-icons" [name]="getCondition(condition).iconName"></igx-icon>\n            <span style="margin-left: 16px">{{ translateCondition(condition) }}</span>\n        </igx-drop-down-item>\n        <igx-drop-down-item *ngIf="showCustomFilterItem()">\n            <igx-icon>filter_list</igx-icon>\n            <span style="margin-left: 16px">{{ grid.resourceStrings.igx_grid_excel_custom_filter }}</span>\n        </igx-drop-down-item>\n    </div>\n</igx-drop-down>\n\n<igx-excel-style-custom-dialog\n    #customDialog\n    [column]="column"\n    [filteringService]="filteringService"\n    [overlayComponentId]="overlayComponentId"\n    [overlayService]="overlayService"\n    [displayDensity]="grid.displayDensity">\n</igx-excel-style-custom-dialog>\n'}]}],o.ctorParameters=function(){return[{type:b.ChangeDetectorRef}]},o.propDecorators={className:[{type:b.HostBinding,args:["class.igx-excel-filter"]}],mainDropdown:[{type:b.ViewChild,args:["dropdown",{read:b.ElementRef}]}],subMenu:[{type:b.ViewChild,args:["subMenu",{read:fr}]}],customDialog:[{type:b.ViewChild,args:["customDialog",{read:Cc}]}],excelStyleSearch:[{type:b.ViewChild,args:["excelStyleSearch",{read:vc}]}],excelStyleSorting:[{type:b.ViewChild,args:["excelStyleSorting",{read:wc}]}],defaultExcelStyleSortingTemplate:[{type:b.ViewChild,args:["defaultExcelStyleSortingTemplate",{read:b.TemplateRef}]}],defaultExcelStyleHidingTemplate:[{type:b.ViewChild,args:["defaultExcelStyleHidingTemplate",{read:b.TemplateRef}]}],defaultExcelStyleMovingTemplate:[{type:b.ViewChild,args:["defaultExcelStyleMovingTemplate",{read:b.TemplateRef}]}],defaultExcelStylePinningTemplate:[{type:b.ViewChild,args:["defaultExcelStylePinningTemplate",{read:b.TemplateRef}]}]},o}(),Pc=function(){function e(e,t,i,n,r,o,s,a){this.gridAPI=e,this.colResizingService=t,this.cdr=i,this.elementRef=n,this.zone=r,this._filteringService=o,this._moduleRef=s,this._overlayService=a,this._destroy$=new x.Subject,this.hostRole="columnheader",this.tabindex=-1,this.sortDirection=fi.None}return Object.defineProperty(e.prototype,"styleClasses",{get:function(){var n=["igx-grid__th--fw",this.column.headerClasses],e={"igx-grid__th":!this.column.columnGroup,asc:this.ascending,desc:this.descending,"igx-grid__th--number":this.column.dataType===Pi.Number,"igx-grid__th--sortable":this.column.sortable,"igx-grid__th--filtrable":this.column.filterable&&this.grid.filteringService.isFilterRowVisible,"igx-grid__th--sorted":this.sorted};return Object.entries(e).forEach(function(e){var t=w(e,2),i=t[0];t[1]&&n.push(i)}),n.join(" ")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.grid.hasColumnGroups?(this.grid.maxLevelHeaderDepth+1-this.column.level)*this.grid.defaultRowHeight:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ascending",{get:function(){return this.sortDirection===fi.Asc},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"descending",{get:function(){return this.sortDirection===fi.Desc},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortingIcon",{get:function(){return this.sortDirection!==fi.None?this.sortDirection===fi.Asc?"arrow_upward":"arrow_downward":"arrow_upward"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sorted",{get:function(){return this.sortDirection!==fi.None},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterIconClassName",{get:function(){return this.column.filteringExpressionsTree?"igx-excel-filter__icon--filtered":"igx-excel-filter__icon"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerID",{get:function(){return this.gridID+"_"+this.column.field},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.initFilteringSettings()},e.prototype.ngDoCheck=function(){this.getSortDirection(),this.cdr.markForCheck()},e.prototype.ngOnDestroy=function(){this._destroy$.next(!0),this._destroy$.complete(),this._componentOverlayId&&this._overlayService.hide(this._componentOverlayId)},e.prototype.onClick=function(e){this.colResizingService.isColumnResizing||(e.stopPropagation(),this.grid.filteringService.isFilterRowVisible?!this.column.filterable||this.column.columnGroup||this.grid.filteringService.isFilterComplex(this.column.field)||(this.grid.filteringService.filteredColumn=this.column):this.column.sortable&&this.triggerSort())},e.prototype.onFilteringIconClick=function(e){e.stopPropagation(),this.toggleFilterDropdown()},Object.defineProperty(e.prototype,"grid",{get:function(){return this.gridAPI.grid},enumerable:!0,configurable:!0}),e.prototype.getSortDirection=function(){var t=this,e=this.gridAPI.grid.sortingExpressions.find(function(e){return e.fieldName===t.column.field});this.sortDirection=e?e.dir:fi.None},e.prototype.onSortingIconClick=function(e){this.grid.filteringService.isFilterRowVisible&&(e.stopPropagation(),this.triggerSort())},e.prototype.triggerSort=function(){var t=this,e=(this.grid.groupingExpressions?this.grid.groupingExpressions.find(function(e){return e.fieldName===t.column.field}):null)?this.sortDirection+1>fi.Desc?fi.Asc:fi.Desc:this.sortDirection+1>fi.Desc?fi.None:this.sortDirection+1;this.sortDirection=e,this.grid.sort({fieldName:this.column.field,dir:this.sortDirection,ignoreCase:this.column.sortingIgnoreCase,strategy:this.column.sortStrategy})},e.prototype.toggleFilterDropdown=function(){if(!this._componentOverlayId){var e=this.elementRef.nativeElement.querySelector("."+this.filterIconClassName);this._filterMenuOverlaySettings.positionStrategy.settings.target=e,this._filterMenuOverlaySettings.outlet=this.grid.outlet,this._componentOverlayId=this._overlayService.attach(Oc,this._filterMenuOverlaySettings,this._moduleRef),this._overlayService.show(this._componentOverlayId,this._filterMenuOverlaySettings)}},e.prototype.initFilteringSettings=function(){var t=this;this._filterMenuPositionSettings={verticalStartPoint:fn.Bottom,openAnimation:u.useAnimation(d,{params:{duration:"250ms"}}),closeAnimation:u.useAnimation(h,{params:{duration:"200ms"}})},this._filterMenuOverlaySettings={closeOnOutsideClick:!0,modal:!1,positionStrategy:new Tn(this._filterMenuPositionSettings),scrollStrategy:new kn},this._overlayService.onOpening.pipe(p.filter(function(e){return e.id===t._componentOverlayId}),p.takeUntil(this._destroy$)).subscribe(function(e){t.onOverlayOpening(e)}),this._overlayService.onClosed.pipe(p.filter(function(e){return e.id===t._componentOverlayId}),p.takeUntil(this._destroy$)).subscribe(function(){t.onOverlayClosed()})},e.prototype.onOverlayOpening=function(e){var t=e.componentRef.instance;t&&t.initialize(this.column,this._filteringService,this._overlayService,e.id)},e.prototype.onOverlayClosed=function(){this._componentOverlayId=null},e.decorators=[{type:b.Component,args:[{changeDetection:b.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-grid-header",template:'<ng-template #defaultColumn>\n    {{ column.header || column.field }}\n</ng-template>\n\n<span class="igx-grid__th-title">\n    <ng-container *ngTemplateOutlet="column.headerTemplate ? column.headerTemplate : defaultColumn; context: { $implicit: column, column: column}">\n    </ng-container>\n</span>\n<div class="igx-grid__th-icons" *ngIf="!column.columnGroup">\n    <igx-icon [attr.draggable]="false"\n        class="sort-icon"\n        *ngIf="column.sortable"\n        (click)="onSortingIconClick($event)">\n        {{sortingIcon}}\n    </igx-icon>\n\n    <igx-icon [ngClass]="filterIconClassName" [attr.draggable]="false" (click)="onFilteringIconClick($event)"\n        *ngIf="grid.allowFiltering == true && column.filterable && grid.filterMode == \'excelStyleFilter\'">\n        filter_list\n    </igx-icon>\n</div>\n'}]}],e.ctorParameters=function(){return[{type:_i},{type:El},{type:b.ChangeDetectorRef},{type:b.ElementRef},{type:b.NgZone},{type:mc},{type:b.NgModuleRef},{type:En,decorators:[{type:b.Inject,args:[En]}]}]},e.propDecorators={column:[{type:b.Input}],gridID:[{type:b.Input}],styleClasses:[{type:b.HostBinding,args:["class"]}],height:[{type:b.HostBinding,args:["style.height.px"]}],hostRole:[{type:b.HostBinding,args:["attr.role"]}],tabindex:[{type:b.HostBinding,args:["attr.tabindex"]}],headerID:[{type:b.HostBinding,args:["attr.id"]}],onClick:[{type:b.HostListener,args:["click",["$event"]]}]},e}(),Tc=function(){function e(e,t,i){this.cdr=e,this.filteringService=t,this.navService=i,this.baseClass="igx-grid__filtering-cell-indicator",this.currentTemplate=null,this.moreFiltersCount=0,this.cssClass="igx-grid__filtering-cell",this.filteringService.subscribeToEvents()}return e.prototype.ngOnInit=function(){this.filteringService.columnToMoreIconHidden.set(this.column.field,!0)},e.prototype.ngAfterViewInit=function(){this.updateFilterCellArea()},e.prototype.ngDoCheck=function(){this.updateFilterCellArea()},e.prototype.onTabKeyDown=function(e){this.isLastElementFocused()&&this.filteringService.grid.navigation.navigateNextFilterCell(this.column,e),e.stopPropagation()},e.prototype.onShiftTabKeyDown=function(e){this.isFirstElementFocused()&&this.filteringService.grid.navigation.navigatePrevFilterCell(this.column,e),e.stopPropagation()},e.prototype.isChipVisible=function(e){var t=this.expressionsList[e];return!(!t||!t.isVisible)},e.prototype.updateFilterCellArea=function(){this.expressionsList=this.filteringService.getExpressions(this.column.field),this.updateVisibleFilters()},Object.defineProperty(e.prototype,"template",{get:function(){if(!this.column.filterable)return this.currentTemplate=null;if(this.column.filterCellTemplate)return this.currentTemplate=this.column.filterCellTemplate,this.column.filterCellTemplate;var e=this.column.filteringExpressionsTree;return e&&0!==e.filteringOperands.length?this.filteringService.isFilterComplex(this.column.field)?(this.currentTemplate=this.complexFilter,this.complexFilter):(this.currentTemplate=this.defaultFilter,this.defaultFilter):(this.currentTemplate=this.emptyFilter,this.emptyFilter)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return{column:this.column}},enumerable:!0,configurable:!0}),e.prototype.onChipClicked=function(t){t?this.expressionsList.forEach(function(e){e.isSelected=e.expression===t}):0<this.expressionsList.length&&(this.expressionsList.forEach(function(e){e.isSelected=!1}),this.expressionsList[0].isSelected=!0);var e=this.filteringService.unpinnedFilterableColumns.indexOf(this.column);0<=e&&!this.isColumnRightVisible(e)?this.filteringService.scrollToFilterCell(this.filteringService.unpinnedFilterableColumns[e],!0):0<=e&&!this.isColumnLeftVisible(e)&&this.filteringService.scrollToFilterCell(this.filteringService.unpinnedFilterableColumns[e],!1),this.filteringService.filteredColumn=this.column,this.filteringService.isFilterRowVisible=!0,this.filteringService.selectedExpression=t},e.prototype.onChipRemoved=function(e,t){var i=this.expressionsList.indexOf(t);this.removeExpression(i),this.focusChip()},e.prototype.clearFiltering=function(){this.filteringService.clearFilter(this.column.field),this.cdr.detectChanges()},e.prototype.onChipKeyDown=function(e,t){"Enter"===e.key&&(e.preventDefault(),this.onChipClicked(t))},e.prototype.filteringIndicatorClass=function(){var e;return(e={})[this.baseClass]=!this.isMoreIconHidden(),e[this.baseClass+"--hidden"]=this.isMoreIconHidden(),e},e.prototype.focusChip=function(e){void 0===e&&(e=!1),this.currentTemplate===this.defaultFilter?e?this.focusFirstElement():this.focusElement():this.currentTemplate===this.emptyFilter?this.ghostChip.elementRef.nativeElement.querySelector(".igx-chip__item").focus():this.currentTemplate===this.complexFilter&&this.complexChip.elementRef.nativeElement.querySelector(".igx-chip__item").focus()},e.prototype.removeExpression=function(e){0!==e||1!==this.expressionsList.length?(this.filteringService.removeExpression(this.column.field,e),this.updateVisibleFilters(),this.filteringService.filterInternal(this.column.field)):this.clearFiltering()},e.prototype.isMoreIconHidden=function(){return this.filteringService.columnToMoreIconHidden.get(this.column.field)},e.prototype.updateVisibleFilters=function(){if(this.expressionsList.forEach(function(e){return e.isVisible=!0}),this.moreIcon&&this.filteringService.columnToMoreIconHidden.set(this.column.field,!0),this.cdr.detectChanges(),this.chipsArea&&1<this.expressionsList.length){for(var e=this.chipsArea.element.nativeElement.offsetWidth,t=0,i=this.chipsArea.element.nativeElement.children,n=0,r=this.moreIcon.nativeElement.offsetWidth-parseInt(document.defaultView.getComputedStyle(this.moreIcon.nativeElement)["margin-left"],10),o=0;o<i.length-1;o++){if(!(t+i[o].offsetWidth<e)){o%2!=0&&e<t+r?n--:0<n&&t-i[o-1].offsetWidth+r>e&&n--,this.moreFiltersCount=this.expressionsList.length-n,this.filteringService.columnToMoreIconHidden.set(this.column.field,!1);break}t+=i[o].offsetWidth,o%2==0?n++:(t+=parseInt(document.defaultView.getComputedStyle(i[o])["margin-left"],10),t+=parseInt(document.defaultView.getComputedStyle(i[o])["margin-right"],10))}for(var s=n;s<this.expressionsList.length;s++)this.expressionsList[s].isVisible=!1;this.cdr.detectChanges()}},e.prototype.isFirstElementFocused=function(){return!(this.chipsArea&&0<this.chipsArea.chipsList.length&&this.chipsArea.chipsList.first.elementRef.nativeElement.querySelector(".igx-chip__item")!==document.activeElement)},e.prototype.isLastElementFocused=function(){if(this.chipsArea){if(this.isMoreIconHidden()&&this.chipsArea.chipsList.last.elementRef.nativeElement.querySelector(".igx-chip__remove")!==document.activeElement)return!1;if(!this.isMoreIconHidden()&&this.moreIcon.nativeElement!==document.activeElement)return!1}return!0},e.prototype.focusFirstElement=function(){0<this.chipsArea.chipsList.length?this.chipsArea.chipsList.first.elementRef.nativeElement.querySelector(".igx-chip__item").focus():this.moreIcon.nativeElement.focus()},e.prototype.focusElement=function(){this.filteringService.shouldFocusNext?this.isMoreIconHidden()||0!==this.chipsArea.chipsList.length?this.chipsArea.chipsList.first.elementRef.nativeElement.querySelector(".igx-chip__item").focus():this.moreIcon.nativeElement.focus():this.isMoreIconHidden()?this.chipsArea.chipsList.last.elementRef.nativeElement.querySelector(".igx-chip__remove").focus():this.moreIcon.nativeElement.focus()},e.prototype.isColumnRightVisible=function(e){if(this.filteringService.areAllColumnsInView)return!0;for(var t=0,i=0;i<this.filteringService.unpinnedColumns.length&&(t+=parseInt(this.filteringService.unpinnedColumns[i].width,10),this.filteringService.unpinnedColumns[i]!==this.filteringService.unpinnedFilterableColumns[e]);i++);return t<=this.filteringService.displayContainerWidth+this.filteringService.displayContainerScrollLeft},e.prototype.isColumnLeftVisible=function(e){if(this.filteringService.areAllColumnsInView)return!0;for(var t=0,i=0;i<this.filteringService.unpinnedColumns.length&&this.filteringService.unpinnedColumns[i]!==this.filteringService.unpinnedFilterableColumns[e];i++)t+=parseInt(this.filteringService.unpinnedColumns[i].width,10);return t>=this.filteringService.displayContainerScrollLeft},e.decorators=[{type:b.Component,args:[{changeDetection:b.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-grid-filtering-cell",template:'<ng-template #emptyFilter>\n        <igx-chips-area [attr.draggable]="false" class="igx-filtering-chips">\n            <igx-chip #ghostChip [attr.draggable]="false" (click)="onChipClicked()" (keydown)="onChipKeyDown($event)" [displayDensity]="\'cosy\'">\n                <igx-icon [attr.draggable]="false" igxPrefix>filter_list</igx-icon>\n                <span [attr.draggable]="false">{{filteringService.grid.resourceStrings.igx_grid_filter}}</span>\n            </igx-chip>\n        </igx-chips-area>\n</ng-template>\n\n<ng-template #defaultFilter>\n    <igx-chips-area #chipsArea class="igx-filtering-chips">\n        <ng-container *ngFor="let item of expressionsList; let last = last; let index = index;" >\n            <igx-chip\n                *ngIf="isChipVisible(index)"\n                [removable]="true"\n                [displayDensity]="\'cosy\'"\n                (click)="onChipClicked(item.expression)"\n                (keydown)="onChipKeyDown($event, item.expression)"\n                (onRemove)="onChipRemoved($event, item)">\n                <igx-icon igxPrefix\n                    fontSet="filtering-icons"\n                    [name]="item.expression.condition.iconName">\n                </igx-icon>\n                <span #label>\n                    {{filteringService.getChipLabel(item.expression)}}\n                </span>\n            </igx-chip>\n            <span class="igx-filtering-chips__connector" *ngIf="!last && isChipVisible(index + 1)">{{filteringService.getOperatorAsString(item.afterOperator)}}</span>\n        </ng-container>\n        <div #moreIcon [ngClass]="filteringIndicatorClass()" (click)="onChipClicked()" (keydown)="onChipKeyDown($event)" tabindex="0">\n            <igx-icon>filter_list</igx-icon>\n            <igx-badge [value]="moreFiltersCount"></igx-badge>\n        </div>\n    </igx-chips-area>\n</ng-template>\n\n<ng-template #complexFilter>\n    <igx-chip #complexChip [removable]="true" [displayDensity]="\'cosy\'" (onRemove)="clearFiltering()">\n        <igx-icon igxPrefix>filter_list</igx-icon>\n        <span>{{filteringService.grid.resourceStrings.igx_grid_complex_filter}}</span>\n    </igx-chip>\n</ng-template>\n\n<ng-container *ngTemplateOutlet="template; context: context"></ng-container>\n'}]}],e.ctorParameters=function(){return[{type:b.ChangeDetectorRef},{type:mc},{type:lc}]},e.propDecorators={column:[{type:b.Input}],emptyFilter:[{type:b.ViewChild,args:["emptyFilter",{read:b.TemplateRef}]}],defaultFilter:[{type:b.ViewChild,args:["defaultFilter",{read:b.TemplateRef}]}],complexFilter:[{type:b.ViewChild,args:["complexFilter",{read:b.TemplateRef}]}],chipsArea:[{type:b.ViewChild,args:["chipsArea",{read:Ia}]}],moreIcon:[{type:b.ViewChild,args:["moreIcon",{read:b.ElementRef}]}],ghostChip:[{type:b.ViewChild,args:["ghostChip",{read:Sa}]}],complexChip:[{type:b.ViewChild,args:["complexChip",{read:Sa}]}],cssClass:[{type:b.HostBinding,args:["class.igx-grid__filtering-cell"]}],onTabKeyDown:[{type:b.HostListener,args:["keydown.tab",["$event"]]}],onShiftTabKeyDown:[{type:b.HostListener,args:["keydown.shift.tab",["$event"]]}]},e}(),Rc=function(){function e(e,t,i,n,r){this.cdr=e,this.gridAPI=t,this.element=i,this.colResizingService=n,this.filteringService=r}return Object.defineProperty(e.prototype,"gridRowSpan",{get:function(){return this.column.gridRowSpan},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridColumnSpan",{get:function(){return this.column.gridColumnSpan},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowEnd",{get:function(){return this.column.rowEnd},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colEnd",{get:function(){return this.column.colEnd},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowStart",{get:function(){return this.column.rowStart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colStart",{get:function(){return this.column.colStart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.grid.getHeaderGroupWidth(this.column)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"styleClasses",{get:function(){var n=["igx-grid__thead-item",this.column.headerGroupClasses],e={"igx-grid__th--pinned":this.isPinned,"igx-grid__th--pinned-last":this.isLastPinned,"igx-grid__drag-col-header":this.isHeaderDragged,"igx-grid__th--filtering":this.isFiltered};return Object.entries(e).forEach(function(e){var t=w(e,2),i=t[0];t[1]&&n.push(i)}),n.join(" ")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this.column.pinned?9999-this.grid.pinnedColumns.indexOf(this.column):null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){return this.gridAPI.grid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFiltered",{get:function(){return this.filteringService.filteredColumn===this.column},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLastPinned",{get:function(){return!this.grid.hasColumnLayouts&&this.column.isLastPinned},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupDisplayStyle",{get:function(){return this.grid.hasColumnLayouts&&this.column.children&&!ai()?"flex":""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mrlBlockHeight",{get:function(){return this.grid.hasColumnLayouts&&this.column.children&&ai()?"100%":""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPinned",{get:function(){return this.column.pinned},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isHeaderDragged",{get:function(){return this.grid.draggedColumn===this.column},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasLastPinnedChildColumn",{get:function(){return this.column.allChildren.some(function(e){return e.isLastPinned})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.element.nativeElement.getBoundingClientRect().height},enumerable:!0,configurable:!0}),e.prototype.onMouseDown=function(e){e.preventDefault()},e.prototype.ngDoCheck=function(){this.cdr.markForCheck()},e.decorators=[{type:b.Component,args:[{changeDetection:b.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-grid-header-group",template:'<ng-container *ngIf="grid.hasColumnLayouts && column.columnGroup">\n    <span *ngIf="grid.hasMovableColumns" class="igx-grid__th-drop-indicator-left"></span>\n    <div class="igx-grid__thead-group igx-grid__mrl-block"\n     [ngClass]="{\'igx-grid__th--pinned-last\': hasLastPinnedChildColumn}"\n     [ngStyle]="{\'grid-template-rows\':column.getGridTemplate(true, false),\n     \'grid-template-columns\':column.getGridTemplate(false, false),\n     \'-ms-grid-rows\':column.getGridTemplate(true, true),\n     \'-ms-grid-columns\':column.getGridTemplate(false, true),\n        \'height\':  mrlBlockHeight }">\n        <ng-container *ngFor="let child of column.children" >\n            <igx-grid-header-group *ngIf="!child.hidden" class="igx-grid__thead-subgroup"\n                [column]="child"\n                [gridID]="child.gridID"\n                [igxColumnMovingDrag]="child"\n                [dragGhostHost]="grid.outletDirective.nativeElement"\n                [attr.droppable]="true"\n                [igxColumnMovingDrop]="child">\n            </igx-grid-header-group>\n        </ng-container>\n    </div>\n    <span *ngIf="grid.hasMovableColumns" class="igx-grid__th-drop-indicator-right"></span>\n</ng-container>\n\n<ng-container *ngIf="!grid.hasColumnLayouts && column.columnGroup">\n    <span *ngIf="grid.hasMovableColumns" class="igx-grid__th-drop-indicator-left"></span>\n    <div class="igx-grid__thead-title"\n        [ngClass]="{\'igx-grid__th--pinned-last\': hasLastPinnedChildColumn}"\n        [igxColumnMovingDrag]="column"\n        [dragGhostHost]="grid.outletDirective.nativeElement"\n        [attr.droppable]="true"\n        [igxColumnMovingDrop]="column">{{ column.header }}</div>\n    <div class="igx-grid__thead-group">\n        <ng-container *ngFor="let child of column.children">\n            <igx-grid-header-group *ngIf="!child.hidden" class="igx-grid__thead-subgroup"\n                                [column]="child"\n                                [gridID]="child.grid.id"\n                                [style.min-width.px]="grid.getHeaderGroupWidth(child)"\n                                [style.flex-basis.px]="grid.getHeaderGroupWidth(child)">\n            </igx-grid-header-group>\n        </ng-container>\n    </div>\n    <span *ngIf="grid.hasMovableColumns" class="igx-grid__th-drop-indicator-right"></span>\n</ng-container>\n\n<ng-container *ngIf="!column.columnGroup">\n    <span *ngIf="grid.hasMovableColumns" class="igx-grid__th-drop-indicator-left"></span>\n    <igx-grid-header [igxColumnMovingDrag]="column" [dragGhostHost]="grid.outletDirective.nativeElement" [attr.droppable]="true" [igxColumnMovingDrop]="column" [gridID]="column.grid.id" [column]="column"></igx-grid-header>\n    <igx-grid-filtering-cell *ngIf="grid.allowFiltering && grid.filterMode == \'quickFilter\'" [column]="column" [attr.draggable]="false"></igx-grid-filtering-cell>\n    <span *ngIf="!column.columnGroup && column.resizable" class="igx-grid__th-resize-handle"\n          [igxResizeHandle]="column"\n          [attr.draggable]="false"\n          [style.cursor]="colResizingService.resizeCursor">\n    </span>\n    <span *ngIf="grid.hasMovableColumns" class="igx-grid__th-drop-indicator-right"></span>\n</ng-container>\n'}]}],e.ctorParameters=function(){return[{type:b.ChangeDetectorRef},{type:_i},{type:b.ElementRef},{type:El},{type:mc}]},e.propDecorators={gridRowSpan:[{type:b.HostBinding,args:["style.-ms-grid-row-span"]}],gridColumnSpan:[{type:b.HostBinding,args:["style.-ms-grid-column-span"]}],rowEnd:[{type:b.HostBinding,args:["style.grid-row-end"]}],colEnd:[{type:b.HostBinding,args:["style.grid-column-end"]}],rowStart:[{type:b.HostBinding,args:["style.-ms-grid-row"]},{type:b.HostBinding,args:["style.grid-row-start"]}],colStart:[{type:b.HostBinding,args:["style.-ms-grid-column"]},{type:b.HostBinding,args:["style.grid-column-start"]}],column:[{type:b.Input}],gridID:[{type:b.Input}],headerCell:[{type:b.ViewChild,args:[Pc]}],filterCell:[{type:b.ViewChild,args:[Tc]}],children:[{type:b.ViewChildren,args:[b.forwardRef(function(){return e}),{read:e}]}],width:[{type:b.HostBinding,args:["style.min-width"]},{type:b.HostBinding,args:["style.flex-basis"]}],styleClasses:[{type:b.HostBinding,args:["class"]}],zIndex:[{type:b.HostBinding,args:["style.z-index"]}],groupDisplayStyle:[{type:b.HostBinding,args:["style.display"]}],onMouseDown:[{type:b.HostListener,args:["mousedown",["$event"]]}]},e}(),kc={GridResStrings:ni({igx_grid_groupByArea_message:"Drag a column header and drop it here to group by that column.",igx_grid_emptyFilteredGrid_message:"No records found.",igx_grid_emptyGrid_message:"Grid has no data.",igx_grid_filter:"Filter",igx_grid_filter_row_close:"Close",igx_grid_filter_row_reset:"Reset",igx_grid_filter_row_placeholder:"Add filter value",igx_grid_filter_row_boolean_placeholder:"All",igx_grid_filter_row_date_placeholder:"Pick up date",igx_grid_filter_operator_and:"And",igx_grid_filter_operator_or:"Or",igx_grid_complex_filter:"Complex Filter",igx_grid_filter_contains:"Contains",igx_grid_filter_doesNotContain:"Does Not Contain",igx_grid_filter_startsWith:"Starts With",igx_grid_filter_endsWith:"Ends With",igx_grid_filter_equals:"Equals",igx_grid_filter_doesNotEqual:"Does Not Equal",igx_grid_filter_empty:"Empty",igx_grid_filter_notEmpty:"Not Empty",igx_grid_filter_null:"Null",igx_grid_filter_notNull:"Not Null",igx_grid_filter_before:"Before",igx_grid_filter_after:"After",igx_grid_filter_today:"Today",igx_grid_filter_yesterday:"Yesterday",igx_grid_filter_thisMonth:"This Month",igx_grid_filter_lastMonth:"Last Month",igx_grid_filter_nextMonth:"Next Month",igx_grid_filter_thisYear:"This Year",igx_grid_filter_lastYear:"Last Year",igx_grid_filter_nextYear:"Next Year",igx_grid_filter_greaterThan:"Greater Than",igx_grid_filter_lessThan:"Less Than",igx_grid_filter_greaterThanOrEqualTo:"Greater Than Or Equal To",igx_grid_filter_lessThanOrEqualTo:"Less Than Or Equal To",igx_grid_filter_true:"True",igx_grid_filter_false:"False",igx_grid_filter_all:"All",igx_grid_filter_condition_placeholder:"Select filter",igx_grid_summary_count:"Count",igx_grid_summary_min:"Min",igx_grid_summary_max:"Max",igx_grid_summary_sum:"Sum",igx_grid_summary_average:"Avg",igx_grid_summary_earliest:"Earliest",igx_grid_summary_latest:"Latest",igx_grid_excel_filter_moving_left:"move left",igx_grid_excel_filter_moving_left_short:"left",igx_grid_excel_filter_moving_right:"move right",igx_grid_excel_filter_moving_right_short:"right",igx_grid_excel_filter_moving_header:"move",igx_grid_excel_filter_sorting_asc:"ascending",igx_grid_excel_filter_sorting_asc_short:"asc",igx_grid_excel_filter_sorting_desc:"descending",igx_grid_excel_filter_sorting_desc_short:"desc",igx_grid_excel_filter_sorting_header:"sort",igx_grid_excel_filter_clear:"Clear column filters",igx_grid_excel_custom_dialog_add:"add filter",igx_grid_excel_custom_dialog_clear:"Clear filter",igx_grid_excel_custom_dialog_header:"Custom auto-filter on column: ",igx_grid_excel_cancel:"cancel",igx_grid_excel_apply:"apply",igx_grid_excel_search_placeholder:"Search",igx_grid_excel_select_all:"Select All",igx_grid_excel_blanks:"(Blanks)",igx_grid_excel_hide:"Hide column",igx_grid_excel_pin:"Pin column",igx_grid_excel_unpin:"Unpin column",igx_grid_excel_text_filter:"Text filter",igx_grid_excel_number_filter:"Number filter",igx_grid_excel_date_filter:"Date filter",igx_grid_excel_boolean_filter:"Boolean filter",igx_grid_excel_custom_filter:"Custom filter..."}),TimePickerResStrings:ni({igx_time_picker_ok:"OK",igx_time_picker_cancel:"Cancel"})};function Lc(e,t){var i,n;try{for(var r=S(Object.keys(t)),o=r.next();!o.done;o=r.next()){var s=o.value;s in e&&(e[s]=t[s])}}catch(a){i={error:a}}finally{try{o&&!o.done&&(n=r["return"])&&n.call(r)}finally{if(i)throw i.error}}}var Ac=function(){function e(){this.summaryCacheMap=new Map,this.rootSummaryID="igxGridRootSummary",this.summaryHeight=0,this.maxSummariesLenght=0,this.groupingExpressions=[],this.retriggerRootPipe=0,this.deleteOperation=!1}return e.prototype.recalculateSummaries=function(){this.resetSummaryHeight(),this.grid.calculateGridHeight(),this.grid.cdr.detectChanges()},e.prototype.clearSummaryCache=function(t){if(this.summaryCacheMap.size){if(!t)return this.summaryCacheMap.clear(),void(this.grid&&this.grid.rootSummariesEnabled&&this.retriggerRootPipe++);if(t.data){var e=this.grid.primaryKey?t.data[this.grid.primaryKey]:t.data;this.removeSummaries(e)}if(t.rowID!==undefined&&null!==t.rowID){var i=t.cellID?this.grid.columnList.find(function(e){return e.index===t.cellID.columnID}).field:undefined;if(i&&this.grid.rowEditable)return;var n=this.grid.groupingExpressions&&-1!==this.grid.groupingExpressions.map(function(e){return e.fieldName}).indexOf(i);i&&n&&(i=undefined),this.removeSummaries(t.rowID,i)}}},e.prototype.removeSummaries=function(e,t){var i=this;if(this.deleteSummaryCache(this.rootSummaryID,t),1!==this.summaryCacheMap.size||!this.summaryCacheMap.has(this.rootSummaryID))if(this.isTreeGrid){if(this.grid.transactions.enabled&&this.deleteOperation)return this.deleteOperation=!1,void this.summaryCacheMap.clear();this.removeAllTreeGridSummaries(e,t)}else if(this.isHierarchicalGrid)this.grid.transactions.enabled&&this.deleteOperation&&(this.deleteOperation=!1,this.summaryCacheMap.clear());else{this.getSummaryID(e,this.grid.groupingExpressions).forEach(function(e){i.deleteSummaryCache(e,t)})}},e.prototype.removeSummariesCachePerColumn=function(t){this.summaryCacheMap.forEach(function(e){e.get(t)&&e["delete"](t)}),this.grid.rootSummariesEnabled&&this.retriggerRootPipe++},e.prototype.calcMaxSummaryHeight=function(){if(this.summaryHeight)return this.summaryHeight;if(!this.grid.data)return this.summaryHeight=0;var i=0;return this.grid.columnList.filter(function(e){return e.hasSummary&&!e.hidden}).forEach(function(e){var t=e.summaries.operate([]).length;t&&i<t&&(i=t)}),this.maxSummariesLenght=i,this.summaryHeight=i*this.grid.defaultSummaryHeight,this.summaryHeight},e.prototype.calculateSummaries=function(e,i){var n=this.summaryCacheMap.get(e);return n||(n=new Map,this.summaryCacheMap.set(e,n)),this.hasSummarizedColumns&&i&&this.grid.columnList.filter(function(e){return e.hasSummary}).forEach(function(t){if(!n.get(t.field)){var e=i.map(function(e){return e[t.field]});n.set(t.field,t.summaries.operate(e))}}),n},e.prototype.resetSummaryHeight=function(){this.summaryHeight=0,this.grid._summaryPipeTrigger++,this.grid.rootSummariesEnabled&&this.retriggerRootPipe++},e.prototype.updateSummaryCache=function(e){if(0!==this.summaryCacheMap.size&&this.hasSummarizedColumns)if(0!==this.groupingExpressions.length){if(0===e.length)return this.groupingExpressions=[],void this.clearSummaryCache();this.compareGroupingExpressions(this.groupingExpressions,e),this.groupingExpressions=e.expressions.map(function(e){return e.fieldName})}else this.groupingExpressions=e.expressions.map(function(e){return e.fieldName})},Object.defineProperty(e.prototype,"hasSummarizedColumns",{get:function(){return 0<this.grid.columnList.filter(function(e){return e.hasSummary&&!e.hidden}).length},enumerable:!0,configurable:!0}),e.prototype.deleteSummaryCache=function(e,t){if(this.summaryCacheMap.get(e)){var i=t&&this.grid.filteringExpressionsTree&&-1!==this.grid.filteringExpressionsTree.filteringOperands.map(function(e){return e.fieldName}).indexOf(t);t&&this.summaryCacheMap.get(e).get(t)&&!i?this.summaryCacheMap.get(e)["delete"](t):this.summaryCacheMap["delete"](e),e===this.rootSummaryID&&this.grid.rootSummariesEnabled&&this.retriggerRootPipe++}},e.prototype.getSummaryID=function(t,e){var i=this;if(0===e.length)return[];var n=[],r=this.grid.data;this.grid.transactions.enabled&&(r=Ti.mergeTransactions(ti(this.grid.data),this.grid.transactions.getAggregatedChanges(!0),this.grid.primaryKey));var o=this.grid.primaryKey?r.find(function(e){return e[i.grid.primaryKey]===t}):t,s="{ ";return e.forEach(function(e){s+="'"+e.fieldName+"': '"+o[e.fieldName]+"'",n.push(s.concat(" }")),s+=", "}),n},e.prototype.removeAllTreeGridSummaries=function(e,t){var i=this.grid.records.get(e);if(i)for(i=i.children?i:i.parent;i;)e=i.rowID,this.deleteSummaryCache(e,t),i=i.parent},e.prototype.removeChildRowSummaries=function(e,t){},e.prototype.compareGroupingExpressions=function(e,t){var n=this,i=t.expressions.map(function(e){return e.fieldName}),r=t.ungroupedColumns;if(e.length<=i.length){var o=i.slice(0,e.length).toString();e.toString()!==o&&this.clearSummaryCache()}else{if(e.slice(0,i.length).toString()!==i.toString())return void this.clearSummaryCache();r.map(function(e){return e.field}).forEach(function(i){n.summaryCacheMap.forEach(function(e,t){-1!==t.indexOf(i)&&n.summaryCacheMap["delete"](t)})})}},Object.defineProperty(e.prototype,"isTreeGrid",{get:function(){return"igx-tree-grid"===this.grid.nativeElement.tagName.toLowerCase()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isHierarchicalGrid",{get:function(){return"igx-hierarchical-grid"===this.grid.nativeElement.tagName.toLowerCase()},enumerable:!0,configurable:!0}),e.decorators=[{type:b.Injectable}],e}(),Fc=function(){function e(e,t){this.element=e,this.selectionService=t,this.firstCellIndentation=0,this.hasSummary=!1,this.tabindex=0}return Object.defineProperty(e.prototype,"visibleColumnIndex",{get:function(){return this.column.visibleIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"describeby",{get:function(){return"Summary_"+this.column.field},enumerable:!0,configurable:!0}),e.prototype.onFocus=function(){this.focused=!0},e.prototype.onBlur=function(){this.focused=!1},Object.defineProperty(e.prototype,"selectionNode",{get:function(){return{row:this.rowIndex,column:this.column.columnLayoutChild?this.column.parent.visibleIndex:this.visibleColumnIndex,isSummaryRow:!0}},enumerable:!0,configurable:!0}),e.prototype.dispatchEvent=function(e){var t=e.key.toLowerCase(),i=e.ctrlKey,n=e.shiftKey;if(gi.has(t)){e.stopPropagation();var r={targetType:"summaryCell",target:this,event:e,cancel:!1};if(this.grid.onGridKeydown.emit(r),!r.cancel&&(e.preventDefault(),this.isKeySupportedInCell(t,i))){this.selectionService.keyboardState.shift=n&&!("tab"===t);var o=this.getRowElementByIndex(this.rowIndex);switch(t){case"tab":if(n){this.grid.navigation.performShiftTabKey(o,this.selectionNode);break}this.grid.navigation.performTab(o,this.selectionNode);break;case"arrowleft":case"home":case"left":if(i||"home"===t){this.grid.navigation.onKeydownHome(this.rowIndex,!0);break}this.grid.navigation.onKeydownArrowLeft(this.nativeElement,this.selectionNode);break;case"end":case"arrowright":case"right":if(i||"end"===t){this.grid.navigation.onKeydownEnd(this.rowIndex,!0);break}this.grid.navigation.onKeydownArrowRight(this.nativeElement,this.selectionNode);break;case"arrowup":case"up":this.grid.navigation.navigateUp(o,this.selectionNode);break;case"arrowdown":case"down":this.grid.navigation.navigateDown(o,this.selectionNode)}}}},Object.defineProperty(e.prototype,"width",{get:function(){return this.column.getCellWidth()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.element.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnDatatype",{get:function(){return this.column.dataType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemHeight",{get:function(){return this.column.grid.defaultSummaryHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){return this.column.grid},enumerable:!0,configurable:!0}),e.prototype.getRowElementByIndex=function(t){return this.grid.summariesRowList.toArray().find(function(e){return e.dataRowIndex===t}).nativeElement},e.prototype.isKeySupportedInCell=function(e,t){return t?-1===["arrowup","arrowdown","up","down","end","home"].indexOf(e):-1!==["down","up","left","right","arrowdown","arrowup","arrowleft","arrowright","home","end","tab"].indexOf(e)},e.prototype.translateSummary=function(e){return this.grid.resourceStrings["igx_grid_summary_"+e.key]||e.label},e.decorators=[{type:b.Component,args:[{changeDetection:b.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-grid-summary-cell",template:'<ng-container *ngIf="hasSummary">\n    <ng-container *ngFor="let summary of summaryResults">\n            <div class="igx-grid-summary__item" [style.height.px]="itemHeight">\n\n                <ng-container *ngIf="visibleColumnIndex === 0 && firstCellIndentation >= 0">\n                    <div class="igx-grid__tree-cell--padding-level-{{firstCellIndentation}}"></div>\n\n                    <div #indicator class="igx-grid__tree-grouping-indicator" style="visibility: hidden">\n                        <igx-icon fontSet="material">chevron_right</igx-icon>\n                    </div>\n                </ng-container>\n\n                <span class="igx-grid-summary__label" title="{{ summary.label }}">{{ translateSummary(summary) }}</span>\n                <span class="igx-grid-summary__result" title="{{ summary.summaryResult }}">\n                    {{ columnDatatype === \'number\' ? (summary.summaryResult | igxdecimal: grid.locale) : columnDatatype === \'date\' ? (summary.summaryResult | igxdate: grid.locale) : (summary.summaryResult) }}\n                </span>\n            </div>\n    </ng-container>\n</ng-container>\n'}]}],e.ctorParameters=function(){return[{type:b.ElementRef},{type:bl}]},e.propDecorators={summaryResults:[{type:b.Input}],column:[{type:b.Input}],firstCellIndentation:[{type:b.Input}],hasSummary:[{type:b.Input}],density:[{type:b.Input}],rowIndex:[{type:b.Input},{type:b.HostBinding,args:["attr.data-rowIndex"]}],visibleColumnIndex:[{type:b.HostBinding,args:["attr.data-visibleIndex"]}],tabindex:[{type:b.HostBinding,args:["attr.tabindex"]}],describeby:[{type:b.HostBinding,args:["attr.aria-describedby"]}],focused:[{type:b.HostBinding,args:["class.igx-grid-summary--active"]}],onFocus:[{type:b.HostListener,args:["focus"]}],onBlur:[{type:b.HostListener,args:["blur"]}],dispatchEvent:[{type:b.HostListener,args:["keydown",["$event"]]}],width:[{type:b.HostBinding,args:["style.min-width"]},{type:b.HostBinding,args:["style.max-width"]},{type:b.HostBinding,args:["style.flex-basis"]}]},e}(),Mc=function(){function e(e,t,i){this.gridAPI=e,this.element=t,this.cdr=i,this.firstCellIndentation=-1}return Object.defineProperty(e.prototype,"dataRowIndex",{get:function(){return this.index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minHeight",{get:function(){return this.grid.summaryService.calcMaxSummaryHeight()-1},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){this.cdr.markForCheck()},Object.defineProperty(e.prototype,"grid",{get:function(){return this.gridAPI.grid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.element.nativeElement},enumerable:!0,configurable:!0}),e.prototype.getColumnSummaries=function(e){return this.summaries.get(e)?this.summaries.get(e):[]},Object.defineProperty(e.prototype,"pinnedColumns",{get:function(){return this.grid.pinnedColumns},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"unpinnedColumns",{get:function(){return this.grid.unpinnedColumns},enumerable:!0,configurable:!0}),e.decorators=[{type:b.Component,args:[{changeDetection:b.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-grid-summary-row",template:'<ng-container *ngIf="summaries.size">\n    <ng-container *ngIf="grid.summariesMargin">\n        <div\n        class="igx-grid__summaries-patch"\n        [style.min-width.px]="grid.summariesMargin"\n        [style.flex-basis.px]="grid.summariesMargin"\n        ></div>\n    </ng-container>\n    <ng-container *ngIf="pinnedColumns.length > 0">\n        <igx-grid-summary-cell *ngFor="let col of pinnedColumns | igxNotGrouped"\n            class="igx-grid-summary igx-grid-summary--fw igx-grid-summary--pinned"\n            [class.igx-grid-summary--cosy]="grid.displayDensity === \'cosy\'"\n            [class.igx-grid-summary--compact]="grid.displayDensity === \'compact\'"\n            [class.igx-grid-summary--empty]="!col.hasSummary"\n            [class.igx-grid-summary--pinned-last]="col.isLastPinned"\n            [column]="col"\n            [firstCellIndentation]="firstCellIndentation"\n            [rowIndex]="index"\n            [summaryResults]="getColumnSummaries(col.field)"\n            [hasSummary]="col.hasSummary"\n            [density]="grid.displayDensity"\n            [style.max-height.px]="minHeight"\n            [style.min-height.px]="minHeight">\n        </igx-grid-summary-cell>\n    </ng-container>\n    <ng-template igxGridFor let-col [igxGridForOf]="unpinnedColumns | igxNotGrouped" [igxForScrollContainer]="grid.parentVirtDir" let-colIndex="index" [igxForScrollOrientation]="\'horizontal\'" [igxForContainerSize]="grid.unpinnedWidth" [igxForTrackBy]="grid.trackColumnChanges" [igxForSizePropName]=\'"calcPixelWidth"\' #igxDirRef>\n        <igx-grid-summary-cell\n            class="igx-grid-summary igx-grid-summary--fw"\n            [class.igx-grid-summary--cosy]="grid.displayDensity === \'cosy\'"\n            [class.igx-grid-summary--compact]="grid.displayDensity === \'compact\'"\n            [class.igx-grid-summary--empty]="!col.hasSummary"\n            [column]="col"\n            [rowIndex]="index"\n            [firstCellIndentation]="firstCellIndentation"\n            [summaryResults]="getColumnSummaries(col.field)"\n            [hasSummary]="col.hasSummary"\n            [density]="grid.displayDensity"\n            [style.max-height.px]="minHeight"\n            [style.min-height.px]="minHeight">\n        </igx-grid-summary-cell>\n    </ng-template>\n</ng-container>\n',providers:[pr]}]}],e.ctorParameters=function(){return[{type:_i},{type:b.ElementRef},{type:b.ChangeDetectorRef}]},e.propDecorators={summaries:[{type:b.Input}],gridID:[{type:b.Input}],index:[{type:b.Input}],firstCellIndentation:[{type:b.Input}],dataRowIndex:[{type:b.HostBinding,args:["attr.data-rowIndex"]}],summaryCells:[{type:b.ViewChildren,args:[Fc,{read:Fc}]}],virtDirRow:[{type:b.ViewChild,args:["igxDirRef",{read:hr}]}]},e}(),Vc={NONE:0,LEFT:1,TOP:2,RIGHT:3,BOTTOM:4,TOPLEFT:5,TOPRIGHT:6,BOTTOMLEFT:7,BOTTOMRIGHT:8};Vc[Vc.NONE]="NONE",Vc[Vc.LEFT]="LEFT",Vc[Vc.TOP]="TOP",Vc[Vc.RIGHT]="RIGHT",Vc[Vc.BOTTOM]="BOTTOM",Vc[Vc.TOPLEFT]="TOPLEFT",Vc[Vc.TOPRIGHT]="TOPRIGHT",Vc[Vc.BOTTOMLEFT]="BOTTOMLEFT",Vc[Vc.BOTTOMRIGHT]="BOTTOMRIGHT";var Hc=function(){function e(e,t){var r=this;this.ref=e,this.zone=t,this.onDragStop=new b.EventEmitter,this.onDragScroll=new b.EventEmitter,this.end$=new x.Subject,this.lastDirection=Vc.NONE,this.startDragSelection=function(e){if(r.activeDrag){var t=e.clientX,i=e.clientY,n=r._measureDimensions(t,i);n!==r.lastDirection&&(r.unsubscribe(),r._sub=r._interval$.subscribe(function(){return r.onDragScroll.emit(n)}),r.lastDirection=n)}},this.stopDragSelection=function(){r.activeDrag&&(r.onDragStop.emit(!1),r.unsubscribe(),r.lastDirection=Vc.NONE)},this._interval$=x.interval(100).pipe(p.takeUntil(this.end$),p.filter(function(){return r.activeDrag}))}return Object.defineProperty(e.prototype,"activeDrag",{get:function(){return this._activeDrag},set:function(e){e!==this._activeDrag&&(this.unsubscribe(),this._activeDrag=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.ref.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clientRect",{get:function(){return this.nativeElement.getBoundingClientRect()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.zone.runOutsideAngular(function(){e.nativeElement.addEventListener("pointerover",e.startDragSelection),e.nativeElement.addEventListener("pointerleave",e.stopDragSelection)})},e.prototype.ngOnDestroy=function(){var e=this;this.zone.runOutsideAngular(function(){e.nativeElement.removeEventListener("pointerover",e.startDragSelection),e.nativeElement.removeEventListener("pointerleave",e.stopDragSelection)}),this.unsubscribe(),this.end$.complete()},e.prototype._measureDimensions=function(e,t){var i=this.clientRect,n=Math.trunc(e-i.left),r=Math.trunc(t-i.top),o=n<=.15*i.width,s=n>=.85*i.width,a=r<=.15*i.height,l=r>=.85*i.height;return a&&o?Vc.TOPLEFT:a&&s?Vc.TOPRIGHT:l&&o?Vc.BOTTOMLEFT:l&&s?Vc.BOTTOMRIGHT:a?Vc.TOP:l?Vc.BOTTOM:o?Vc.LEFT:s?Vc.RIGHT:Vc.NONE},e.prototype.unsubscribe=function(){this._sub&&this._sub.unsubscribe()},e.decorators=[{type:b.Directive,args:[{selector:"[igxGridDragSelect]"}]}],e.ctorParameters=function(){return[{type:b.ElementRef},{type:b.NgZone}]},e.propDecorators={activeDrag:[{type:b.Input,args:["igxGridDragSelect"]}],onDragStop:[{type:b.Output}],onDragScroll:[{type:b.Output}]},e}(),Bc=function(){function e(e,t,i){this._viewContainerRef=e,this._zone=t,this.cdr=i,this._embeddedViewsMap=new Map,this.onViewCreated=new b.EventEmitter,this.onViewMoved=new b.EventEmitter,this.onCachedViewLoaded=new b.EventEmitter}return e.prototype.ngOnChanges=function(e){switch(this._getActionType(e)){case jc.CreateView:this._recreateView();break;case jc.MoveView:this._moveView();break;case jc.UseCachedView:this._useCachedView();break;case jc.UpdateViewContext:this._updateExistingContext(this.igxTemplateOutletContext)}},e.prototype.cleanCache=function(){this._embeddedViewsMap.forEach(function(e){e.destroyed||e.destroy()}),this._embeddedViewsMap.clear()},e.prototype._recreateView=function(){(this._viewRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this._viewRef)),this.igxTemplateOutlet)&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.igxTemplateOutlet,this.igxTemplateOutletContext),this.onViewCreated.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext}),this.igxTemplateOutletContext.templateID&&(this._embeddedViewsMap.get(this.igxTemplateOutletContext.templateID)||this._embeddedViewsMap.set(this.igxTemplateOutletContext.templateID,this._viewRef)))},e.prototype._moveView=function(){var e=this.igxTemplateOutletContext.moveView,t=this.igxTemplateOutletContext.owner;e!==this._viewRef&&(-1!==t._viewContainerRef.indexOf(e)&&t._viewContainerRef.detach(t._viewContainerRef.indexOf(e)),this._viewRef&&-1!==this._viewContainerRef.indexOf(this._viewRef)&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this._viewRef)),this._viewRef=e,this._viewContainerRef.insert(e,0),this._updateExistingContext(this.igxTemplateOutletContext),this.onViewMoved.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext}))},e.prototype._useCachedView=function(){var e=this.igxTemplateOutletContext.templateID,t=e?this._embeddedViewsMap.get(e):null;this._viewContainerRef.detach(this._viewContainerRef.indexOf(this._viewRef)),this._viewRef=t;var i=this._cloneContext(t.context);this._viewContainerRef.insert(this._viewRef,0),this._updateExistingContext(this.igxTemplateOutletContext),this.onCachedViewLoaded.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext,oldContext:i})},e.prototype._shouldRecreateView=function(e){var t=e.igxTemplateOutletContext;return!!e.igxTemplateOutlet||t&&this._hasContextShapeChanged(t)},e.prototype._hasContextShapeChanged=function(e){var t,i,n=Object.keys(e.previousValue||{}),r=Object.keys(e.currentValue||{});if(n.length!==r.length)return!0;try{for(var o=S(r),s=o.next();!s.done;s=o.next()){var a=s.value;if(-1===n.indexOf(a))return!0}}catch(l){t={error:l}}finally{try{s&&!s.done&&(i=o["return"])&&i.call(o)}finally{if(t)throw t.error}}return!1},e.prototype._updateExistingContext=function(e){var t,i;try{for(var n=S(Object.keys(e)),r=n.next();!r.done;r=n.next()){var o=r.value;this._viewRef.context[o]=this.igxTemplateOutletContext[o]}}catch(s){t={error:s}}finally{try{r&&!r.done&&(i=n["return"])&&i.call(n)}finally{if(t)throw t.error}}},e.prototype._cloneContext=function(e){var t,i,n={};try{for(var r=S(Object.keys(e)),o=r.next();!o.done;o=r.next()){var s=o.value;n[s]=e[s]}}catch(a){t={error:a}}finally{try{o&&!o.done&&(i=r["return"])&&i.call(r)}finally{if(t)throw t.error}}return n},e.prototype._getActionType=function(e){var t=this.igxTemplateOutletContext.moveView,i=this.igxTemplateOutletContext.templateID,n=i?this._embeddedViewsMap.get(i):null,r=this._shouldRecreateView(e);return t?jc.MoveView:r&&n?jc.UseCachedView:!this._viewRef||r?jc.CreateView:this.igxTemplateOutletContext?jc.UpdateViewContext:void 0},e.decorators=[{type:b.Directive,args:[{selector:"[igxTemplateOutlet]"}]}],e.ctorParameters=function(){return[{type:b.ViewContainerRef},{type:b.NgZone},{type:b.ChangeDetectorRef}]},e.propDecorators={igxTemplateOutletContext:[{type:b.Input}],igxTemplateOutlet:[{type:b.Input}],onViewCreated:[{type:b.Output}],onViewMoved:[{type:b.Output}],onCachedViewLoaded:[{type:b.Output}]},e}(),jc={CreateView:0,MoveView:1,UseCachedView:2,UpdateViewContext:3};jc[jc.CreateView]="CreateView",jc[jc.MoveView]="MoveView",jc[jc.UseCachedView]="UseCachedView",jc[jc.UpdateViewContext]="UpdateViewContext";var Nc=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[Bc],entryComponents:[],exports:[Bc],imports:[r.CommonModule]}]}],e}(),Gc=function(){function e(e){this.colResizingService=e}return e.decorators=[{type:b.Component,args:[{changeDetection:b.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-grid-column-resizer",template:'<div class="igx-grid__th-resize-line"\n    [style.left.px]="-99999" igxResizer\n    [style.height.px]="colResizingService.resizerHeight"\n    [restrictHResizeMax]="colResizingService.restrictResizeMax"\n    [restrictHResizeMin]="colResizingService.restrictResizeMin"\n    (resizeEnd)="colResizingService.resizeColumn($event)">\n</div>'}]}],e.ctorParameters=function(){return[{type:El}]},e.propDecorators={resizer:[{type:b.ViewChild,args:[Pl]}]},e}(),zc=function(){function e(e,t,i){this.filteringService=e,this.element=t,this.cdr=i,this._positionSettings={horizontalStartPoint:gn.Left,verticalStartPoint:fn.Bottom},this._conditionsOverlaySettings={excludePositionTarget:!0,closeOnOutsideClick:!0,modal:!1,scrollStrategy:new kn,positionStrategy:new On(this._positionSettings)},this._operatorsOverlaySettings={excludePositionTarget:!0,closeOnOutsideClick:!0,modal:!1,scrollStrategy:new kn,positionStrategy:new On(this._positionSettings)},this.chipAreaScrollOffset=0,this._column=null,this.isKeyPressed=!1,this.isComposing=!1,this._cancelChipClick=!1,this.cssClass="igx-grid__filtering-row"}return Object.defineProperty(e.prototype,"column",{get:function(){return this._column},set:function(e){e&&(this._column=e,this.expressionsList=this.filteringService.getExpressions(this._column.field),this.resetExpression(),this.chipAreaScrollOffset=0,this.transform(this.chipAreaScrollOffset))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.expression?this.expression.searchVal:null},set:function(e){var t=this;e||0===e?(this.expression.searchVal=this.transformValue(e),this.expressionsList.find(function(e){return e.expression===t.expression})===undefined&&this.addExpression(!0)):(this.expression.searchVal=null,this.showHideArrowButtons()),this.filter()},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){this._conditionsOverlaySettings.outlet=this.column.grid.outletDirective,this._operatorsOverlaySettings.outlet=this.column.grid.outletDirective,this.input.nativeElement.focus()},e.prototype.onTabKeydown=function(e){e.stopPropagation(),document.activeElement!==this.closeButton.nativeElement||e.shiftKey||this.filteringService.grid.navigation.navigateFirstCellIfPossible(e)},e.prototype.onEscKeydown=function(e){e.preventDefault(),e.stopPropagation(),this.close()},Object.defineProperty(e.prototype,"disabled",{get:function(){return!(this.column.filteringExpressionsTree&&0<this.column.filteringExpressionsTree.filteringOperands.length)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"template",{get:function(){return this.column.dataType===Pi.Date?this.defaultDateUI:this.defaultFilterUI},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){switch(this.column.dataType){case Pi.String:case Pi.Boolean:return"text";case Pi.Number:return"number"}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"conditions",{get:function(){return this.column.filters.conditionList()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isUnaryCondition",{get:function(){return!this.expression.condition||this.expression.condition.isUnary},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholder",{get:function(){return this.expression.condition&&this.expression.condition.isUnary?this.filteringService.getChipLabel(this.expression):this.column.dataType===Pi.Date?this.filteringService.grid.resourceStrings.igx_grid_filter_row_date_placeholder:this.column.dataType===Pi.Boolean?this.filteringService.grid.resourceStrings.igx_grid_filter_row_boolean_placeholder:this.filteringService.grid.resourceStrings.igx_grid_filter_row_placeholder},enumerable:!0,configurable:!0}),e.prototype.onPrefixKeyDown=function(e){"Enter"!==e.key&&" "!==e.key&&"Spacebar"!==e.key||!this.dropDownConditions.collapsed?"Tab"===e.key&&(e.shiftKey?(e.preventDefault(),e.stopPropagation()):this.dropDownConditions.collapsed||this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement)):(this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement),e.stopImmediatePropagation())},e.prototype.onInputKeyDown=function(e){if(this.isKeyPressed=!0,this.column.dataType===Pi.Boolean&&("Enter"===e.key||" "===e.key||"Spacebar"===e.key))return this.inputGroupPrefix.nativeElement.focus(),this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement),void e.stopPropagation();if("Enter"===e.key){if(this.isComposing)return;this.commitInput()}else!e.altKey||"ArrowDown"!==e.key&&"Down"!==e.key?"Escape"!==e.key&&"Esc"!==e.key||(e.preventDefault(),this.close()):(this.inputGroupPrefix.nativeElement.focus(),this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement));e.stopPropagation()},e.prototype.onInputKeyUp=function(e){this.isKeyPressed=!1},e.prototype.onInput=function(e){(li()||this.isKeyPressed||e.target.value)&&(this.value=e.target.value)},e.prototype.onCompositionStart=function(){this.isComposing=!0},e.prototype.onCompositionEnd=function(){this.isComposing=!1},e.prototype.onInputClick=function(){this.column.dataType===Pi.Boolean&&this.dropDownConditions.collapsed&&(this.inputGroupPrefix.nativeElement.focus(),this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement))},e.prototype.datePickerClose=function(){this.input.nativeElement.focus()},e.prototype.getCondition=function(e){return this.column.filters.condition(e)},e.prototype.translateCondition=function(e){return this.filteringService.grid.resourceStrings["igx_grid_filter_"+this.getCondition(e).name]||e},e.prototype.getIconName=function(){return this.column.dataType===Pi.Boolean&&null===this.expression.condition?this.getCondition(this.conditions[0]).iconName:this.expression.condition.iconName},e.prototype.isConditionSelected=function(e){return!!this.expression.condition&&this.expression.condition.name===e},e.prototype.clearFiltering=function(){this.filteringService.clearFilter(this.column.field),this.resetExpression(),this.input&&this.input.nativeElement.focus(),this.cdr.detectChanges(),this.chipAreaScrollOffset=0,this.transform(this.chipAreaScrollOffset)},e.prototype.commitInput=function(){this.chipsArea.chipsList.filter(function(e){return e.selected=!1});for(var e=-1,t=0;t<this.expressionsList.length;t++){var i=this.expressionsList[t].expression;null!==i.searchVal||i.condition.isUnary||(e=t)}-1!==e&&this.removeExpression(e,this.expression),this.resetExpression(),this.scrollChipsWhenAddingExpression()},e.prototype.clearInput=function(){this.value=null},e.prototype.onClearKeyDown=function(e){"Enter"!==e.key&&" "!==e.key&&"Spacebar"!==e.key||(e.preventDefault(),this.clearInput(),this.input.nativeElement.focus())},e.prototype.onClearClick=function(){this.clearInput(),this.input.nativeElement.focus()},e.prototype.onCommitKeyDown=function(e){"Enter"!==e.key&&" "!==e.key&&"Spacebar"!==e.key||(e.preventDefault(),this.commitInput(),this.input.nativeElement.focus())},e.prototype.onCommitClick=function(){this.commitInput(),this.input.nativeElement.focus()},e.prototype.onInputGroupFocusout=function(){var t=this;(this.value||0===this.value)&&requestAnimationFrame(function(){var e=document.activeElement;e&&t.inputGroup.nativeElement.contains(e)||!t.dropDownConditions.collapsed||t.commitInput()})},e.prototype.close=function(){var t=this;1===this.expressionsList.length&&null===this.expressionsList[0].expression.searchVal&&!1===this.expressionsList[0].expression.condition.isUnary?this.filteringService.getExpressions(this.column.field).pop():this.expressionsList.forEach(function(e){null!==e.expression.searchVal||e.expression.condition.isUnary||t.filteringService.removeExpression(t.column.field,t.expressionsList.indexOf(e))}),this.filteringService.isFilterRowVisible=!1,this.filteringService.updateFilteringCell(this.column),this.filteringService.focusFilterCellChip(this.column,!0),this.filteringService.filteredColumn=null,this.filteringService.selectedExpression=null,this.cdr.detectChanges(),this.chipAreaScrollOffset=0,this.transform(this.chipAreaScrollOffset)},e.prototype.openDatePicker=function(e){this.expression.condition.isUnary||e()},e.prototype.onDateSelected=function(e){this.value=e,this.commitInput()},e.prototype.toggleConditionsDropDown=function(e){this._conditionsOverlaySettings.positionStrategy.settings.target=e,this.dropDownConditions.toggle(this._conditionsOverlaySettings)},e.prototype.toggleOperatorsDropDown=function(e,t){this._operatorsOverlaySettings.positionStrategy.settings.target=e.target.parentElement,this.dropDownOperators.toArray()[t].toggle(this._operatorsOverlaySettings)},e.prototype.onConditionsChanged=function(e){var t=this,i=e.newSelection.value;this.expression.condition=this.getCondition(i),this.expression.condition.isUnary?requestAnimationFrame(function(){return t.unaryConditionChangedCallback()}):requestAnimationFrame(function(){return t.conditionChangedCallback()}),this.input&&requestAnimationFrame(function(){return t.input.nativeElement.focus()})},e.prototype.onChipPointerdown=function(e,t){var i=document.activeElement;this._cancelChipClick=t.selected&&i&&this.inputGroup.nativeElement.contains(i)},e.prototype.onChipClick=function(e,t){this._cancelChipClick||(this._cancelChipClick=!1,t.selected=!t.selected)},e.prototype.onChipSelected=function(t,e){t.selected?(this.chipsArea.chipsList&&this.chipsArea.chipsList.forEach(function(e){e!==t.owner&&(e.selected=!1)}),this.expression=e,this.input&&this.input.nativeElement.focus()):this.expression===e&&this.resetExpression()},e.prototype.onChipKeyDown=function(e,t){"Enter"===e.key&&(e.preventDefault(),t.selected=!t.selected)},e.prototype.onLeftArrowKeyDown=function(e){"Tab"===e.key&&(this.chipAreaScrollOffset=0,this.transform(this.chipAreaScrollOffset))},e.prototype.onChipRemoved=function(e,t){var i=this.expressionsList.indexOf(t);this.removeExpression(i,t.expression),this.scrollChipsOnRemove()},e.prototype.onLogicOperatorChanged=function(e,t){var i=this;e.oldSelection&&(t.afterOperator=e.newSelection.value,this.expressionsList[this.expressionsList.indexOf(t)+1].beforeOperator=t.afterOperator,requestAnimationFrame(function(){return i.filter()}))},e.prototype.scrollChipsOnArrowPress=function(e){var t=0,i=this.chipsArea.element.nativeElement.children,n=this.container.nativeElement.getBoundingClientRect();if("right"===e){for(var r=0;r<i.length;r++)Math.ceil(i[r].getBoundingClientRect().right)<Math.ceil(n.right)&&t++;t<i.length&&(this.chipAreaScrollOffset-=Math.ceil(i[t].getBoundingClientRect().right)-Math.ceil(n.right)+1,this.transform(this.chipAreaScrollOffset))}if("left"===e){for(r=0;r<i.length;r++)Math.ceil(i[r].getBoundingClientRect().left)<Math.ceil(n.left)&&t++;0<t&&(this.chipAreaScrollOffset+=Math.ceil(n.left)-Math.ceil(i[t-1].getBoundingClientRect().left)+1,this.transform(this.chipAreaScrollOffset))}},e.prototype.showHideArrowButtons=function(){var t=this;requestAnimationFrame(function(){if(t.filteringService.isFilterRowVisible){var e=t.container.nativeElement.getBoundingClientRect().width;t.chipsAreaWidth=t.chipsArea.element.nativeElement.getBoundingClientRect().width,t.showArrows=t.chipsAreaWidth>=e&&t.isColumnFiltered,t.cdr.detectChanges()}})},e.prototype.transformValue=function(e){return this.column.dataType===Pi.Number?e=parseFloat(e):this.column.dataType===Pi.Boolean&&(e=Boolean(e)),e},e.prototype.addExpression=function(e){var t=new fc;t.expression=this.expression,t.beforeOperator=0<this.expressionsList.length?Si.And:null,t.isSelected=e,this.expressionsList.push(t);var i=this.expressionsList.length;this.expressionsList[i-2]&&(this.expressionsList[i-2].afterOperator=this.expressionsList[i-1].beforeOperator),this.showHideArrowButtons()},e.prototype.removeExpression=function(e,t){0!==e||1!==this.expressionsList.length?(this.filteringService.removeExpression(this.column.field,e),this.filter(),this.expression===t&&this.resetExpression(),this.showHideArrowButtons()):this.clearFiltering()},e.prototype.resetExpression=function(){this.expression={fieldName:this.column.field,condition:null,searchVal:null,ignoreCase:this.column.filteringIgnoreCase},this.column.dataType!==Pi.Boolean&&(this.expression.condition=this.getCondition(this.conditions[0])),this.column.dataType===Pi.Date&&this.input&&(this.input.nativeElement.value=null),this.showHideArrowButtons()},e.prototype.scrollChipsWhenAddingExpression=function(){var e=this.chipsArea.element.nativeElement.children;if(e&&0!==e.length){var t=Math.ceil(this.container.nativeElement.getBoundingClientRect().right),i=Math.ceil(e[e.length-1].getBoundingClientRect().right);t<=i&&(this.chipAreaScrollOffset-=i-t,this.transform(this.chipAreaScrollOffset))}},e.prototype.resetChipsArea=function(){this.chipAreaScrollOffset=0,this.transform(this.chipAreaScrollOffset),this.showHideArrowButtons()},e.prototype.transform=function(e){var t=this;requestAnimationFrame(function(){t.chipsArea.element.nativeElement.style.transform="translate("+e+"px)"})},e.prototype.scrollChipsOnRemove=function(){for(var e=0,t=this.chipsArea.element.nativeElement.children,i=this.container.nativeElement.getBoundingClientRect(),n=0;n<t.length;n++)Math.ceil(t[n].getBoundingClientRect().left)<Math.ceil(i.left)&&e++;if(e<=2)this.chipAreaScrollOffset=0;else{var r="chip"===t[e].id?e-2:e-1;this.chipAreaScrollOffset+=Math.ceil(i.left)-Math.ceil(t[r].getBoundingClientRect().left)+1}this.transform(this.chipAreaScrollOffset)},e.prototype.conditionChangedCallback=function(){this.expression.searchVal||0===this.expression.searchVal?this.filter():this.value&&(this.value=null)},e.prototype.unaryConditionChangedCallback=function(){var t=this;this.value&&(this.value=null),this.expressionsList.find(function(e){return e.expression===t.expression})===undefined&&this.addExpression(!0),this.filter()},e.prototype.filter=function(){this.filteringService.filterInternal(this.column.field)},Object.defineProperty(e.prototype,"isColumnFiltered",{get:function(){return this.column.filteringExpressionsTree&&0<this.column.filteringExpressionsTree.filteringOperands.length},enumerable:!0,configurable:!0}),e.decorators=[{type:b.Component,args:[{changeDetection:b.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-grid-filtering-row",template:'\x3c!-- Have to apply styles inline because of the overlay outlet ... --\x3e\n<igx-drop-down #inputGroupConditions [height]="\'200px\'" (onSelection)="onConditionsChanged($event)">\n    <igx-drop-down-item\n        *ngFor="let condition of conditions"\n        [value]="condition"\n        [selected]="isConditionSelected(condition)">\n        <igx-icon fontSet="filtering-icons" [name]="getCondition(condition).iconName"></igx-icon>\n        <span style="margin-left: 16px">{{ translateCondition(condition) }}</span>\n    </igx-drop-down-item>\n</igx-drop-down>\n\n<ng-template #defaultFilterUI>\n    <igx-input-group #inputGroup type="box" [displayDensity]="\'compact\'" [supressInputAutofocus]="true" (focusout)="onInputGroupFocusout()">\n        <igx-prefix #inputGroupPrefix\n                    (click)="toggleConditionsDropDown(inputGroupPrefix)"\n                    (keydown)="onPrefixKeyDown($event)"\n                    tabindex="0"\n                    [igxDropDownItemNavigation]="inputGroupConditions">\n            <igx-icon fontSet="filtering-icons" [name]="getIconName()"></igx-icon>\n        </igx-prefix>\n        <input\n            #input\n            igxInput\n            tabindex="0"\n            [placeholder]="placeholder"\n            autocomplete="off"\n            [value]="value"\n            (input)="onInput($event)"\n            [type]="type"\n            [readonly]="isUnaryCondition"\n            (click)="onInputClick()"\n            (compositionstart)="onCompositionStart()"\n            (compositionend)="onCompositionEnd()"\n            (keydown)="onInputKeyDown($event)"\n            (keyup)="onInputKeyUp($event)"/>\n            <igx-suffix *ngIf="value || value === 0" >\n                <igx-icon (keydown)="onCommitKeyDown($event)" (click)="onCommitClick()" tabindex="0">done</igx-icon>\n                <igx-icon (keydown)="onClearKeyDown($event)" (click)="onClearClick()" tabindex="0">clear</igx-icon>\n            </igx-suffix>\n    </igx-input-group>\n</ng-template>\n\n<ng-template #defaultDateUI>\n    <igx-date-picker\n        tabindex="0"\n        mode="dropdown"\n        [value]="value"\n        [outlet]="filteringService.grid.outletDirective"\n        [locale]="filteringService.grid.locale"\n        (onSelection)="onDateSelected($event)"\n        (onClose)="datePickerClose()">\n        <ng-template igxDatePickerTemplate let-openDialog="openDialog">\n            <igx-input-group #dropDownTarget type="box" [displayDensity]="\'compact\'" [supressInputAutofocus]="true">\n                <igx-prefix #inputGroupPrefix\n                            tabindex="0"\n                            (click)="toggleConditionsDropDown(inputGroupPrefix)"\n                            (keydown)="onPrefixKeyDown($event)"\n                            [igxDropDownItemNavigation]="inputGroupConditions">\n                    <igx-icon fontSet="filtering-icons" [name]="expression.condition.iconName"></igx-icon>\n                </igx-prefix>\n                <input #input\n                       igxInput\n                       tabindex="0"\n                       (click)="openDatePicker(openDialog)"\n                       [placeholder]="placeholder"\n                       autocomplete="off"\n                       [value]="value | igxdate: filteringService.grid.locale"\n                       [readonly]="true"\n                       (keydown)="onInputKeyDown($event)"/>\n                <igx-suffix *ngIf="value" (keydown)="onClearKeyDown($event)" (click)="clearInput()" tabindex="0">\n                    <igx-icon>clear</igx-icon>\n                </igx-suffix>\n            </igx-input-group>\n            </ng-template>\n    </igx-date-picker>\n</ng-template>\n\n<ng-container *ngTemplateOutlet="template; context: { $implicit: this }"></ng-container>\n\n<button igxButton="icon" class="igx-grid__filtering-row-scroll-start" *ngIf="showArrows" (keydown)="onLeftArrowKeyDown($event)" (click)="scrollChipsOnArrowPress(\'left\')">\n    <igx-icon>navigate_before</igx-icon>\n</button>\n\n<div #container class="igx-grid__filtering-row-main">\n    <div>\n         <igx-chips-area #chipsArea>\n            <ng-container *ngFor="let item of expressionsList; index as i; let last = last;" tabindex="0">\n                <igx-chip #chip id=\'chip\'\n                    (pointerdown)="onChipPointerdown($event, chip)"\n                    (click)="onChipClick($event, chip)"\n                    (onSelection)="onChipSelected($event, item.expression)"\n                    (keydown)="onChipKeyDown($event, chip)"\n                    (onRemove)="onChipRemoved($event, item)"\n                    [selectable]="false"\n                    [selected]="item.isSelected"\n                    [displayDensity]="\'cosy\'"\n                    [removable]="true">\n                    <igx-icon\n                        igxPrefix\n                        fontSet="filtering-icons"\n                        [name]="item.expression.condition.iconName">\n                    </igx-icon>\n                    <span>{{filteringService.getChipLabel(item.expression)}}</span>\n                </igx-chip>\n\n                <span id=\'operand\' *ngIf="!last">\n                    <button igxButton (click)="toggleOperatorsDropDown($event, i)" [igxDropDownItemNavigation]="operators">\n                        <igx-icon>expand_more</igx-icon>\n                        <span>{{filteringService.getOperatorAsString(item.afterOperator)}}</span>\n                    </button>\n                    <igx-drop-down #operators (onSelection)="onLogicOperatorChanged($event, item)">\n                            <igx-drop-down-item [value]="0" [selected]="item.afterOperator === 0">{{filteringService.grid.resourceStrings.igx_grid_filter_operator_and}}</igx-drop-down-item>\n                            <igx-drop-down-item [value]="1" [selected]="item.afterOperator === 1">{{filteringService.grid.resourceStrings.igx_grid_filter_operator_or}}</igx-drop-down-item>\n                    </igx-drop-down>\n                </span>\n            </ng-container>\n        </igx-chips-area>\n    </div>\n</div>\n\n<button igxButton="icon" class="igx-grid__filtering-row-scroll-end" *ngIf="showArrows" (click)="scrollChipsOnArrowPress(\'right\')">\n    <igx-icon>navigate_next</igx-icon>\n</button>\n\n<div #buttonsContainer class="igx-grid__filtering-row-editing-buttons">\n    <button igxButton igxRipple (click)="clearFiltering()" [disabled]="disabled" [tabindex]="disabled">{{filteringService.grid.resourceStrings.igx_grid_filter_row_reset}}</button>\n    <button #closeButton igxButton igxRipple (click)="close()">{{filteringService.grid.resourceStrings.igx_grid_filter_row_close}}</button>\n</div>\n'}]}],e.ctorParameters=function(){return[{type:mc},{type:b.ElementRef},{type:b.ChangeDetectorRef}]},e.propDecorators={column:[{type:b.Input}],value:[{type:b.Input}],defaultFilterUI:[{type:b.ViewChild,args:["defaultFilterUI",{read:b.TemplateRef}]}],defaultDateUI:[{type:b.ViewChild,args:["defaultDateUI",{read:b.TemplateRef}]}],input:[{type:b.ViewChild,args:["input",{read:b.ElementRef}]}],dropDownConditions:[{type:b.ViewChild,args:["inputGroupConditions",{read:fr}]}],chipsArea:[{type:b.ViewChild,args:["chipsArea",{read:Ia}]}],dropDownOperators:[{type:b.ViewChildren,args:["operators",{read:fr}]}],inputGroup:[{type:b.ViewChild,args:["inputGroup",{read:b.ElementRef}]}],inputGroupPrefix:[{type:b.ViewChild,args:["inputGroupPrefix",{read:b.ElementRef}]}],container:[{type:b.ViewChild,args:["container"]}],operand:[{type:b.ViewChild,args:["operand"]}],closeButton:[{type:b.ViewChild,args:["closeButton"]}],cssClass:[{type:b.HostBinding,args:["class.igx-grid__filtering-row"]}],onTabKeydown:[{type:b.HostListener,args:["keydown.shift.tab",["$event"]]},{type:b.HostListener,args:["keydown.tab",["$event"]]}],onEscKeydown:[{type:b.HostListener,args:["keydown.esc",["$event"]]}]},e}(),Wc=new b.InjectionToken("IgxGridTransaction"),Uc={top:"top",bottom:"bottom"},Kc={rootLevelOnly:"rootLevelOnly",childLevelsOnly:"childLevelsOnly",rootAndChildLevels:"rootAndChildLevels"},$c={quickFilter:"quickFilter",excelStyleFilter:"excelStyleFilter"},Yc={dataCell:"dataCell",summaryCell:"summaryCell",groupRow:"groupRow",hierarchicalRow:"hierarchicalRow"},Xc=function(v){function e(e,t,i,n,r,o,s,a,l,c,p,u,d,h,g,f,m){var y=v.call(this,m)||this;return y.selectionService=e,y.crudService=t,y.gridAPI=i,y.selection=n,y._transactions=r,y.elementRef=o,y.zone=s,y.document=a,y.cdr=l,y.resolver=c,y.differs=p,y.viewRef=u,y.navigation=d,y.filteringService=h,y.overlayService=g,y.summaryService=f,y._displayDensityOptions=m,y._resourceStrings=kc.GridResStrings,y._emptyGridMessage=null,y._emptyFilteredGridMessage=null,y._isLoading=!1,y._locale=null,y._destroyed=!1,y.overlayIDs=[],y.autoGenerate=!1,y.rowDragging=!1,y.evenRowCSS="igx-grid__tr--even",y.oddRowCSS="igx-grid__tr--odd",y.columnHidingTitle="",y.columnPinningTitle="",y.onCellClick=new b.EventEmitter,y.onSelection=new b.EventEmitter,y.onRowSelectionChange=new b.EventEmitter,y.onColumnPinning=new b.EventEmitter,y.onCellEditCancel=new b.EventEmitter,y.onCellEditEnter=new b.EventEmitter,y.onCellEdit=new b.EventEmitter,y.onRowEditEnter=new b.EventEmitter,y.onRowEdit=new b.EventEmitter,y.onRowEditCancel=new b.EventEmitter,y.onColumnInit=new b.EventEmitter,y.onSortingDone=new b.EventEmitter,y.onFilteringDone=new b.EventEmitter,y.onPagingDone=new b.EventEmitter,y.onRowAdded=new b.EventEmitter,y.onRowDeleted=new b.EventEmitter,y.onDataPreLoad=new b.EventEmitter,y.onColumnResized=new b.EventEmitter,y.onContextMenu=new b.EventEmitter,y.onDoubleClick=new b.EventEmitter,y.onColumnVisibilityChanged=new b.EventEmitter,y.onColumnMovingStart=new b.EventEmitter,y.onColumnMoving=new b.EventEmitter,y.onColumnMovingEnd=new b.EventEmitter,y.onGridKeydown=new b.EventEmitter,y.onRowDragStart=new b.EventEmitter,y.onRowDragEnd=new b.EventEmitter,y.tabindex=0,y.hostRole="grid",y.columnsWithNoSetWidths=null,y._showToolbar=!1,y._exportExcel=!1,y._exportCsv=!1,y._toolbarTitle=null,y._exportText=null,y._exportExcelText=null,y._exportCsvText=null,y._rowEditable=!1,y._filteredSortedData=null,y.toolbar=null,y.toolbarHtml=null,y.onToolbarExporting=new b.EventEmitter,y.onRangeSelection=new b.EventEmitter,y.calcHeight=0,y.chipsGoupingExpressions=[],y.allRowsSelected=!1,y.disableTransitions=!1,y.lastSearchInfo={searchText:"",caseSensitive:!1,exactMatch:!1,activeMatchIndex:0,matchInfoCache:[]},y.columnWidthSetByUser=!1,y.destroy$=new x.Subject,y._perPage=15,y._page=0,y._paging=!1,y._rowSelection=!1,y._rowDrag=!1,y._pipeTrigger=0,y._summaryPipeTrigger=0,y._columns=[],y._pinnedColumns=[],y._unpinnedColumns=[],y._filteringExpressionsTree=new Ci(Si.And),y._sortingExpressions=[],y._maxLevelHeaderDepth=null,y._columnHiding=!1,y._columnPinning=!1,y._keydownListener=null,y._vScrollListener=null,y._hScrollListener=null,y._wheelListener=null,y._allowFiltering=!1,y._filterMode=$c.quickFilter,y._hiddenColumnsText="",y._pinnedColumnsText="",y._height="100%",y._width="100%",y._autoSize=!1,y._ngAfterViewInitPassed=!1,y._multiRowLayoutRowSize=1,y._totalWidth=NaN,y._pinnedVisible=[],y._unpinnedVisible=[],y._pinnedWidth=NaN,y._unpinnedWidth=NaN,y._visibleColumns=[],y._columnGroups=!1,y._defaultTargetRecordNumber=10,y._onFocusChange=new b.EventEmitter,y._summaryPosition=Uc.bottom,y._summaryCalculationMode=Kc.rootAndChildLevels,y.rowEditPositioningStrategy=new Gl({horizontalDirection:gn.Right,verticalDirection:fn.Bottom,horizontalStartPoint:gn.Left,verticalStartPoint:fn.Bottom,closeAnimation:null}),y.rowEditSettings={scrollStrategy:new kn,modal:!1,closeOnOutsideClick:!1,outlet:y.rowOutletDirective,positionStrategy:y.rowEditPositioningStrategy},y.resizeHandler=function(){y.zone.run(function(){return y.calculateGridSizes()})},y}return f(e,v),Object.defineProperty(e.prototype,"scrollWidth",{get:function(){return this._scrollWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resourceStrings",{get:function(){return this._resourceStrings},set:function(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filteringLogic",{get:function(){return this._filteringExpressionsTree.operator},set:function(e){this._filteringExpressionsTree.operator=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filteringExpressionsTree",{get:function(){return this._filteringExpressionsTree},set:function(e){if(e&&e instanceof Ci){for(var t=e,i=0;i<t.filteringOperands.length;i++)if(!(t.filteringOperands[i]instanceof Ci)){var n=new Ci(Si.And,t.filteringOperands[i].fieldName);n.filteringOperands.push(t.filteringOperands[i]),t.filteringOperands[i]=n}var r=new Ci(e.operator,e.fieldName);r.filteringOperands=e.filteringOperands,this._filteringExpressionsTree=r,this.filteringService.isFilteringExpressionsTreeEmpty()&&(this.filteredData=null),this.filteringService.refreshExpressions(),this.summaryService.clearSummaryCache(),this.markForCheck()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this._locale?this._locale:"en"},set:function(e){this._locale=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paging",{get:function(){return this._paging},set:function(e){this._paging=e,this._pipeTrigger++,this._ngAfterViewInitPassed&&(this.cdr.detectChanges(),this.calculateGridHeight(),this.cdr.detectChanges())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"page",{get:function(){return this._page},set:function(e){e===this._page||e<0||e>this.totalPages-1||(this.onPagingDone.emit({previous:this._page,current:e}),this._page=e,this.cdr.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"perPage",{get:function(){return this._perPage},set:function(e){e<0||(this.selectionService.clear(),this._perPage=e,this.page=0,this.endEdit(!0),this.cdr.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnHiding",{get:function(){return this._columnHiding},set:function(e){this._columnHiding!==e&&(this._columnHiding=e,this.gridAPI.grid&&(this.markForCheck(),this._ngAfterViewInitPassed&&this.calculateGridSizes()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowSelectable",{get:function(){return this._rowSelection},set:function(e){this._rowSelection=e,this.gridAPI.grid&&this.columnList&&(this.allRowsSelected=!1,this.deselectAllRows(),this.calculateGridSizes(),this.cdr.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowDraggable",{get:function(){return this._rowDrag},set:function(e){this._rowDrag=e,this.gridAPI.grid&&this.columnList&&(this.calculateGridSizes(),this.cdr.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowEditable",{get:function(){return this._rowEditable},set:function(e){this._rowEditable=e,this.gridAPI.grid&&this.refreshGridState()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(e){var t=this;this._height!==e&&(this._height=e,this._autoSize=!1,requestAnimationFrame(function(){t._destroyed||(t.reflow(),t.cdr.markForCheck())}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(e){var t=this;this._width!==e&&(this._width=e,requestAnimationFrame(function(){t._destroyed||t.reflow()}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerWidth",{get:function(){return parseInt(this._width,10)-17},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowHeight",{get:function(){return this._rowHeight?this._rowHeight:this.defaultRowHeight},set:function(e){this._rowHeight=parseInt(e,10)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnWidth",{get:function(){return this._columnWidth},set:function(e){this._columnWidth=e,this.columnWidthSetByUser=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"emptyGridMessage",{get:function(){return this._emptyGridMessage||this.resourceStrings.igx_grid_emptyGrid_message},set:function(e){this._emptyGridMessage=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLoading",{get:function(){return this._isLoading},set:function(e){this._isLoading=e,this.gridAPI.grid&&this.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"emptyFilteredGridMessage",{get:function(){return this._emptyFilteredGridMessage||this.resourceStrings.igx_grid_emptyFilteredGrid_message},set:function(e){this._emptyFilteredGridMessage=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnPinning",{get:function(){return this._columnPinning},set:function(e){this._columnPinning!==e&&(this._columnPinning=e,this.gridAPI.grid&&(this.markForCheck(),this._ngAfterViewInitPassed&&this.calculateGridSizes()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowFiltering",{get:function(){return this._allowFiltering},set:function(e){this._allowFiltering!==e&&(this._allowFiltering=e,this.calcHeight&&(this.calcHeight+=e?-50:50),this._ngAfterViewInitPassed&&this.maxLevelHeaderDepth&&(this.theadRow.nativeElement.style.height=(this.maxLevelHeaderDepth+1)*this.defaultRowHeight+(e&&this.filterMode===$c.quickFilter?50:0)+1+"px"),this.filteringService.isFilterRowVisible=!1,this.filteringService.filteredColumn=null,this.filteringService.registerSVGIcons(),this.gridAPI.grid&&this.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterMode",{get:function(){return this._filterMode},set:function(e){this._filterMode=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"summaryPosition",{get:function(){return this._summaryPosition},set:function(e){this._summaryPosition=e,this.gridAPI.grid&&this.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"summaryCalculationMode",{get:function(){return this._summaryCalculationMode},set:function(e){this._summaryCalculationMode=e,this.gridAPI.grid&&(this.summaryService.resetSummaryHeight(),this.endEdit(!0),this.calculateGridHeight(),this.cdr.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onFocusChange",{get:function(){return this._onFocusChange},set:function(e){this._onFocusChange=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerGroupsList",{get:function(){return this.headerGroups?pi(this.headerGroups.toArray()):[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerCellList",{get:function(){return this.headerGroupsList.map(function(e){return e.headerCell}).filter(function(e){return e})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterCellList",{get:function(){return this.headerGroupsList.map(function(e){return e.filterCell}).filter(function(e){return e})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"summariesRowList",{get:function(){var e=new b.QueryList;if(!this._summaryRowList)return e;var t=this._summaryRowList.filter(function(e){return null!==e.element.nativeElement.parentElement});return e.reset(t),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowList",{get:function(){var e=new b.QueryList;if(!this._rowList)return e;var t=this._rowList.filter(function(e){return null!==e.element.nativeElement.parentElement}).sort(function(e,t){return e.index-t.index});return e.reset(t),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataRowList",{get:function(){var e=new b.QueryList;if(!this._dataRowList)return e;var t=this._dataRowList.filter(function(e){return null!==e.element.nativeElement.parentElement}).sort(function(e,t){return e.index-t.index});return e.reset(t),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"toolbarCustomContentTemplate",{get:function(){return this.toolbarCustomContentTemplates.first},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outletDirective",{get:function(){return this._outletDirective},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowOutletDirective",{get:function(){return this.rowEditingOutletDirective},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentRowOutletDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowEditContainer",{get:function(){return this.rowEditCustom?this.rowEditCustom:this.defaultRowEditTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowInEditMode",{get:function(){var t=this.crudService.row;return null!==t?this.rowList.find(function(e){return e.rowID===t.id}):null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstEditableColumnIndex",{get:function(){var e=_(this.pinnedColumns,this.unpinnedColumns).filter(function(e){return!e.columnGroup}).findIndex(function(e){return e.editable});return-1!==e?e:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastEditableColumnIndex",{get:function(){var e=_(this.pinnedColumns,this.unpinnedColumns).filter(function(e){return!e.columnGroup}),t=e.reverse().findIndex(function(e){return e.editable});return-1!==t?e.length-1-t:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowEditTabs",{get:function(){return this.rowEditTabsCUSTOM.length?this.rowEditTabsCUSTOM:this.rowEditTabsDEFAULT},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hostClass",{get:function(){return this.getComponentDensityClass("igx-grid")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bannerClass",{get:function(){var e=this.rowEditPositioningStrategy.isTop?"igx-banner__border-top":"igx-banner__border-bottom";return this.getComponentDensityClass("igx-banner")+" "+e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pipeTrigger",{get:function(){return this._pipeTrigger},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"summaryPipeTrigger",{get:function(){return this._summaryPipeTrigger},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortingExpressions",{get:function(){return this._sortingExpressions},set:function(e){this._sortingExpressions=ti(e),this.cdr.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"virtualizationState",{get:function(){return this.verticalScrollContainer.state},set:function(e){this.verticalScrollContainer.state=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalItemCount",{get:function(){return this.verticalScrollContainer.totalItemCount},set:function(e){this.verticalScrollContainer.totalItemCount=e,this.cdr.detectChanges()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxLevelHeaderDepth",{get:function(){return null===this._maxLevelHeaderDepth&&(this._maxLevelHeaderDepth=this.hasColumnLayouts?this.columnList.reduce(function(e,t){return Math.max(e,t.rowStart)},0):this.columnList.reduce(function(e,t){return Math.max(e,t.level)},0)),this._maxLevelHeaderDepth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hiddenColumnsCount",{get:function(){return this.columnList.filter(function(e){return!1===e.columnGroup&&!0===e.hidden}).length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hiddenColumnsText",{get:function(){return this._hiddenColumnsText},set:function(e){this._hiddenColumnsText=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pinnedColumnsText",{get:function(){return this._pinnedColumnsText},set:function(e){this._pinnedColumnsText=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transactions",{get:function(){return this._transactions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentRowState",{get:function(){return this._currentRowState},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showToolbar",{get:function(){return this._showToolbar},set:function(e){this._showToolbar!==e&&(this._showToolbar=e,this.cdr.markForCheck(),this._ngAfterViewInitPassed&&this.calculateGridSizes())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"toolbarTitle",{get:function(){return this._toolbarTitle},set:function(e){this._toolbarTitle!==e&&(this._toolbarTitle=e,this.cdr.markForCheck(),this._ngAfterViewInitPassed&&this.calculateGridSizes())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exportExcel",{get:function(){return this.getExportExcel()},set:function(e){this._exportExcel!==e&&(this._exportExcel=e,this.cdr.markForCheck(),this._ngAfterViewInitPassed&&this.calculateGridSizes())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exportCsv",{get:function(){return this.getExportCsv()},set:function(e){this._exportCsv!==e&&(this._exportCsv=e,this.cdr.markForCheck(),this._ngAfterViewInitPassed&&this.calculateGridSizes())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exportText",{get:function(){return this._exportText},set:function(e){this._exportText!==e&&(this._exportText=e,this.cdr.markForCheck(),this._ngAfterViewInitPassed&&this.calculateGridSizes())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exportExcelText",{get:function(){return this._exportExcelText},set:function(e){this._exportExcelText!==e&&(this._exportExcelText=e,this.cdr.markForCheck(),this._ngAfterViewInitPassed&&this.calculateGridSizes())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exportCsvText",{get:function(){return this._exportCsvText},set:function(e){this._exportCsvText!==e&&(this._exportCsvText=e,this.cdr.markForCheck(),this._ngAfterViewInitPassed&&this.calculateGridSizes())},enumerable:!0,configurable:!0}),e.prototype.verticalScrollHandler=function(e){var t=this;this.verticalScrollContainer.onScroll(e),li()&&this.wheelHandler(!1),this.disableTransitions=!0,this.zone.run(function(){t.zone.onStable.pipe(p.first()).subscribe(function(){t.verticalScrollContainer.onChunkLoad.emit(t.verticalScrollContainer.state)}),t.rowEditable&&t.changeRowEditingOverlayStateOnScroll(t.rowInEditMode),t.disableTransitions=!1}),this.hideOverlays()},e.prototype.horizontalScrollHandler=function(e){var t=this,i=e.target.scrollLeft;li()&&this.wheelHandler(!0),this.headerContainer.onHScroll(i),this._horizontalForOfs.forEach(function(e){return e.onHScroll(i)}),this.cdr.markForCheck(),this.zone.run(function(){t.zone.onStable.pipe(p.first()).subscribe(function(){t.parentVirtDir.onChunkLoad.emit(t.headerContainer.state)})}),this.hideOverlays()},e.prototype.hideOverlays=function(){var e=this;this.overlayIDs.forEach(function(t){e.overlayService.hide(t),e.overlayService.onClosed.pipe(p.filter(function(e){return e.id===t}),p.takeUntil(e.destroy$)).subscribe(function(){e.nativeElement.focus()})})},e.prototype.keydownHandler=function(e){var t=e.key.toLowerCase();(function i(e){return-1!==["down","up","left","right","arrowdown","arrowup","arrowleft","arrowright","home","end","space","spacebar"," "].indexOf(e)}(t)&&32!==e.keyCode||"tab"===t||"pagedown"===t||"pageup"===t)&&(e.preventDefault(),"pagedown"===t?(this.verticalScrollContainer.scrollNextPage(),this.nativeElement.focus()):"pageup"===t&&(this.verticalScrollContainer.scrollPrevPage(),this.nativeElement.focus()))},e.prototype._setupServices=function(){((((this.gridAPI.grid=this).crudService.grid=this).navigation.grid=this).filteringService.grid=this).summaryService.grid=this},e.prototype._setupListeners=function(){var i=this,e=p.takeUntil(this.destroy$);this.onRowAdded.pipe(e).subscribe(function(e){return i.refreshGridState(e)}),this.onRowDeleted.pipe(e).subscribe(function(e){i.summaryService.deleteOperation=!0,i.summaryService.clearSummaryCache(e)}),this.transactions.onStateUpdate.pipe(p.takeUntil(this.destroy$)).subscribe(function(){i.summaryService.clearSummaryCache(),i._pipeTrigger++,i.markForCheck(),0===i.transactions.getAggregatedChanges(!1).length&&i.gridAPI.atInexistingPage()&&i.page--}),this.onPagingDone.pipe(e).subscribe(function(){i.endEdit(!0),i.selectionService.clear(),i.selectionService.activeElement=null}),this.onColumnMoving.pipe(e).subscribe(function(){return i.endEdit(!0)}),this.onColumnResized.pipe(e).subscribe(function(){return i.endEdit(!0)}),this.overlayService.onOpened.pipe(p.takeUntil(this.destroy$)).subscribe(function(e){i.overlayService.getOverlayById(e.id).settings.outlet===i.outletDirective&&i.overlayIDs.indexOf(e.id)<0&&i.overlayIDs.push(e.id)}),this.overlayService.onClosed.pipe(p.takeUntil(this.destroy$)).subscribe(function(e){var t=i.overlayIDs.indexOf(e.id);-1!==t&&i.overlayIDs.splice(t,1)})},e.prototype.ngOnInit=function(){this._setupServices(),this._setupListeners(),this.columnListDiffer=this.differs.find([]).create(null),this.calcWidth=this._width&&-1===this._width.indexOf("%")?parseInt(this._width,10):0,this.shouldGenerate=this.autoGenerate,this._scrollWidth=this.getScrollWidth()},e.prototype.setupColumns=function(){var t=this;this.autoGenerate&&this.autogenerateColumns(),this.initColumns(this.columnList,function(e){return t.onColumnInit.emit(e)}),this.columnListDiffer.diff(this.columnList),this.markForCheck(),this.resetCaches(),this.columnList.changes.pipe(p.takeUntil(this.destroy$)).subscribe(function(e){t.onColumnsChanged(e)})},e.prototype.resetColumnsCaches=function(){this.columnList.forEach(function(e){return e.resetCaches()})},e.prototype.resetForOfCache=function(){var e=this.dataRowList.first;e&&e.virtDirRow.assumeMaster()},e.prototype.resetColumnCollections=function(){this._visibleColumns.length=0,this._pinnedVisible.length=0,this._unpinnedVisible.length=0},e.prototype.resetCachedWidths=function(){this._unpinnedWidth=NaN,this._pinnedWidth=NaN,this._totalWidth=NaN},e.prototype.resetCaches=function(){this.resetForOfCache(),this.resetColumnsCaches(),this.resetColumnCollections(),this.resetCachedWidths(),this._columnGroups=this.columnList.some(function(e){return e.columnGroup})},e.prototype.ngAfterContentInit=function(){this.setupColumns()},e.prototype.ngAfterViewInit=function(){var t=this;if(this.zone.runOutsideAngular(function(){t.document.defaultView.addEventListener("resize",t.resizeHandler),t._keydownListener=t.keydownHandler.bind(t),t.nativeElement.addEventListener("keydown",t._keydownListener)}),this.initPinning(),this.onDensityChanged.pipe(p.takeUntil(this.destroy$)).subscribe(function(){requestAnimationFrame(function(){t.summaryService.summaryHeight=0,t.reflow(),t.verticalScrollContainer.recalcUpdateSizes()})}),this._ngAfterViewInitPassed=!0,this.calculateGridSizes(),!this.isAttachedToDom){this._observer=new MutationObserver(function(e){0<e.filter(function(e){return"childList"===e.type}).length&&t.isAttachedToDom&&(t.reflow(),t._observer.disconnect(),t._observer=null)}),this._observer.observe(this.document.body,{childList:!0,subtree:!0})}this._dataRowList.changes.pipe(p.takeUntil(this.destroy$)).subscribe(function(e){return t._horizontalForOfs=t.combineForOfCollections(e.toArray().filter(function(e){return null!==e.element.nativeElement.parentElement}),t._summaryRowList)}),this._summaryRowList.changes.pipe(p.takeUntil(this.destroy$)).subscribe(function(e){return t._horizontalForOfs-t.combineForOfCollections(t._dataRowList,e.toArray().filter(function(e){return null!==e.element.nativeElement.parentElement}))}),this.zone.runOutsideAngular(function(){t._vScrollListener=t.verticalScrollHandler.bind(t),t.verticalScrollContainer.getVerticalScroll().addEventListener("scroll",t._vScrollListener)}),this.zone.runOutsideAngular(function(){t._hScrollListener=t.horizontalScrollHandler.bind(t),t.parentVirtDir.getHorizontalScroll().addEventListener("scroll",t._hScrollListener)}),this._horizontalForOfs=this.combineForOfCollections(this._dataRowList,this._summaryRowList);var e=this.verticalScrollContainer.dc.instance._viewContainer.element.nativeElement;e.addEventListener("scroll",function(e){t.scrollHandler(e)}),e.addEventListener("wheel",function(){t.wheelHandler()}),this.verticalScrollContainer.onDataChanging.pipe(p.takeUntil(this.destroy$)).subscribe(function(e){t.calculateGridHeight(),e.containerSize=t.calcHeight}),this.verticalScrollContainer.onDataChanged.pipe(p.takeUntil(this.destroy$)).subscribe(function(){requestAnimationFrame(function(){t._destroyed||t.reflow()})})},e.prototype.combineForOfCollections=function(e,t){return e.map(function(e){return e.virtDirRow}).concat(t.map(function(e){return e.virtDirRow}))},e.prototype.ngOnDestroy=function(){var t=this;this.tmpOutlets.forEach(function(e){e.cleanCache()}),this.zone.runOutsideAngular(function(){t.document.defaultView.removeEventListener("resize",t.resizeHandler),t.nativeElement.removeEventListener("keydown",t._keydownListener),t.verticalScrollContainer.getVerticalScroll().removeEventListener("scroll",t._vScrollListener),t.parentVirtDir.getHorizontalScroll().removeEventListener("scroll",t._hScrollListener);var e=t.verticalScrollContainer.dc.instance._viewContainer.element.nativeElement;e.removeEventListener("scroll",function(e){t.scrollHandler(e)}),e.removeEventListener("wheel",function(){t.wheelHandler()})}),this._observer&&this._observer.disconnect(),this.destroy$.next(!0),this.destroy$.complete(),this._destroyed=!0},e.prototype.dataLoading=function(e){this.onDataPreLoad.emit(e)},e.prototype.toggleColumnVisibility=function(t){var e=t.column?this.columnList.find(function(e){return e===t.column}):undefined;e&&(e.hidden=t.newValue,this.onColumnVisibilityChanged.emit(t),this.markForCheck())},Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outlet",{get:function(){return this.outletDirective},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultRowHeight",{get:function(){switch(this.displayDensity){case er.cosy:return 40;case er.compact:return 32;default:return 50}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultSummaryHeight",{get:function(){switch(this.displayDensity){case er.cosy:return 30;case er.compact:return 24;default:return 36}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultHeaderGroupMinWidth",{get:function(){switch(this.displayDensity){case er.cosy:return 32;case er.compact:return 24;default:return 48}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"calcPinnedContainerMaxWidth",{get:function(){return 80*this.calcWidth/100},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"unpinnedAreaMinWidth",{get:function(){return 20*this.calcWidth/100},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pinnedWidth",{get:function(){return isNaN(this._pinnedWidth)&&(this._pinnedWidth=this.getPinnedWidth()),this._pinnedWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"unpinnedWidth",{get:function(){return isNaN(this._unpinnedWidth)&&(this._unpinnedWidth=this.getUnpinnedWidth()),this._unpinnedWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"featureColumnsWidth",{get:function(){return this.getFeatureColumnsWidth()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"summariesMargin",{get:function(){return this.featureColumnsWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columns",{get:function(){return this._columns},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pinnedColumns",{get:function(){return this._pinnedVisible.length||(this._pinnedVisible=this._pinnedColumns.filter(function(e){return!e.hidden})),this._pinnedVisible},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"unpinnedColumns",{get:function(){return this._unpinnedVisible.length||(this._unpinnedVisible=this._unpinnedColumns.filter(function(e){return!e.hidden})),this._unpinnedVisible},enumerable:!0,configurable:!0}),e.prototype.getHeaderGroupWidth=function(e){if(this.hasColumnLayouts)return"";var t=e.width,i=this.defaultHeaderGroupMinWidth;return!(t&&"string"==typeof t&&-1!==t.indexOf("%"))&&parseInt(e.width,10)<i?i.toString():e.width},e.prototype.getColumnByName=function(t){return this.columnList.find(function(e){return e.field===t})},e.prototype.getRowByIndex=function(e){return this.gridAPI.get_row_by_index(e)},e.prototype.getRowByKey=function(e){return this.gridAPI.get_row_by_key(e)},Object.defineProperty(e.prototype,"visibleColumns",{get:function(){return this._visibleColumns.length||(this._visibleColumns=this.columnList.filter(function(e){return!e.hidden})),this._visibleColumns},enumerable:!0,configurable:!0}),e.prototype.getCellByColumn=function(e,t){var i=this.columnList.map(function(e){return e.field}).indexOf(t);if(-1!==i)return this.gridAPI.get_cell_by_index(e,i)},e.prototype.getCellByKey=function(e,t){return this.gridAPI.get_cell_by_key(e,t)},Object.defineProperty(e.prototype,"totalPages",{get:function(){return this.pagingState?this.pagingState.metadata.countPages:-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalRecords",{get:function(){if(this.pagingState)return this.pagingState.metadata.countRecords},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFirstPage",{get:function(){return 0===this.page},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLastPage",{get:function(){return this.page+1>=this.totalPages},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalWidth",{get:function(){if(!isNaN(this._totalWidth))return this._totalWidth;for(var e=this.visibleColumns.filter(function(e){return 0===e.level&&!e.pinned}),t=0,i=0;i<e.length;i++)t+=parseInt(e[i].calcWidth,10)||0;return this._totalWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showRowCheckboxes",{get:function(){return this.rowSelectable&&this.columns.length>this.hiddenColumnsCount},enumerable:!0,configurable:!0}),e.prototype._moveColumns=function(e,t,i){var n=this.columnList.toArray(),r=n.indexOf(e),o=n.indexOf(t);i===Ml.BeforeDropTarget&&--o<0&&(o=0),i===Ml.AfterDropTarget&&o++,n.splice.apply(n,_([o,0],n.splice(r,1)));var s=this._resetColumnList(n);this.columnList.reset(s),this.columnList.notifyOnChanges(),this._columns=this.columnList.toArray()},e.prototype._resetColumnList=function(e){e||(e=this.columnList.toArray());var t=[];return e.filter(function(e){return 0===e.level}).forEach(function(e){t.push(e),e.columnGroup&&(t=t.concat(e.allChildren))}),t},e.prototype._reorderPinnedColumns=function(e,t,i){var n=this._pinnedColumns,r=n.indexOf(t);t.columnGroup&&(r+=t.allChildren.length),i===Ml.BeforeDropTarget&&r--,i===Ml.AfterDropTarget&&r++,n.splice.apply(n,_([r,0],n.splice(n.indexOf(e),1)))},e.prototype._moveChildColumns=function(e,t,i,n){var r=e.children.toArray(),o=r.indexOf(t),s=r.indexOf(i);n===Ml.BeforeDropTarget&&s--,n===Ml.AfterDropTarget&&s++,r.splice.apply(r,_([s,0],r.splice(o,1))),e.children.reset(r)},e.prototype.moveColumn=function(e,t,i){void 0===i&&(i=Ml.None);var n=i,r=e.visibleIndex,o=t.visibleIndex;if(n=i===Ml.BeforeDropTarget&&r<o?Ml.BeforeDropTarget:i===Ml.AfterDropTarget&&o<r?Ml.AfterDropTarget:Ml.None,e.level===t.level&&e.topLevelParent===t.topLevelParent){if(this.endEdit(!0),e.level&&this._moveChildColumns(e.parent,e,t,n),t.pinned&&e.pinned&&this._reorderPinnedColumns(e,t,n),t.pinned&&!e.pinned&&(e.pin(),this._reorderPinnedColumns(e,t,n)),!t.pinned&&e.pinned){e.unpin();var s=this.columnList.toArray(),a=s.indexOf(e),l=s.indexOf(t);n=i===Ml.BeforeDropTarget&&a<l?Ml.BeforeDropTarget:i===Ml.AfterDropTarget&&l<a?Ml.AfterDropTarget:Ml.None}this._moveColumns(e,t,n),this.cdr.detectChanges(),this.hasColumnLayouts&&this.columns.filter(function(e){return e.columnLayout}).forEach(function(e){return e.populateVisibleIndexes()});var c={source:e,target:t};this.onColumnMovingEnd.emit(c)}},e.prototype.nextPage=function(){this.isLastPage||(this.page+=1)},e.prototype.previousPage=function(){this.isFirstPage||(this.page-=1)},e.prototype.paginate=function(e){e<0||e>this.totalPages-1||(this.page=e)},e.prototype.markForCheck=function(){this.cdr.detectChanges()},e.prototype.addRow=function(e){this.gridAPI.addRowToData(e),this.onRowAdded.emit({data:e}),this._pipeTrigger++,this.cdr.markForCheck()},e.prototype.deleteRow=function(e){this.primaryKey!==undefined&&null!==this.primaryKey&&this.deleteRowById(e)},e.prototype.deleteRowById=function(e){this.gridAPI.deleteRowById(e)},e.prototype.deleteRowFromData=function(e,t){if(-1!==t)if(this.transactions.enabled){var i={id:e,type:wi.DELETE,newValue:null};this.transactions.add(i,this.data[t])}else this.data.splice(t,1);else{var n=this.transactions.getState(e);this.transactions.add({id:e,type:wi.DELETE,newValue:null},n&&n.recordRef)}},e.prototype.updateCell=function(e,t,i){if(this.isDefined(this.primaryKey)){var n=this.columnList.toArray().find(function(e){return e.field===i});if(n){var r=this.gridAPI.getRowData(t),o=this.gridAPI.get_row_index_in_data(t);if(o<0)return;var s={rowID:t,columnID:n.index,rowIndex:o},a=new vl(s,o,n,r[n.field],r[n.field],r),l=this.gridAPI.update_cell(a,e);if(this.crudService.cell&&this.crudService.sameCell(a)){if(l.cancel)return;this.gridAPI.escape_editMode()}this.cdr.markForCheck()}}},e.prototype.updateRow=function(e,t){if(this.isDefined(this.primaryKey)){var i=this.crudService.cell;i&&i.id.rowID===t&&this.gridAPI.escape_editMode();var n=new yl(t,-1,this.gridAPI.getRowData(t));this.gridAPI.update_row(n,e),this.cdr.markForCheck()}},e.prototype.sort=function(e){this.endEdit(!1),e instanceof Array?this.gridAPI.sort_multiple(e):this.gridAPI.sort(e),this.onSortingDone.emit(e)},e.prototype.filter=function(e,t,i,n){this.filteringService.filter(e,t,i,n)},e.prototype.filterGlobal=function(e,t,i){this.filteringService.filterGlobal(e,t,i)},e.prototype.enableSummaries=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];1===e.length&&Array.isArray(e[0])?this._multipleSummaries(e[0],!0):this._summaries(e[0],!0,e[1]),this.calculateGridHeight(),this.cdr.detectChanges()},e.prototype.disableSummaries=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];1===e.length&&Array.isArray(e[0])?this._disableMultipleSummaries(e[0]):this._summaries(e[0],!1)},e.prototype.clearFilter=function(e){this.filteringService.clearFilter(e)},e.prototype.clearSort=function(e){e?this.gridAPI.get_column_by_name(e)&&this.gridAPI.clear_sort(e):this.sortingExpressions=[]},e.prototype.refreshGridState=function(e){this.endEdit(!0),this.summaryService.clearSummaryCache(e)},e.prototype.pinColumn=function(e,t){return(e instanceof zl?e:this.getColumnByName(e)).pin(t)},e.prototype.unpinColumn=function(e,t){return(e instanceof zl?e:this.getColumnByName(e)).unpin(t)},e.prototype.reflow=function(){this.calculateGridSizes()},e.prototype.findNext=function(e,t,i){return this.find(e,1,t,i)},e.prototype.findPrev=function(e,t,i){return this.find(e,-1,t,i)},e.prototype.refreshSearch=function(e){var i=this;if(this.lastSearchInfo.searchText){if(this.rebuildMatchCache(),e){var n=wo.highlightGroupsMap.get(this.id);this.lastSearchInfo.matchInfoCache.forEach(function(e,t){e.column===n.column&&e.row===n.row&&e.index===n.index&&(i.lastSearchInfo.activeMatchIndex=t)})}return this.find(this.lastSearchInfo.searchText,0,this.lastSearchInfo.caseSensitive,this.lastSearchInfo.exactMatch,!1)}return 0},e.prototype.clearSearch=function(){this.lastSearchInfo={searchText:"",caseSensitive:!1,exactMatch:!1,activeMatchIndex:0,matchInfoCache:[]},this.rowList.forEach(function(e){e.cells&&e.cells.forEach(function(e){e.clearHighlight()})})},Object.defineProperty(e.prototype,"hasSortableColumns",{get:function(){return this.columnList.some(function(e){return e.sortable})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasEditableColumns",{get:function(){return this.columnList.some(function(e){return e.editable})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasFilterableColumns",{get:function(){return this.columnList.some(function(e){return e.filterable})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasSummarizedColumns",{get:function(){return this.summaryService.hasSummarizedColumns},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rootSummariesEnabled",{get:function(){return this.summaryCalculationMode!==Kc.childLevelsOnly},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasMovableColumns",{get:function(){return this.columnList&&this.columnList.some(function(e){return e.movable})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasColumnGroups",{get:function(){return this._columnGroups},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasColumnLayouts",{get:function(){return!!this.columnList.some(function(e){return e.columnLayout})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedCells",{get:function(){return this.dataRowList?this.dataRowList.map(function(e){return e.cells.filter(function(e){return e.selected})}).reduce(function(e,t){return e.concat(t)},[]):[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiRowLayoutRowSize",{get:function(){return this._multiRowLayoutRowSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowBasedHeight",{get:function(){return this.dataLength*this.rowHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPercentWidth",{get:function(){return this._width&&-1!==this._width.indexOf("%")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPercentHeight",{get:function(){return this._height&&-1!==this._height.indexOf("%")},enumerable:!0,configurable:!0}),e.prototype._derivePossibleWidth=function(){var i=this;this.columnWidthSetByUser||(this._columnWidth=this.getPossibleColumnWidth(),this.columnList.forEach(function(e){if(i.hasColumnLayouts&&parseInt(i._columnWidth,10)){var t=parseInt(i._columnWidth,10)*(e.colEnd?e.colEnd-e.colStart:1);e.defaultWidth=t+"px"}else e.defaultWidth=i._columnWidth}),this.resetCachedWidths())},Object.defineProperty(e.prototype,"defaultTargetBodyHeight",{get:function(){var e=this.totalItemCount||this.dataLength;return this.renderedRowHeight*Math.min(this._defaultTargetRecordNumber,this.paging?Math.min(e,this.perPage):e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderedRowHeight",{get:function(){return this.rowHeight+1},enumerable:!0,configurable:!0}),e.prototype.calculateGridHeight=function(){this.maxLevelHeaderDepth&&(this.theadRow.nativeElement.style.height=(this.maxLevelHeaderDepth+1)*this.defaultRowHeight+(this.allowFiltering&&this.filterMode===$c.quickFilter?50:0)+1+"px"),this.summariesHeight=0,this.hasSummarizedColumns&&this.rootSummariesEnabled&&(this.summariesHeight=this.summaryService.calcMaxSummaryHeight()),this.calcHeight=this._calculateGridBodyHeight()},e.prototype.getGroupAreaHeight=function(){return 0},e.prototype.getToolbarHeight=function(){var e=0;return this.showToolbar&&null!=this.toolbarHtml&&(e=this.toolbarHtml.nativeElement.firstElementChild?this.toolbarHtml.nativeElement.offsetHeight:0),e},e.prototype.getPagingHeight=function(){var e=0;return this.paging&&this.paginator&&(e=this.paginator.nativeElement.firstElementChild?this.paginator.nativeElement.offsetHeight:0),e},e.prototype._calculateGridBodyHeight=function(){if(!this._height)return null;var e,t=this.tfoot.nativeElement.offsetHeight-this.tfoot.nativeElement.clientHeight,i=this.document.defaultView.getComputedStyle(this.nativeElement),n=this.getToolbarHeight(),r=this.getPagingHeight(),o=this.getGroupAreaHeight(),s=n+this.theadRow.nativeElement.offsetHeight+this.summariesHeight+r+o+t+this.scr.nativeElement.clientHeight;if(this.isPercentHeight){if(this.nativeElement.parentElement&&this.nativeElement.parentElement.clientHeight!==s||(this._autoSize=!0),this._autoSize||-1!==i.getPropertyValue("height").indexOf("%"))return 0<(a=this.getDataBasedBodyHeight())?a:null;e=parseInt(i.getPropertyValue("height"),10)}else e=parseInt(this._height,10);var a,l=Math.abs(e-s);return 0===l||isNaN(e)?0<(a=this.defaultTargetBodyHeight)?a:null:l},Object.defineProperty(e.prototype,"outerWidth",{get:function(){return this.hasVerticalSroll()?this.calcWidth+this.scrollWidth:this.calcWidth},enumerable:!0,configurable:!0}),e.prototype.getVisibleContentHeight=function(){var e=this.theadRow.nativeElement.clientHeight+this.tbody.nativeElement.clientHeight;return this.hasSummarizedColumns&&(e+=this.tfoot.nativeElement.clientHeight),e},e.prototype.getPossibleColumnWidth=function(e){var r;void 0===e&&(e=null),r=null!==e?e:this.calcWidth||parseInt(this.document.defaultView.getComputedStyle(this.nativeElement).getPropertyValue("width"),10),this.showRowCheckboxes&&(r-=this.headerCheckboxContainer?this.headerCheckboxContainer.nativeElement.offsetWidth:0);var t=this.visibleColumns.filter(function(e){return!e.columnGroup}),i=[],n=this.visibleColumns.filter(function(e){return e.columnGroup}).map(function(e){return e.getInitialChildColumnSizes(e.children)}),o=n.reduce(function(e,t){return e+t.length},0);n.forEach(function(e){return i=i.concat(e)});var s=this.hasColumnLayouts?i.filter(function(e){return e.widthSetByUser}):t.filter(function(e){return e.widthSetByUser}),a=this.hasColumnLayouts?o-s.length:t.length-s.length,l=s.reduce(function(e,t){var i=t.width,n=parseInt(i,10);return e+(i&&"string"==typeof i&&-1!==i.indexOf("%")?n/100*r:n)},0);return Math.floor(Number.isFinite(l)?Math.max((r-l)/a,136):Math.max(r/a,136)).toString()},e.prototype.calculateGridWidth=function(){var e,t=this.document.defaultView.getComputedStyle(this.nativeElement),i=this.document.getElementById(this.nativeElement.id);!(e=this.isPercentWidth?-1===t.getPropertyValue("width").indexOf("%")?parseInt(t.getPropertyValue("width"),10):null:parseInt(this._width,10))&&i&&(e=i.offsetWidth),e||(e=this.columnList.reduce(function(e,t){return e+parseInt(t.width||t.defaultWidth,10)},0)),this.hasVerticalSroll()&&(e-=this.scrollWidth),Number.isFinite(e)&&e!==this.calcWidth&&(this.calcWidth=e,this.cdr.detectChanges()),this._derivePossibleWidth()},e.prototype.hasVerticalSroll=function(){if(!this._ngAfterViewInitPassed)return!1;var e=this.verticalScrollContainer.isScrollable();return!!(this.calcWidth&&this.verticalScrollContainer.igxForOf&&0<this.verticalScrollContainer.igxForOf.length&&e)},e.prototype.getDataBasedBodyHeight=function(){return!this.data||this.data.length<this._defaultTargetRecordNumber?0:this.defaultTargetBodyHeight},e.prototype.onColumnsChanged=function(e){var t=this,i=this.columnListDiffer.diff(e);if(i){var n=!1,r=!1;this.initColumns(this.columnList),i.forEachAddedItem(function(e){t.onColumnInit.emit(e.item),n=!0}),i.forEachRemovedItem(function(e){t.gridAPI.clear_filter(e.item.field),t.gridAPI.clear_sort(e.item.field),r=!0}),this.resetCaches(),(n||r)&&(this.summaryService.clearSummaryCache(),this.calculateGridSizes())}this.markForCheck()},e.prototype.calculateGridSizes=function(){this.resetCaches();var e=this.hasVerticalSroll();this.calculateGridWidth(),this.resetCaches(),this.cdr.detectChanges(),this.calculateGridHeight(),this.rowEditable&&this.repositionRowEditingOverlay(this.rowInEditMode),this.filteringService.isFilterRowVisible&&this.filteringRow.resetChipsArea(),this.cdr.detectChanges(),this.resetCaches(),e!==this.hasVerticalSroll()&&(this.calculateGridWidth(),this.cdr.detectChanges(),this.resetCaches())},e.prototype.getFeatureColumnsWidth=function(){var e=0;return this.headerCheckboxContainer&&(e+=this.headerCheckboxContainer.nativeElement.getBoundingClientRect().width),this.headerDragContainer&&(e+=this.headerDragContainer.nativeElement.getBoundingClientRect().width),e},e.prototype.getPinnedWidth=function(e){var t,i;void 0===e&&(e=!1);var n=e?this._pinnedColumns:this.pinnedColumns,r=0;try{for(var o=S(n),s=o.next();!s.done;s=o.next()){var a=s.value;0===a.level&&(r+=parseInt(a.calcWidth,10))}}catch(l){t={error:l}}finally{try{s&&!s.done&&(i=o["return"])&&i.call(o)}finally{if(t)throw t.error}}return r+=this.featureColumnsWidth},e.prototype.getUnpinnedWidth=function(e){void 0===e&&(e=!1);var t=this.isPercentWidth?this.calcWidth:parseInt(this._width,10);return this.hasVerticalSroll()&&!this.isPercentWidth&&(t-=this.scrollWidth),t-this.getPinnedWidth(e)},e.prototype._summaries=function(e,t,i){var n=this.gridAPI.get_column_by_name(e);n&&(n.hasSummary=t,i&&(this.rootSummariesEnabled&&this.summaryService.retriggerRootPipe++,n.summaries=i))},e.prototype._multipleSummaries=function(e,t){var i=this;e.forEach(function(e){i._summaries(e.fieldName,t,e.customSummary)})},e.prototype._disableMultipleSummaries=function(e){var i=this;e.forEach(function(e){var t=e&&e.fieldName?e.fieldName:e;i._summaries(t,!1)})},e.prototype.resolveDataTypes=function(e){return"number"==typeof e?Pi.Number:"boolean"==typeof e?Pi.Boolean:"object"==typeof e&&e instanceof Date?Pi.Date:Pi.String},e.prototype.getScrollWidth=function(){var e=document.createElement("div"),t=e.style;t.width="100px",t.height="100px",t.position="absolute",t.top="-10000px",t.top="-10000px",t.overflow="scroll",document.body.appendChild(e);var i=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),i},e.prototype.autogenerateColumns=function(){var i=this,n=this.gridAPI.get_data(),r=this.resolver.resolveComponentFactory(zl),e=this.generateDataFields(n),o=[];e.forEach(function(e){var t=i.viewRef.createComponent(r,null,i.viewRef.injector);t.instance.field=e,t.instance.dataType=i.resolveDataTypes(n[0][e]),t.changeDetectorRef.detectChanges(),o.push(t.instance)}),this.columnList.reset(o),n&&0<n.length&&(this.shouldGenerate=!1)},e.prototype.generateDataFields=function(e){return Object.keys(e&&0!==e.length?e[0]:[])},e.prototype.onlyTopLevel=function(e){return e.filter(function(e){return 0===e.level})},e.prototype.initColumns=function(e,t){var i=this;if(void 0===t&&(t=null),this._columnGroups=this.columnList.some(function(e){return e.columnGroup}),this.hasColumnLayouts&&this.columnList.forEach(function(e){if(e.columnLayout){var t=e.children?e.children.reduce(function(e,t){return Math.max(t.rowStart+t.gridRowSpan-1,e)},1):1;i._multiRowLayoutRowSize=Math.max(t,i._multiRowLayoutRowSize)}}),this.hasColumnLayouts&&this.hasColumnGroups){var n=this.columnList.filter(function(e){return e.columnLayout||e.columnLayoutChild});this.columnList.reset(n)}this._maxLevelHeaderDepth=null,this._columns=this.columnList.toArray(),e.forEach(function(e){e.grid=i,e.defaultWidth=i.columnWidth,i.setColumnEditState(e),t&&t(e)}),this.reinitPinStates(),this.hasColumnLayouts&&e.forEach(function(e){e.populateVisibleIndexes()})},e.prototype.setColumnEditState=function(e){this.rowEditable&&null===e.editable&&e.field&&e.field!==this.primaryKey&&(e.editable=this.rowEditable)},e.prototype.reinitPinStates=function(){var i=this;this._pinnedColumns=this.hasColumnGroups?this.columnList.filter(function(e){return e.pinned}):this.columnList.filter(function(e){return e.pinned}).sort(function(e,t){return i._pinnedColumns.indexOf(e)-i._pinnedColumns.indexOf(t)}),this._unpinnedColumns=this.columnList.filter(function(e){return!e.pinned})},e.prototype.isColumnGrouped=function(e){return!1},e.prototype.onHeaderCheckboxClick=function(e,t){this.allRowsSelected=e.checked;var i=e.checked?t?this.selection.add_items(this.id,this.selection.get_all_ids(t,this.primaryKey)):this.selection.get_all_ids(this.gridAPI.get_all_data(!0),this.primaryKey):t?this.selection.delete_items(this.id,this.selection.get_all_ids(t,this.primaryKey)):this.selection.get_empty();this.triggerRowSelectionChange(i,null,e,e.checked),this.checkHeaderCheckboxStatus(e.checked)},Object.defineProperty(e.prototype,"headerCheckboxAriaLabel",{get:function(){return 0<this._filteringExpressionsTree.filteringOperands.length?this.headerCheckbox&&this.headerCheckbox.checked?"Deselect all filtered":"Select all filtered":this.headerCheckbox&&this.headerCheckbox.checked?"Deselect all":"Select all"},enumerable:!0,configurable:!0}),e.prototype.checkHeaderCheckboxStatus=function(e){if(e===undefined){var t=this.filteringService.filteredData,i=t?t.length:this.dataLength;this.allRowsSelected=this.selection.are_all_selected(this.id,i),this.headerCheckbox&&(this.headerCheckbox.indeterminate=!this.allRowsSelected&&!this.selection.are_none_selected(this.id),this.headerCheckbox.indeterminate||(this.headerCheckbox.checked=this.allRowsSelected)),this.cdr.markForCheck()}else this.headerCheckbox&&(this.headerCheckbox.checked=e!==undefined&&e)},e.prototype.filteredItemsStatus=function(e,t,i){var n,r,o=this.selection.get(e),s=!1,a=!1;if(o)try{for(var l=S(Object.keys(t)),c=l.next();!c.done;c=l.next()){var p=c.value,u=i?t[p][i]:t[p];if(o.has(u)){if(s=!0,a)return"indeterminate"}else if(a=!0,s)return"indeterminate"}}catch(d){n={error:d}}finally{try{c&&!c.done&&(r=l["return"])&&r.call(l)}finally{if(n)throw n.error}}return s?"allSelected":"noneSelected"},e.prototype.updateHeaderCheckboxStatusOnFilter=function(e){if(e)switch(this.filteredItemsStatus(this.id,e,this.primaryKey)){case"allSelected":this.allRowsSelected||(this.allRowsSelected=!0),this.headerCheckbox.indeterminate&&(this.headerCheckbox.indeterminate=!1);break;case"noneSelected":this.allRowsSelected&&(this.allRowsSelected=!1),this.headerCheckbox.indeterminate&&(this.headerCheckbox.indeterminate=!1);break;default:this.headerCheckbox.indeterminate||(this.headerCheckbox.indeterminate=!0),this.allRowsSelected&&(this.allRowsSelected=!1)}else this.checkHeaderCheckboxStatus()},e.prototype.selectedRows=function(){var e;return(e=this.selection.get(this.id))?Array.from(e):[]},e.prototype.selectRows=function(e,t){var i,n=this,r=[];r=this.transactions.enabled?e.filter(function(e){return!n.gridAPI.row_deleted_transaction(e)}):e,i=this.selection.add_items(this.id,r,t),this.triggerRowSelectionChange(i)},e.prototype.deselectRows=function(e){var t;t=this.selection.delete_items(this.id,e),this.triggerRowSelectionChange(t)},e.prototype.selectAllRows=function(){this.triggerRowSelectionChange(this.selection.get_all_ids(this.gridAPI.get_all_data(!0),this.primaryKey))},e.prototype.deselectAllRows=function(){this.triggerRowSelectionChange(this.selection.get_empty())},e.prototype.clearCellSelection=function(){this.selectionService.clear(),this.selectionService.activeElement=null,this.cdr.markForCheck()},e.prototype.dragScroll=function(e){var t=this.parentVirtDir.getHorizontalScroll(),i=this.verticalScrollContainer.getVerticalScroll();switch(e){case Vc.LEFT:t.scrollLeft-=48;break;case Vc.RIGHT:t.scrollLeft+=48;break;case Vc.TOP:i.scrollTop-=48;break;case Vc.BOTTOM:i.scrollTop+=48;break;case Vc.BOTTOMLEFT:t.scrollLeft-=48,i.scrollTop+=48;break;case Vc.BOTTOMRIGHT:t.scrollLeft+=48,i.scrollTop+=48;break;case Vc.TOPLEFT:t.scrollLeft-=48,i.scrollTop-=48;break;case Vc.TOPRIGHT:t.scrollLeft+=48,i.scrollTop-=48;break;default:return}this.wheelHandler()},e.prototype.isDefined=function(e){return e!==undefined&&null!==e},e.prototype.selectRange=function(e){var t=this;this.isDefined(e)?(e instanceof Array?e.forEach(function(e){return t.setSelection(e)}):this.setSelection(e),this.cdr.markForCheck()):this.clearCellSelection()},e.prototype.columnToVisibleIndex=function(t){var e=this.visibleColumns;return"number"==typeof t?t:e.find(function(e){return e.field===t}).visibleIndex},e.prototype.setSelection=function(e){var t={row:e.rowStart,column:this.columnToVisibleIndex(e.columnStart)},i={row:e.rowEnd,column:this.columnToVisibleIndex(e.columnEnd)};this.selectionService.pointerState.node=t,this.selectionService.selectRange(i,this.selectionService.pointerState),this.selectionService.addRangeMeta(i,this.selectionService.pointerState),this.selectionService.initPointerState()},e.prototype.getSelectedRanges=function(){return this.selectionService.ranges},e.prototype.extractDataFromSelection=function(t){var e,i,n,r,o,s={},a=[],l=Array.from(this.selectionService.selection).filter(function(e){return e[0]<t.length}),c=this.visibleColumns.filter(function(e){return!e.columnGroup}).sort(function(e,t){return e.visibleIndex-t.visibleIndex});try{for(var p=S(l),u=p.next();!u.done;u=p.next()){var d=w(u.value,2),h=d[0],g=d[1];if(t[h]){var f=Array.from(g);try{for(var m=S(f),y=m.next();!y.done;y=m.next()){(o=c[y.value])&&(s[o.field]=t[h][o.field])}}catch(v){n={error:v}}finally{try{y&&!y.done&&(r=m["return"])&&r.call(m)}finally{if(n)throw n.error}}Object.keys(s).length&&a.push(s),s={}}}}catch(x){e={error:x}}finally{try{u&&!u.done&&(i=p["return"])&&i.call(p)}finally{if(e)throw e.error}}return a},e.prototype.getSelectedData=function(){var e=this.verticalScrollContainer.igxForOf;return this.extractDataFromSelection(e)},e.prototype.triggerRowSelectionChange=function(e,t,i,n){var r=this.selection.get(this.id),o={oldSelection:r?Array.from(r):[],newSelection:e?Array.from(e):[],row:t,event:i};this.onRowSelectionChange.emit(o),e=this.selection.get_empty();for(var s=0;s<o.newSelection.length;s++)e.add(o.newSelection[s]);this.selection.set(this.id,e),this.checkHeaderCheckboxStatus(n)},e.prototype.scrollHandler=function(e){this.parentVirtDir.getHorizontalScroll().scrollLeft+=e.target.scrollLeft,this.verticalScrollContainer.getVerticalScroll().scrollTop+=e.target.scrollTop,e.target.scrollLeft=0,e.target.scrollTop=0},e.prototype.navigateTo=function(e,t,i){var n=this;void 0===t&&(t=-1),void 0===i&&(i=null),e<0||e>this.verticalScrollContainer.igxForOf.length-1||-1!==t&&-1===this.columnList.map(function(e){return e.visibleIndex}).indexOf(t)||(this.wheelHandler(),this.verticalScrollContainer.igxForOf.slice(e,e+1).find(function(e){return e.expression||e.childGridsData})&&(t=-1),-1===t||this.navigation.isColumnFullyVisible(t)&&this.navigation.isColumnLeftFullyVisible(t)?this.navigation.shouldPerformVerticalScroll(e,t)?this.navigation.performVerticalScrollToCell(e,t,function(){n.executeCallback(e,t,i)}):this.executeCallback(e,t,i):this.navigation.performHorizontalScrollToCell(e,t,!1,function(){n.executeCallback(e,t,i)}))},e.prototype.getNextCell=function(e,t,i){void 0===i&&(i=null);var n=this.columnList.filter(function(e){return!e.columnGroup&&0<=e.visibleIndex});if(!this.isValidPosition(e,t))return{rowIndex:e,visibleColumnIndex:t};var r=i?n.filter(function(e){return i(e)}).map(function(e){return e.visibleIndex}).sort(function(e,t){return e-t}):n.map(function(e){return e.visibleIndex}).sort(function(e,t){return e-t}),o=r.find(function(e){return t<e});return this.verticalScrollContainer.igxForOf.slice(e,e+1).find(function(e){return!e.expression&&!e.summaries&&!e.childGridsData})&&o!==undefined?{rowIndex:e,visibleColumnIndex:o}:0===r.length||this.getNextDataRowIndex(e)===e?{rowIndex:e,visibleColumnIndex:t}:{rowIndex:this.getNextDataRowIndex(e),visibleColumnIndex:r[0]}},e.prototype.getPreviousCell=function(e,t,i){void 0===i&&(i=null);var n=this.columnList.filter(function(e){return!e.columnGroup&&0<=e.visibleIndex});if(!this.isValidPosition(e,t))return{rowIndex:e,visibleColumnIndex:t};var r=i?n.filter(function(e){return i(e)}).map(function(e){return e.visibleIndex}).sort(function(e,t){return t-e}):n.map(function(e){return e.visibleIndex}).sort(function(e,t){return t-e}),o=r.find(function(e){return e<t});return this.verticalScrollContainer.igxForOf.slice(e,e+1).find(function(e){return!e.expression&&!e.summaries&&!e.childGridsData})&&o!==undefined?{rowIndex:e,visibleColumnIndex:o}:0===r.length||this.getPrevDataRowIndex(e)===e?{rowIndex:e,visibleColumnIndex:t}:{rowIndex:this.getPrevDataRowIndex(e),visibleColumnIndex:r[0]}},e.prototype.executeCallback=function(t,i,e){if(void 0===i&&(i=-1),void 0===e&&(e=null),e){var n,r,o=this.summariesRowList.filter(function(e){return 0!==e.index}).concat(this.rowList.toArray()).find(function(e){return e.index===t});if(o){switch(o.nativeElement.tagName.toLowerCase()){case"igx-grid-groupby-row":n=Yc.groupRow,r=o;break;case"igx-grid-summary-row":n=Yc.summaryCell,r=-1!==i?o.summaryCells.find(function(e){return e.visibleColumnIndex===i}):o.summaryCells.first;break;case"igx-child-grid-row":n=Yc.hierarchicalRow,r=o;break;default:n=Yc.dataCell,r=-1!==i?o.cells.find(function(e){return e.visibleColumnIndex===i}):o.cells.first}e({targetType:n,target:r})}}},e.prototype.getPrevDataRowIndex=function(e){if(e<=0)return e;var t=this.verticalScrollContainer.igxForOf.slice(0,e).reverse().find(function(e){return!e.expression&&!e.summaries&&!e.childGridsData});return t?this.verticalScrollContainer.igxForOf.indexOf(t):e},e.prototype.getNextDataRowIndex=function(e){if(e===this.verticalScrollContainer.igxForOf.length)return e;var t=this.verticalScrollContainer.igxForOf.slice(e+1,this.verticalScrollContainer.igxForOf.length).find(function(e){return!e.expression&&!e.summaries&&!e.childGridsData});return t?this.verticalScrollContainer.igxForOf.indexOf(t):e},e.prototype.isValidPosition=function(e,t){var i=this.summariesRowList.filter(function(e){return 0!==e.index}).concat(this.rowList.toArray()).length,n=this.columnList.filter(function(e){return!e.columnGroup&&0<=e.visibleIndex}).length;return!(i<1||n<1)&&(-1<e&&e<this.verticalScrollContainer.igxForOf.length&&-1<t&&t<=this.unpinnedColumns[this.unpinnedColumns.length-1].visibleIndex)},e.prototype.wheelHandler=function(e){void 0===e&&(e=!1),document.activeElement&&(document.activeElement.compareDocumentPosition(this.tbody.nativeElement)&Node.DOCUMENT_POSITION_CONTAINS||document.activeElement.compareDocumentPosition(this.tfoot.nativeElement)&Node.DOCUMENT_POSITION_CONTAINS&&e)&&document.activeElement.blur()},e.prototype.trackColumnChanges=function(e,t){return t.field+t._calcWidth},e.prototype.find=function(t,e,i,n,r){if(!this.rowList)return 0;if(this.endEdit(!1),!t)return this.clearSearch(),0;var o=!!i,s=!!n,a=!1;if(this.lastSearchInfo.searchText!==t||this.lastSearchInfo.caseSensitive!==o||this.lastSearchInfo.exactMatch!==s?(this.lastSearchInfo={searchText:t,activeMatchIndex:0,caseSensitive:o,exactMatch:s,matchInfoCache:[]},a=!0):this.lastSearchInfo.activeMatchIndex+=e,a&&(this.rowList.forEach(function(e){e.cells&&e.cells.forEach(function(e){e.highlightText(t,o,s)})}),this.rebuildMatchCache()),this.lastSearchInfo.activeMatchIndex>=this.lastSearchInfo.matchInfoCache.length?this.lastSearchInfo.activeMatchIndex=0:this.lastSearchInfo.activeMatchIndex<0&&(this.lastSearchInfo.activeMatchIndex=this.lastSearchInfo.matchInfoCache.length-1),this.lastSearchInfo.matchInfoCache.length){var l=this.lastSearchInfo.matchInfoCache[this.lastSearchInfo.activeMatchIndex];this.lastSearchInfo=m({},this.lastSearchInfo),!1!==r&&this.scrollTo(l.row,l.column),wo.setActiveHighlight(this.id,{column:l.column,row:l.row,index:l.index})}else wo.clearActiveHighlight(this.id);return this.lastSearchInfo.matchInfoCache.length},Object.defineProperty(e.prototype,"filteredSortedData",{get:function(){return this._filteredSortedData},set:function(e){this._filteredSortedData=e,this.refreshSearch(!0)},enumerable:!0,configurable:!0}),e.prototype.initPinning=function(){var e=0,t=[],i=[],n=[];this.calculateGridWidth(),this.resetCaches(),this._pinnedColumns.forEach(function(e){e.parent&&(e.parent.pinned=!0),e.columnGroup&&e.children.forEach(function(e){return e.pinned=!0})});for(var r=0;r<this._columns.length;r++)if(this._columns[r].pinned&&!this._columns[r].parent){var o=parseInt(this._columns[r].width,10);e+o>this.calcWidth-this.unpinnedAreaMinWidth?(this._columns[r].pinned=!1,i.push(this._columns[r]),n.push(this._columns[r])):(e+=o,t.push(this._columns[r]))}else this._columns[r].pinned&&this._columns[r].parent?this._columns[r].topLevelParent.pinned?t.push(this._columns[r]):(this._columns[r].pinned=!1,i.push(this._columns[r])):i.push(this._columns[r]);n.length&&console.warn("igxGrid - The pinned area exceeds maximum pinned width. The following columns were unpinned to prevent further issues:"+n.map(function(e){return'"'+e.header+'"'}).toString()+". For more info see our documentation."),this._pinnedColumns=t,this._unpinnedColumns=i,this.cdr.markForCheck()},e.prototype.scrollTo=function(e,t){var i=this,n=!1;if(this.paging&&"number"!=typeof e){var r=this.filteredSortedData.indexOf(e),o=Math.floor(r/this.perPage);this.page!==o&&(n=!0,this.page=o)}n?this.verticalScrollContainer.onDataChanged.pipe(p.first()).subscribe(function(){i.scrollDirective(i.verticalScrollContainer,"number"==typeof e?e:i.verticalScrollContainer.igxForOf.indexOf(e))}):this.scrollDirective(this.verticalScrollContainer,"number"==typeof e?e:this.verticalScrollContainer.igxForOf.indexOf(e)),this.scrollToHorizontally(t)},e.prototype.scrollToHorizontally=function(e){var t="number"==typeof e?e:this.getColumnByName(e).visibleIndex,i=this.rowList.find(function(e){return e.virtDirRow}),n=i?i.virtDirRow:null;this.pinnedColumns.length?t>=this.pinnedColumns.length&&(t-=this.pinnedColumns.length,this.scrollDirective(n,t)):this.scrollDirective(n,t)},e.prototype.scrollDirective=function(e,t){e&&e.scrollTo(t)},e.prototype.rebuildMatchCache=function(){var s=this;this.lastSearchInfo.matchInfoCache=[];var a=this.lastSearchInfo.caseSensitive,l=this.lastSearchInfo.exactMatch,c=a?this.lastSearchInfo.searchText:this.lastSearchInfo.searchText.toLowerCase(),e=this.filteredSortedData,t=this.visibleColumns.filter(function(e){return!e.columnGroup}).sort(function(e,t){return e.visibleIndex-t.visibleIndex}),p=new Nl(this.locale),u=new jl(this.locale);e.forEach(function(o){t.forEach(function(e){var t=e.formatter?e.formatter(o[e.field]):"number"===e.dataType?p.transform(o[e.field],s.locale):"date"===e.dataType?u.transform(o[e.field],s.locale):o[e.field];if(t!==undefined&&null!==t&&e.searchable){var i=a?String(t):String(t).toLowerCase();if(l)i===c&&s.lastSearchInfo.matchInfoCache.push({row:o,column:e.field,index:0});else for(var n=0,r=i.indexOf(c);-1!==r;)s.lastSearchInfo.matchInfoCache.push({row:o,column:e.field,index:n++}),r=(i=i.substring(r+c.length)).indexOf(c)}})})},e.prototype.isExpandedGroup=function(e){return undefined},e.prototype.getGroupByRecords=function(){return null},e.prototype.changeRowEditingOverlayStateOnScroll=function(e){this.rowEditable&&this.rowEditingOverlay&&!this.rowEditingOverlay.collapsed&&(e?this.repositionRowEditingOverlay(e):this.toggleRowEditingOverlay(!1))},e.prototype.openRowOverlay=function(e){this.configureRowEditingOverlay(e,this.rowList.length<=2),this.rowEditingOverlay.open(this.rowEditSettings),this.rowEditPositioningStrategy.isTopInitialPosition=this.rowEditPositioningStrategy.isTop,this._wheelListener=this.rowEditingWheelHandler.bind(this),this.rowEditingOverlay.element.addEventListener("wheel",this._wheelListener)},e.prototype.closeRowEditingOverlay=function(){this.rowEditingOverlay.element.removeEventListener("wheel",this._wheelListener),this.rowEditPositioningStrategy.isTopInitialPosition=null,this.rowEditingOverlay.close(),this.rowEditingOverlay.element.parentElement.style.display=""},e.prototype.toggleRowEditingOverlay=function(e){var t=this.rowEditingOverlay.element.style;t.display=e?"block":"none"},e.prototype.repositionRowEditingOverlay=function(e){if(!this.rowEditingOverlay.collapsed){var t=this.rowEditingOverlay.element.parentElement.style;e?(t.display="",this.configureRowEditingOverlay(e.rowID),this.rowEditingOverlay.reposition()):t.display="none"}},e.prototype.configureRowEditingOverlay=function(e,t){void 0===t&&(t=!1),this.rowEditSettings.outlet=t?this.parentRowOutletDirective:this.rowOutletDirective,this.rowEditPositioningStrategy.settings.container=this.tbody.nativeElement;var i=this.gridAPI.get_row_by_key(e);i&&(this.rowEditPositioningStrategy.settings.target=i.element.nativeElement,this.toggleRowEditingOverlay(!0))},Object.defineProperty(e.prototype,"rowChangesCount",{get:function(){if(!this.crudService.row)return 0;var e=this.transactions.getAggregatedValue(this.crudService.row.id,!1);return e?Object.keys(e).length:0},enumerable:!0,configurable:!0}),e.prototype.writeToData=function(e,t){ii(this.gridAPI.get_all_data()[e],t)},e.prototype.endRowTransaction=function(e,t){t.newData=this.transactions.getAggregatedValue(t.id,!0);var i=t.createEditEventArgs();e?i=this.gridAPI.update_row(t,t.newData):(this.onRowEditCancel.emit(i),this.transactions.endPending(!1)),i.cancel?this.transactions.startPending():(this.crudService.endRowEdit(),this.closeRowEditingOverlay())},e.prototype.endEdit=function(e,t){void 0===e&&(e=!0);var i=this.crudService.row,n=this.crudService.cell,r=n?n.column.index:-1,o=i?i.index:-1;if((i||n)&&(e?this.gridAPI.submit_value():this.gridAPI.escape_editMode(),!(!this.rowEditable||this.rowEditingOverlay&&this.rowEditingOverlay.collapsed)&&i)){this.endRowTransaction(e,i);var s=this.gridAPI.get_cell_by_index(o,r);s&&t&&s.nativeElement.focus()}},e.prototype.rowEditingWheelHandler=function(e){0<e.deltaY?this.verticalScrollContainer.scrollNext():this.verticalScrollContainer.scrollPrev()},Object.defineProperty(e.prototype,"dataWithAddedInTransactionRows",{get:function(){var e=ti(this.gridAPI.get_all_data());return this.transactions.enabled&&e.push.apply(e,_(this.transactions.getAggregatedChanges(!0).filter(function(e){return e.type===wi.ADD}).map(function(e){return e.newValue}))),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataLength",{get:function(){return this.transactions.enabled?this.dataWithAddedInTransactionRows.length:this.gridAPI.get_all_data().length},enumerable:!0,configurable:!0}),e.prototype.hasHorizontalScroll=function(){return 0<this.totalWidth-this.unpinnedWidth},e.prototype._restoreVirtState=function(e){var t=e.virtDirRow,i=t.getHorizontalScroll().scrollLeft;i!==-parseInt(t.dc.instance._viewContainer.element.nativeElement.style.left,10)+t.getColumnScrollLeft(t.state.startIndex)&&t.onHScroll(i)},e.prototype.getExportExcel=function(){return this._exportExcel},e.prototype.getExportCsv=function(){return this._exportCsv},e.prototype.isSummaryRow=function(e){return e.summaries&&e.summaries instanceof Map},Object.defineProperty(e.prototype,"isAttachedToDom",{get:function(){return this.document.body.contains(this.nativeElement)},enumerable:!0,configurable:!0}),e.prototype.cachedViewLoaded=function(e){var t=this;"dataRow"===e.context.templateID&&e.context.$implicit===e.oldContext.$implicit&&(e.view.detectChanges(),(r=this.getRowByIndex(e.context.index))&&r.cells&&r.cells.forEach(function(e){e.highlightText(t.lastSearchInfo.searchText,t.lastSearchInfo.caseSensitive,t.lastSearchInfo.exactMatch)}));if(this.hasHorizontalScroll()){var i=e.context.templateID,n=e.context.index;e.view.detectChanges();var r="dataRow"===i?this.getRowByIndex(n):null,o="summaryRow"===i?this.summariesRowList.toArray().find(function(e){return e.dataRowIndex===n}):null;r&&r instanceof wl?this._restoreVirtState(r):o&&this._restoreVirtState(o)}},e.ctorParameters=function(){return[{type:bl},{type:xl},{type:_i},{type:$n},{type:undefined,decorators:[{type:b.Inject,args:[Wc]}]},{type:b.ElementRef},{type:b.NgZone},{type:undefined,decorators:[{type:b.Inject,args:[r.DOCUMENT]}]},{type:b.ChangeDetectorRef},{type:b.ComponentFactoryResolver},{type:b.IterableDiffers},{type:b.ViewContainerRef},{type:lc},{type:mc},{type:En,decorators:[{type:b.Inject,args:[En]}]},{type:Ac},{type:undefined,decorators:[{type:b.Optional},{type:b.Inject,args:[tr]}]}]},e.propDecorators={resourceStrings:[{type:b.Input}],autoGenerate:[{type:b.Input}],emptyGridTemplate:[{type:b.Input}],loadingGridTemplate:[{type:b.Input}],filteringLogic:[{type:b.Input}],filteringExpressionsTree:[{type:b.Input}],locale:[{type:b.Input}],paging:[{type:b.Input}],page:[{type:b.Input}],perPage:[{type:b.Input}],paginationTemplate:[{type:b.Input}],columnHiding:[{type:b.Input}],rowSelectable:[{type:b.Input}],rowDraggable:[{type:b.Input}],rowEditable:[{type:b.Input}],height:[{type:b.HostBinding,args:["style.height"]},{type:b.Input}],width:[{type:b.HostBinding,args:["style.width"]},{type:b.Input}],evenRowCSS:[{type:b.Input}],oddRowCSS:[{type:b.Input}],rowHeight:[{type:b.Input}],columnWidth:[{type:b.Input}],primaryKey:[{type:b.Input}],emptyGridMessage:[{type:b.Input}],isLoading:[{type:b.Input}],emptyFilteredGridMessage:[{type:b.Input}],columnHidingTitle:[{type:b.Input}],columnPinning:[{type:b.Input}],columnPinningTitle:[{type:b.Input}],allowFiltering:[{type:b.Input}],filterMode:[{type:b.Input}],summaryPosition:[{type:b.Input}],summaryCalculationMode:[{type:b.Input}],onCellClick:[{type:b.Output}],onSelection:[{type:b.Output}],onRowSelectionChange:[{type:b.Output}],onColumnPinning:[{type:b.Output}],onCellEditCancel:[{type:b.Output}],onCellEditEnter:[{type:b.Output}],onCellEdit:[{type:b.Output}],onRowEditEnter:[{type:b.Output}],onRowEdit:[{type:b.Output}],onRowEditCancel:[{type:b.Output}],onColumnInit:[{type:b.Output}],onSortingDone:[{type:b.Output}],onFilteringDone:[{type:b.Output}],onPagingDone:[{type:b.Output}],onRowAdded:[{type:b.Output}],onRowDeleted:[{type:b.Output}],onDataPreLoad:[{type:b.Output}],onColumnResized:[{type:b.Output}],onContextMenu:[{type:b.Output}],onDoubleClick:[{type:b.Output}],onColumnVisibilityChanged:[{type:b.Output}],onColumnMovingStart:[{type:b.Output}],onColumnMoving:[{type:b.Output}],onColumnMovingEnd:[{type:b.Output}],onFocusChange:[{type:b.Output}],onGridKeydown:[{type:b.Output}],onRowDragStart:[{type:b.Output}],onRowDragEnd:[{type:b.Output}],resizeLine:[{type:b.ViewChild,args:[Gc]}],columnList:[{type:b.ContentChildren,args:[zl,{read:zl,descendants:!0}]}],excelStyleSortingTemplateDirective:[{type:b.ContentChild,args:[Sc,{read:Sc}]}],excelStyleMovingTemplateDirective:[{type:b.ContentChild,args:[Ic,{read:Ic}]}],excelStyleHidingTemplateDirective:[{type:b.ContentChild,args:[Dc,{read:Dc}]}],excelStylePinningTemplateDirective:[{type:b.ContentChild,args:[Ec,{read:Ec}]}],headerGroups:[{type:b.ViewChildren,args:[Rc,{read:Rc}]}],_rowList:[{type:b.ViewChildren,args:["row"]}],_summaryRowList:[{type:b.ViewChildren,args:["summaryRow",{read:Mc}]}],_dataRowList:[{type:b.ViewChildren,args:[wl,{read:wl}]}],emptyFilteredGridTemplate:[{type:b.ViewChild,args:["emptyFilteredGrid",{read:b.TemplateRef}]}],emptyGridDefaultTemplate:[{type:b.ViewChild,args:["defaultEmptyGrid",{read:b.TemplateRef}]}],loadingGridDefaultTemplate:[{type:b.ViewChild,args:["defaultLoadingGrid",{read:b.TemplateRef}]}],parentVirtDir:[{type:b.ViewChild,args:["scrollContainer",{read:hr}]}],toolbarCustomContentTemplates:[{type:b.ContentChildren,args:[rc,{read:rc,descendants:!1}]}],verticalScrollContainer:[{type:b.ViewChild,args:["verticalScrollContainer",{read:hr}]}],verticalScroll:[{type:b.ViewChild,args:["verticalScrollHolder",{read:hr}]}],scr:[{type:b.ViewChild,args:["scr",{read:b.ElementRef}]}],paginator:[{type:b.ViewChild,args:["paginator",{read:b.ElementRef}]}],headerContainer:[{type:b.ViewChild,args:["headerContainer",{read:hr}]}],headerCheckboxContainer:[{type:b.ViewChild,args:["headerCheckboxContainer"]}],headerDragContainer:[{type:b.ViewChild,args:["headerDragContainer"]}],headerGroupContainer:[{type:b.ViewChild,args:["headerGroupContainer"]}],headerCheckbox:[{type:b.ViewChild,args:["headerCheckbox",{read:xa}]}],filteringRow:[{type:b.ViewChild,args:["filteringRow",{read:zc}]}],theadRow:[{type:b.ViewChild,args:["theadRow"]}],tbody:[{type:b.ViewChild,args:["tbody"]}],tfoot:[{type:b.ViewChild,args:["tfoot"]}],_outletDirective:[{type:b.ViewChild,args:["igxFilteringOverlayOutlet",{read:jn}]}],rowEditingOutletDirective:[{type:b.ViewChild,args:["igxRowEditingOverlayOutlet",{read:jn}]}],tmpOutlets:[{type:b.ViewChildren,args:[Bc,{read:Bc}]}],dragIndicatorIconBase:[{type:b.ViewChild,args:["dragIndicatorIconBase",{read:b.TemplateRef}]}],defaultRowEditTemplate:[{type:b.ViewChild,args:["defaultRowEditTemplate",{read:b.TemplateRef}]}],rowEditCustom:[{type:b.ContentChild,args:[cc,{read:b.TemplateRef}]}],rowEditText:[{type:b.ContentChild,args:[pc,{read:b.TemplateRef}]}],rowEditActions:[{type:b.ContentChild,args:[uc,{read:b.TemplateRef}]}],rowEditTabsDEFAULT:[{type:b.ViewChildren,args:[dc]}],rowEditTabsCUSTOM:[{type:b.ContentChildren,args:[dc]}],rowEditingOverlay:[{type:b.ViewChild,args:[Hn]}],tabindex:[{type:b.HostBinding,args:["attr.tabindex"]}],hostClass:[{type:b.HostBinding,args:["attr.class"]}],hostRole:[{type:b.HostBinding,args:["attr.role"]}],sortingExpressions:[{type:b.Input}],hiddenColumnsText:[{type:b.Input}],pinnedColumnsText:[{type:b.Input}],toolbar:[{type:b.ViewChild,args:["toolbar",{read:nc}]}],toolbarHtml:[{type:b.ViewChild,args:["toolbar",{read:b.ElementRef}]}],showToolbar:[{type:b.Input}],toolbarTitle:[{type:b.Input}],exportExcel:[{type:b.Input}],exportCsv:[{type:b.Input}],exportText:[{type:b.Input}],exportExcelText:[{type:b.Input}],exportCsvText:[{type:b.Input}],onToolbarExporting:[{type:b.Output}],onRangeSelection:[{type:b.Output}]},y([yc(),C("design:type",Number),C("design:paramtypes",[Number])],e.prototype,"filteringLogic",null),y([yc(),C("design:type",Object),C("design:paramtypes",[Object])],e.prototype,"filteringExpressionsTree",null),y([yc(),C("design:type",Boolean),C("design:paramtypes",[Boolean])],e.prototype,"rowSelectable",null),y([yc(),C("design:type",Boolean),C("design:paramtypes",[Boolean])],e.prototype,"rowEditable",null),y([yc(),C("design:type",String),C("design:paramtypes",[String])],e.prototype,"height",null),y([yc(),C("design:type",String),C("design:paramtypes",[String])],e.prototype,"width",null),y([yc(),C("design:type",Object),C("design:paramtypes",[Object])],e.prototype,"rowHeight",null),y([yc(),C("design:type",String),C("design:paramtypes",[String])],e.prototype,"columnWidth",null),y([yc(),C("design:type",Object)],e.prototype,"primaryKey",void 0),y([yc(),C("design:type",Object),C("design:paramtypes",[Object])],e.prototype,"columnPinning",null),y([Sn("onFocusChange event is deprecated. Use onGridKeydown event instead."),C("design:type",b.EventEmitter),C("design:paramtypes",[b.EventEmitter])],e.prototype,"onFocusChange",null),y([yc(),C("design:type",Array),C("design:paramtypes",[Array])],e.prototype,"sortingExpressions",null),y([yc(),C("design:type",Object),C("design:paramtypes",[Object])],e.prototype,"hiddenColumnsText",null),y([yc(),C("design:type",Object),C("design:paramtypes",[Object])],e.prototype,"pinnedColumnsText",null),y([yc(),C("design:type",Boolean),C("design:paramtypes",[Boolean])],e.prototype,"showToolbar",null),y([yc(),C("design:type",String),C("design:paramtypes",[String])],e.prototype,"toolbarTitle",null),y([yc(),C("design:type",Boolean),C("design:paramtypes",[Boolean])],e.prototype,"exportExcel",null),y([yc(),C("design:type",Boolean),C("design:paramtypes",[Boolean])],e.prototype,"exportCsv",null),y([yc(),C("design:type",String),C("design:paramtypes",[String])],e.prototype,"exportText",null),y([yc(),C("design:type",String),C("design:paramtypes",[String])],e.prototype,"exportExcelText",null),y([yc(),C("design:type",String),C("design:paramtypes",[String])],e.prototype,"exportCsvText",null),e}(ir),qc=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t){void 0===t&&(t=0);var i=this.gridAPI.grid.summaryService;return i.calculateSummaries(i.rootSummaryID,this.gridAPI.get_summary_data())},e.decorators=[{type:b.Pipe,args:[{name:"igxGridSummaryDataPipe",pure:!0}]}],e.ctorParameters=function(){return[{type:_i}]},e}(),Zc=function(){function e(e){this.template=e}return e.decorators=[{type:b.Directive,args:[{selector:"[igxProcessBarText]"}]}],e.ctorParameters=function(){return[{type:b.TemplateRef}]},e}(),Jc={START:"start",CENTER:"center",END:"end"},Qc={DANGER:"danger",INFO:"info",WARNING:"warning",SUCCESS:"success"},ep=function(){function e(){this.requestAnimationId=undefined,this._valueInPercent=0,this._max=100,this._value=0,this._animate=!0}return Object.defineProperty(e.prototype,"valueInPercent",{get:function(){return this._valueInPercent},set:function(e){this._valueInPercent=e},enumerable:!0,configurable:!0}),e.prototype.runAnimation=function(e,t){var i=this;this.requestAnimationId=requestAnimationFrame(function(){return i.updateProgressSmoothly.call(i,e,t)})},e.prototype.updateProgressSmoothly=function(e,t){var i=this;this._value+=t;var n=sp(e,this._max),r=sp(this._value,this._max);this.valueInPercent===n?(this.updateProgress(e),cancelAnimationFrame(this.requestAnimationId)):this.isInLimitRange(r,n,t)?(this.updateProgress(e),cancelAnimationFrame(this.requestAnimationId)):(this.valueInPercent=r,this.requestAnimationId=requestAnimationFrame(function(){return i.updateProgressSmoothly.call(i,e,t)}))},e.prototype.updateProgressDirectly=function(e){this._value=e,this.valueInPercent=sp(this._value,this._max)},e.prototype.directionFlow=function(e,t,i){return e<t?i:-i},e.prototype.isInLimitRange=function(e,t,i){return this.isExceedingUpperLimit(e,t,i)||this.isExceedingLowerLimit(e,t,i)},e.prototype.isExceedingUpperLimit=function(e,t,i){return t<e&&0<i},e.prototype.isExceedingLowerLimit=function(e,t,i){return e<t&&i<0},e.prototype.updateProgress=function(e){this._value=e,this.valueInPercent=sp(this._value,this._max)},e}(),tp=0,ip=0,np=function(r){function e(){var e=r.call(this)||this;return e.valueMin=0,e.cssClass="igx-linear-bar",e.striped=!1,e.indeterminate=!1,e.role="progressbar",e.id="igx-linear-bar-"+tp++,e.textAlign=Jc.START,e.textVisibility=!0,e.textTop=!1,e.type="default",e.onProgressChanged=new b.EventEmitter,e}return f(e,r),Object.defineProperty(e.prototype,"animate",{get:function(){return this._animate},set:function(e){this._animate=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},set:function(e){this._max=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"step",{get:function(){return this._step?this._step:.01*this._max},set:function(e){this._step=Number(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){if(e=Number(e),this._value!==e&&!this.indeterminate){var t=op(e,this.max);if(!isNaN(t)){var i={currentValue:t,previousValue:this._value},n=r.prototype.directionFlow.call(this,this._value,e,this.step);this._animate&&e>=this.step?r.prototype.runAnimation.call(this,t,n):r.prototype.updateProgressDirectly.call(this,t),this.onProgressChanged.emit(i)}}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"danger",{get:function(){return this.type===Qc.DANGER},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"info",{get:function(){return this.type===Qc.INFO},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"warning",{get:function(){return this.type===Qc.WARNING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"success",{get:function(){return this.type===Qc.SUCCESS},enumerable:!0,configurable:!0}),e.decorators=[{type:b.Component,args:[{selector:"igx-linear-bar",template:"<div class=\"igx-linear-bar__base\">\n    <div class=\"igx-linear-bar__indicator\"\n    [style.width.%]=\"valueInPercent\"></div>\n</div>\n\n<span\n    class=\"igx-linear-bar__value\"\n    [ngClass]=\"{\n        'igx-linear-bar__value--start': textAlign === 'start',\n        'igx-linear-bar__value--center': textAlign === 'center',\n        'igx-linear-bar__value--end': textAlign === 'end',\n        'igx-linear-bar__value--top': textTop,\n        'igx-linear-bar__value--hidden': !textVisibility\n    }\">\n        {{text ? text : valueInPercent + '%'}}\n</span>\n"}]}],e.ctorParameters=function(){return[]},e.propDecorators={animate:[{type:b.Input}],max:[{type:b.HostBinding,args:["attr.aria-valuemax"]},{type:b.Input}],step:[{type:b.Input}],valueMin:[{type:b.HostBinding,args:["attr.aria-valuemin"]}],cssClass:[{type:b.HostBinding,args:["class.igx-linear-bar"]}],striped:[{type:b.HostBinding,args:["class.igx-linear-bar--striped"]},{type:b.Input}],indeterminate:[{type:b.HostBinding,args:["class.igx-linear-bar--indeterminate"]},{type:b.Input}],role:[{type:b.HostBinding,args:["attr.role"]},{type:b.Input}],id:[{type:b.HostBinding,args:["attr.id"]},{type:b.Input}],textAlign:[{type:b.Input}],textVisibility:[{type:b.Input}],textTop:[{type:b.Input}],text:[{type:b.Input}],type:[{type:b.Input}],value:[{type:b.HostBinding,args:["attr.aria-valuenow"]},{type:b.Input}],onProgressChanged:[{type:b.Output}],danger:[{type:b.HostBinding,args:["class.igx-linear-bar--danger"]}],info:[{type:b.HostBinding,args:["class.igx-linear-bar--info"]}],warning:[{type:b.HostBinding,args:["class.igx-linear-bar--warning"]}],success:[{type:b.HostBinding,args:["class.igx-linear-bar--success"]}]},e}(ep),rp=function(r){function e(e){var t=r.call(this)||this;return t.renderer=e,t.STROKE_OPACITY_DVIDER=100,t.STROKE_OPACITY_ADDITION=.2,t.cssClass="igx-circular-bar",t.onProgressChanged=new b.EventEmitter,t.id="igx-circular-bar-"+ip++,t.indeterminate=!1,t.textVisibility=!0,t._circleRadius=46,t._circumference=2*Math.PI*t._circleRadius,t}return f(e,r),Object.defineProperty(e.prototype,"context",{get:function(){return{$implicit:{value:this.value,valueInPercent:this.valueInPercent,max:this.max}}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animate",{get:function(){return this._animate},set:function(e){this._animate=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},set:function(e){this._max=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"step",{get:function(){return this._step?this._step:.01*this._max},set:function(e){this._step=Number(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){if(e=Number(e),this._value!==e&&!this.indeterminate){var t=op(e,this.max);if(!isNaN(t)){var i={currentValue:t,previousValue:this._value},n=r.prototype.directionFlow.call(this,this._value,e,this.step);this.animate&&e>=this.step?r.prototype.runAnimation.call(this,t,n):this.updateProgressDirectly(t),this.onProgressChanged.emit(i)}}},enumerable:!0,configurable:!0}),e.prototype.updateProgressSmoothly=function(e,t){var i=[{strokeDashoffset:this.getProgress(this._value),strokeOpacity:this._value/this.STROKE_OPACITY_DVIDER+this.STROKE_OPACITY_ADDITION},{strokeDashoffset:this.getProgress(this.valueInPercent),strokeOpacity:this.valueInPercent/this.STROKE_OPACITY_DVIDER+this.STROKE_OPACITY_ADDITION}];this._svgCircle.nativeElement.animate(i,{easing:"ease-out",fill:"forwards"}),r.prototype.updateProgressSmoothly.call(this,e,t)},Object.defineProperty(e.prototype,"textContent",{get:function(){return this.text},enumerable:!0,configurable:!0}),e.prototype.updateProgressDirectly=function(e){r.prototype.updateProgressDirectly.call(this,e),this.renderer.setStyle(this._svgCircle.nativeElement,"stroke-dashoffset",this.getProgress(this.valueInPercent)),this.renderer.setStyle(this._svgCircle.nativeElement,"stroke-opacity",this.valueInPercent/this.STROKE_OPACITY_DVIDER+this.STROKE_OPACITY_ADDITION)},e.prototype.getProgress=function(e){return this._circumference-e*this._circumference/100},e.decorators=[{type:b.Component,args:[{selector:"igx-circular-bar",template:'<svg #svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"\n    viewBox="0 0 100 100"\n    preserveAspectRatio="xMidYMid meet"\n    role="progressbar"\n    aria-valuemin="0"\n    [attr.aria-valuemax]="max"\n    [attr.aria-valuenow]="value">\n    <circle class="igx-circular-bar__inner" cx="50" cy="50" r="46" />\n    <circle #circle class="igx-circular-bar__outer" cx="50" cy="50" r="46" />\n    <text [class.igx-circular-bar__text--hidden]="!textVisibility" text-anchor="middle" x="50" y="60">\n        <ng-container *ngTemplateOutlet="textTemplate ? textTemplate.template : defaultTextTemplate; context: context">\n        </ng-container>\n    </text>\n\n    <ng-template #defaultTextTemplate>\n        <tspan class="igx-circular-bar__text"> {{textContent ? textContent: valueInPercent + \'%\'}}</tspan>\n    </ng-template>\n</svg>\n'}]}],e.ctorParameters=function(){return[{type:b.Renderer2}]},e.propDecorators={cssClass:[{type:b.HostBinding,args:["class.igx-circular-bar"]}],onProgressChanged:[{type:b.Output}],id:[{type:b.HostBinding,args:["attr.id"]},{type:b.Input}],indeterminate:[{type:b.HostBinding,args:["class.igx-circular-bar--indeterminate"]},{type:b.Input}],textVisibility:[{type:b.Input}],text:[{type:b.Input}],textTemplate:[{type:b.ContentChild,args:[Zc,{read:Zc}]}],animate:[{type:b.Input}],max:[{type:b.Input}],step:[{type:b.Input}],value:[{type:b.Input}],_svgCircle:[{type:b.ViewChild,args:["circle"]}]},e}(ep);function op(e,t,i){return void 0===i&&(i=0),Math.max(Math.min(e,t),i)}function sp(e,t){return Math.floor(100*e/t)}var ap=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[np,rp,Zc],exports:[np,rp,Zc],imports:[r.CommonModule]}]}],e}(),lp=function(){function e(){}return e.prototype.transform=function(e,t,r,o){if(!e)return"";var s=[];return Object.entries(e).forEach(function(e){var t=w(e,2),i=t[0],n=t[1];("function"==typeof n?n(r,o):n)&&s.push(i)}),s.join(" ")},e.decorators=[{type:b.Pipe,args:[{name:"igxCellStyles"}]}],e}(),cp=function(){function e(){}return e.prototype.transform=function(e){return e.filter(function(e){return!e.columnGroup})},e.decorators=[{type:b.Pipe,args:[{name:"igxNotGrouped"}]}],e}(),pp=function(){function e(){}return e.prototype.transform=function(e){return e.filter(function(e){return 0===e.level})},e.decorators=[{type:b.Pipe,args:[{name:"igxTopLevel"}]}],e}(),up=function(){function e(){}return e.prototype.transform=function(e){return e.split(/(?=[A-Z])/).join(" ")},e.decorators=[{type:b.Pipe,args:[{name:"filterCondition",pure:!0}]}],e}(),dp=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,i){var n=this.gridAPI.grid;return e&&n.transactions.enabled?Ti.mergeTransactions(ti(e),n.transactions.getAggregatedChanges(!0),n.primaryKey):e},e.decorators=[{type:b.Pipe,args:[{name:"gridTransaction",pure:!0}]}],e.ctorParameters=function(){return[{type:_i}]},e}(),hp=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[jl,Nl,up,dp,cp,pp,lp],exports:[jl,Nl,up,dp,cp,pp,lp],imports:[r.CommonModule]}]}],e}(),gp=function(){function e(){}return Object.defineProperty(e.prototype,"visibleColumns",{get:function(){return this.grid.visibleColumns.filter(function(e){return!(e instanceof Wl)})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canNotMoveLeft",{get:function(){return 0===this.column.visibleIndex||0===this.grid.unpinnedColumns.indexOf(this.column)&&this.column.disablePinning||0!==this.column.level&&!this.findColumn(0,this.visibleColumns)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canNotMoveRight",{get:function(){return this.column.visibleIndex===this.visibleColumns.length-1||0!==this.column.level&&!this.findColumn(1,this.visibleColumns)},enumerable:!0,configurable:!0}),e.prototype.onMoveButtonClicked=function(e){var t;this.column.pinned?this.column.isLastPinned&&1===e?(t=this.grid.unpinnedColumns[0],e=0):t=this.findColumn(e,this.grid.pinnedColumns):0===this.grid.unpinnedColumns.indexOf(this.column)&&0===e?(t=this.grid.pinnedColumns[this.grid.pinnedColumns.length-1],e=1):t=this.findColumn(e,this.grid.unpinnedColumns),this.grid.moveColumn(this.column,t,e)},e.prototype.findColumn=function(e,t){var i=t.indexOf(this.column);if(0===e){for(;0<i;)if(t[--i].level===this.column.level&&t[i].parent===this.column.parent)return t[i]}else for(;i<t.length-1;)if(t[++i].level===this.column.level&&t[i].parent===this.column.parent)return t[i]},e.decorators=[{type:b.Component,args:[{changeDetection:b.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-excel-style-column-moving",template:'<header>\n    {{ grid.resourceStrings.igx_grid_excel_filter_moving_header }}\n</header>\n<section class="igx-excel-filter__move-buttons">\n    <button [displayDensity]="displayDensity"\n        igxButton\n        [disabled]="canNotMoveLeft"\n        (click)="onMoveButtonClicked(0)">\n        <igx-icon>arrow_back</igx-icon>\n        <span>\n            {{ displayDensity===\'compact\'?\n            grid.resourceStrings.igx_grid_excel_filter_moving_left_short:\n            grid.resourceStrings.igx_grid_excel_filter_moving_left }}\n        </span>\n    </button>\n    <button [displayDensity]="displayDensity"\n        igxButton\n        [disabled]="canNotMoveRight"\n        (click)="onMoveButtonClicked(1)">\n        <span>\n            {{ displayDensity===\'compact\'?\n            grid.resourceStrings.igx_grid_excel_filter_moving_right_short:\n            grid.resourceStrings.igx_grid_excel_filter_moving_right }}\n        </span>\n        <igx-icon>arrow_forwards</igx-icon>\n    </button>\n</section>\n'}]}],e.ctorParameters=function(){return[]},e.propDecorators={column:[{type:b.Input}],grid:[{type:b.Input}],displayDensity:[{type:b.Input}]},e}(),fp=function(i){function e(e){var t=i.call(this,e)||this;return t._displayDensityOptions=e,t}return f(e,i),e.ctorParameters=function(){return[{type:undefined,decorators:[{type:b.Optional},{type:b.Inject,args:[tr]}]}]},e}(ir),mp={NONE:0,LEFT:1,RIGHT:2};mp[mp.NONE]="NONE",mp[mp.LEFT]="LEFT",mp[mp.RIGHT]="RIGHT";var yp=function(){function e(e){this.template=e}return e.decorators=[{type:b.Directive,args:[{selector:"[igxEmptyList]"}]}],e.ctorParameters=function(){return[{type:b.TemplateRef}]},e}(),vp=function(){function e(e){this.template=e}return e.decorators=[{type:b.Directive,args:[{selector:"[igxDataLoading]"}]}],e.ctorParameters=function(){return[{type:b.TemplateRef}]},e}(),xp=function(){function e(e){this.template=e}return e.decorators=[{type:b.Directive,args:[{selector:"[igxListItemLeftPanning]"}]}],e.ctorParameters=function(){return[{type:b.TemplateRef}]},e}(),bp=function(){function e(e){this.template=e}return e.decorators=[{type:b.Directive,args:[{selector:"[igxListItemRightPanning]"}]}],e.ctorParameters=function(){return[{type:b.TemplateRef}]},e}(),Cp=function(){function e(e,t){this._zone=e,this.doc=t,this.hammerOptions={inputClass:Hammer.TouchInput,recognizers:[[Hammer.Pan,{threshold:0}],[Hammer.Pinch,{enable:!0}],[Hammer.Rotate,{enable:!0}],[Hammer.Swipe,{direction:Hammer.DIRECTION_HORIZONTAL}]]},this._hammerManagers=[]}return e.prototype.supports=function(e){return e.toLowerCase().endsWith(".precise")},e.prototype.addEventListener=function(i,n,r,e){var o=this;return void 0===e&&(e=null),this._zone.runOutsideAngular(function(){var e=o.getManagerForElement(i);null===e&&(e=new Hammer(i,o.hammerOptions),o.addManagerForElement(i,e));var t=function(e){o._zone.run(function(){r(e)})};return e.on(n,t),function(){e.off(n,t)}})},e.prototype.addGlobalEventListener=function(e,t,i){var n=this.getGlobalEventTarget(e);return this.addEventListener(n,t,i)},e.prototype.getGlobalEventTarget=function(e){return t.getDOM().getGlobalEventTarget(this.doc,e)},e.prototype.setManagerOption=function(e,t,i){this.getManagerForElement(e).get(t).set(i)},e.prototype.addManagerForElement=function(e,t){this._hammerManagers.push({element:e,manager:t})},e.prototype.getManagerForElement=function(n){var e=this._hammerManagers.filter(function(e,t,i){return e.element===n});return e.length?e[0].manager:null},e.prototype.removeManagerForElement=function(e){for(var t=null,i=0;i<this._hammerManagers.length;i++)if(e===this._hammerManagers[i].element){t=i;break}null!==t&&this._hammerManagers.splice(t,1)[0].manager.destroy()},e.prototype.destroy=function(){var e,t;try{for(var i=S(this._hammerManagers),n=i.next();!n.done;n=i.next()){n.value.manager.destroy()}}catch(r){e={error:r}}finally{try{n&&!n.done&&(t=i["return"])&&t.call(i)}finally{if(e)throw e.error}}this._hammerManagers=[]},e.decorators=[{type:b.Injectable}],e.ctorParameters=function(){return[{type:b.NgZone},{type:undefined,decorators:[{type:b.Inject,args:[r.DOCUMENT]}]}]},e}(),wp=function(){function e(e,t,i){this.list=e,this.elementRef=t,this._renderer=i,this._panState=mp.NONE,this.panOffset=0,this._index=null,this.lastPanDir=mp.NONE,this.hidden=!1,this.touchAction="pan-y"}return Object.defineProperty(e.prototype,"role",{get:function(){return this.isHeader?"separator":"listitem"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerStyle",{get:function(){return this.isHeader},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerStyle",{get:function(){return!this.isHeader},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"display",{get:function(){return this.hidden?"none":""},enumerable:!0,configurable:!0}),e.prototype.clicked=function(e){this.list.onItemClicked.emit({item:this,event:e,direction:this.lastPanDir}),this.lastPanDir=mp.NONE},e.prototype.panStart=function(e){this.isTrue(this.isHeader)||this.isTrue(this.list.allowLeftPanning)||this.isTrue(this.list.allowRightPanning)},e.prototype.panMove=function(e){if(!this.isTrue(this.isHeader)&&(this.isTrue(this.list.allowLeftPanning)||this.isTrue(this.list.allowRightPanning))){var t=e.deltaX<0;t&&this.isTrue(this.list.allowLeftPanning)?(this.showLeftPanTemplate(),this.setContentElementLeft(Math.max(this.maxLeft,e.deltaX))):!t&&this.isTrue(this.list.allowRightPanning)&&(this.showRightPanTemplate(),this.setContentElementLeft(Math.min(this.maxRight,e.deltaX)))}},e.prototype.panEnd=function(e){if(!this.isTrue(this.isHeader)&&(this.isTrue(this.list.allowLeftPanning)||this.isTrue(this.list.allowRightPanning))){var t=this.panOffset,i=this.width*this.list.panEndTriggeringThreshold;if(0!==t){var n=0<t?mp.RIGHT:mp.LEFT;this.lastPanDir=n;var r=this._panState;if(Math.abs(t)<i)return this.setContentElementLeft(0),this._panState=mp.NONE,void this.hideLeftAndRightPanTemplates();var o={item:this,direction:n,keepItem:!1};if(n===mp.LEFT?this.list.onLeftPan.emit(o):this.list.onRightPan.emit(o),!0===o.keepItem?(this.setContentElementLeft(0),this._panState=mp.NONE):n===mp.LEFT?(this.setContentElementLeft(this.maxLeft),this._panState=mp.LEFT):(this.setContentElementLeft(this.maxRight),this._panState=mp.RIGHT),r!==this._panState){var s={oldState:r,newState:this._panState,item:this};this.list.onPanStateChange.emit(s)}this.hideLeftAndRightPanTemplates()}}},e.prototype.showLeftPanTemplate=function(){this.setLeftAndRightTemplatesVisibility("visible","hidden")},e.prototype.showRightPanTemplate=function(){this.setLeftAndRightTemplatesVisibility("hidden","visible")},e.prototype.hideLeftAndRightPanTemplates=function(){var e=this;setTimeout(function(){e.setLeftAndRightTemplatesVisibility("hidden","hidden")},500)},e.prototype.setLeftAndRightTemplatesVisibility=function(e,t){this.leftPanningTemplateElement&&this.leftPanningTemplateElement.nativeElement&&(this.leftPanningTemplateElement.nativeElement.style.visibility=e),this.rightPanningTemplateElement&&this.rightPanningTemplateElement.nativeElement&&(this.rightPanningTemplateElement.nativeElement.style.visibility=t)},Object.defineProperty(e.prototype,"panState",{get:function(){return this._panState},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return null!==this._index?this._index:this.list.children.toArray().indexOf(this)},set:function(e){this._index=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentElement",{get:function(){var e=this.element.getElementsByClassName("igx-list__item-content");return e&&0<e.length?e[0]:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return{$implicit:this}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){if(this.element)return this.element.offsetWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxLeft",{get:function(){return-this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxRight",{get:function(){return this.width},enumerable:!0,configurable:!0}),e.prototype.setContentElementLeft=function(e){this.panOffset=e,this.contentElement.style.transform="translateX("+e+"px)"},e.prototype.isTrue=function(e){return"boolean"==typeof e?e:"true"===e},e.decorators=[{type:b.Component,args:[{providers:[Cp],selector:"igx-list-item",template:'   \n<div *ngIf="!isHeader && list.listItemLeftPanningTemplate != null" #leftPanningTmpl class="igx-list__item-right"\n    [style.width.px]="this.element.offsetWidth" [style.height.px]="this.element.offsetHeight">\n    <ng-container *ngTemplateOutlet="list.listItemLeftPanningTemplate.template; context: context">\n    </ng-container>\n</div>\n\n<div *ngIf="!isHeader && list.listItemRightPanningTemplate != null" #rightPanningTmpl class="igx-list__item-left"\n    [style.width.px]="this.element.offsetWidth" [style.height.px]="this.element.offsetHeight">\n    <ng-container *ngTemplateOutlet="list.listItemRightPanningTemplate.template; context: context">\n    </ng-container>\n</div>\n\n<ng-template #itemsContent>\n    <ng-content></ng-content>\n</ng-template>\n\n<ng-template #itemThumbnails>\n    <div class="igx-list__item-thumbnail">\n        <ng-content select="[igxListThumbnail], igx-list__item-thumbnail, igx-avatar"></ng-content>\n    </div>\n</ng-template>\n\n<ng-template #itemLines>\n    <div class="igx-list__item-lines">\n        <ng-content select="[igxListLine], .igx-list__item-lines, [igxListLineTitle], [igxListLineSubTitle], .igx-list__item-line-title, .igx-list__item-line-subtitle"></ng-content>\n    </div>\n</ng-template>\n\n<ng-template #itemActions>\n    <div class="igx-list__item-actions">\n        <ng-content select="[igxListAction], .igx-list__item-actions"></ng-content>\n    </div>\n</ng-template>\n\n    \n<ng-container *ngIf="isHeader">\n    <ng-container *ngTemplateOutlet="itemsContent"></ng-container>\n</ng-container>\n\n<ng-container *ngIf="!isHeader">\n    <div class="igx-list__item-content">\n        <ng-container *ngTemplateOutlet="itemThumbnails"></ng-container>\n        <ng-container *ngTemplateOutlet="itemLines"></ng-container>\n        <ng-container *ngTemplateOutlet="itemActions"></ng-container>\n        <ng-container *ngTemplateOutlet="itemsContent"></ng-container>\n    </div>\n</ng-container>\n',changeDetection:b.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:fp},{type:b.ElementRef},{type:b.Renderer2}]},e.propDecorators={leftPanningTemplateElement:[{type:b.ViewChild,args:["leftPanningTmpl"]}],rightPanningTemplateElement:[{type:b.ViewChild,args:["rightPanningTmpl"]}],isHeader:[{type:b.Input}],hidden:[{type:b.Input}],role:[{type:b.HostBinding,args:["attr.role"]}],ariaLabel:[{type:b.HostBinding,args:["attr.aria-label"]}],touchAction:[{type:b.HostBinding,args:["style.touch-action"]}],headerStyle:[{type:b.HostBinding,args:["class.igx-list__header"]}],innerStyle:[{type:b.HostBinding,args:["class.igx-list__item-base"]}],display:[{type:b.HostBinding,args:["style.display"]}],clicked:[{type:b.HostListener,args:["click",["$event"]]}],panStart:[{type:b.HostListener,args:["panstart",["$event"]]}],panMove:[{type:b.HostListener,args:["panmove",["$event"]]}],panEnd:[{type:b.HostListener,args:["panend",["$event"]]}],index:[{type:b.Input}]},e}(),_p=0,Sp=function(){function e(){}return e.decorators=[{type:b.Directive,args:[{selector:"[igxListThumbnail]"}]}],e}(),Ip=function(){function e(){}return e.decorators=[{type:b.Directive,args:[{selector:"[igxListAction]"}]}],e}(),Dp=function(){function e(){}return e.decorators=[{type:b.Directive,args:[{selector:"[igxListLine]"}]}],e}(),Ep=function(){function e(){this.cssClass="igx-list__item-line-title"}return e.decorators=[{type:b.Directive,args:[{selector:"[igxListLineTitle]"}]}],e.propDecorators={cssClass:[{type:b.HostBinding,args:["class.igx-list__item-line-title"]}]},e}(),Op=function(){function e(){this.cssClass="igx-list__item-line-subtitle"}return e.decorators=[{type:b.Directive,args:[{selector:"[igxListLineSubTitle]"}]}],e.propDecorators={cssClass:[{type:b.HostBinding,args:["class.igx-list__item-line-subtitle"]}]},e}(),Pp=function(n){function e(e,t){var i=n.call(this,t)||this;return i.element=e,i._displayDensityOptions=t,i.panEndTriggeringThreshold=.5,i.id="igx-list-"+_p++,i.allowLeftPanning=!1,i.allowRightPanning=!1,i.isLoading=!1,i.onLeftPan=new b.EventEmitter,i.onRightPan=new b.EventEmitter,i.onPanStateChange=new b.EventEmitter,i.onItemClicked=new b.EventEmitter,i}return f(e,n),Object.defineProperty(e.prototype,"sortedChildren",{get:function(){return this.children!==undefined?this.children.toArray().sort(function(e,t){return e.index-t.index}):null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"role",{get:function(){return"list"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isListEmpty",{get:function(){return!this.children||0===this.children.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cssClass",{get:function(){return!this.isListEmpty&&this.displayDensity===er.comfortable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cssClassCompact",{get:function(){return!this.isListEmpty&&this.displayDensity===er.compact},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cssClassCosy",{get:function(){return!this.isListEmpty&&this.displayDensity===er.cosy},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e,t,i=[];if(this.children!==undefined)try{for(var n=S(this.sortedChildren),r=n.next();!r.done;r=n.next()){var o=r.value;o.isHeader||i.push(o)}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n["return"])&&t.call(n)}finally{if(e)throw e.error}}return i},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headers",{get:function(){var e,t,i=[];if(this.children!==undefined)try{for(var n=S(this.children.toArray()),r=n.next();!r.done;r=n.next()){var o=r.value;o.isHeader&&i.push(o)}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n["return"])&&t.call(n)}finally{if(e)throw e.error}}return i},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return{$implicit:this}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"template",{get:function(){return this.isLoading?this.dataLoadingTemplate?this.dataLoadingTemplate.template:this.defaultDataLoadingTemplate:this.emptyListTemplate?this.emptyListTemplate.template:this.defaultEmptyListTemplate},enumerable:!0,configurable:!0}),e.decorators=[{type:b.Component,args:[{selector:"igx-list",template:'<ng-content></ng-content>\n\n<ng-template #defaultEmptyList>\n    <article class="message">\n        There are no items in the list.\n    </article>\n</ng-template>\n\n<ng-template #defaultDataLoading>\n    <article class="message">\n        Loading data from the server...\n    </article>\n</ng-template>\n\n<ng-container *ngIf="!children || children.length === 0 || isLoading">\n    <ng-container *ngTemplateOutlet="template; context: context">\n    </ng-container>\n</ng-container>\n',providers:[{provide:fp,useExisting:e}]}]}],e.ctorParameters=function(){return[{type:b.ElementRef},{type:undefined,decorators:[{type:b.Optional},{type:b.Inject,args:[tr]}]}]},e.propDecorators={children:[{type:b.ContentChildren,args:[b.forwardRef(function(){return wp})]}],emptyListTemplate:[{type:b.ContentChild,args:[yp,{read:yp}]}],dataLoadingTemplate:[{type:b.ContentChild,args:[vp,{read:vp}]}],listItemLeftPanningTemplate:[{type:b.ContentChild,args:[xp,{read:xp}]}],listItemRightPanningTemplate:[{type:b.ContentChild,args:[bp,{read:bp}]}],panEndTriggeringThreshold:[{type:b.Input}],defaultEmptyListTemplate:[{type:b.ViewChild,args:["defaultEmptyList",{read:b.TemplateRef}]}],defaultDataLoadingTemplate:[{type:b.ViewChild,args:["defaultDataLoading",{read:b.TemplateRef}]}],id:[{type:b.HostBinding,args:["attr.id"]},{type:b.Input}],allowLeftPanning:[{type:b.Input}],allowRightPanning:[{type:b.Input}],isLoading:[{type:b.Input}],onLeftPan:[{type:b.Output}],onRightPan:[{type:b.Output}],onPanStateChange:[{type:b.Output}],onItemClicked:[{type:b.Output}],role:[{type:b.HostBinding,args:["attr.role"]}],isListEmpty:[{type:b.HostBinding,args:["class.igx-list-empty"]}],cssClass:[{type:b.HostBinding,args:["class.igx-list"]}],cssClassCompact:[{type:b.HostBinding,args:["class.igx-list--compact"]}],cssClassCosy:[{type:b.HostBinding,args:["class.igx-list--cosy"]}]},e}(fp),Tp=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[Pp,wp,Sp,Ip,Dp,Ep,Op,vp,yp,xp,bp],exports:[Pp,wp,Sp,Ip,Dp,Ep,Op,vp,yp,xp,bp],imports:[r.CommonModule,yo]}]}],e}(),Rp=function(){function e(){}return e.prototype.transform=function(e,i){if(!e||!e.length)return[];if(!i)return e;i=i.toLowerCase();var t=e.filter(function(e,t){return 0===t&&e.isSpecial||(e.value||0===e.value)&&-1<e.value.toString().toLowerCase().indexOf(i)});return 1<t.length?t:[]},e.decorators=[{type:b.Pipe,args:[{name:"excelStyleSearchFilter"}]}],e}(),kp=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[Oc,wc,gp,vc,Cc,xc,bc,Sc,Dc,Ic,Ec,Rp],exports:[Oc,Sc,Dc,Ic,Ec,bc],imports:[r.CommonModule,o.FormsModule,hp,Vr,fs,ul,Go,yo,Lr,yr,gr,wa,Xr,Nn,Tp],entryComponents:[Oc],providers:[$n]}]}],e}(),Lp=function(s){function e(){var t=null!==s&&s.apply(this,arguments)||this;return t._rowDragStarted=!1,t.transitionEndEvent=function(e){t.dragGhost&&t.dragGhost.removeEventListener("transitionend",t.transitionEndEvent,!1),t.endDragging()},t}return f(e,s),Object.defineProperty(e.prototype,"data",{get:function(){return this.row},set:function(e){this.row=e},enumerable:!0,configurable:!0}),e.prototype.onPointerDown=function(e){e.preventDefault(),this._rowDragStarted=!1,s.prototype.onPointerDown.call(this,e)},e.prototype.onPointerMove=function(t){var i=this;if(s.prototype.onPointerMove.call(this,t),this._dragStarted&&!this._rowDragStarted){this._rowDragStarted=!0;var e={owner:this,dragData:this.row,cancel:!1};if(this.row.grid.onRowDragStart.emit(e),e.cancel)return this.dragGhost.parentNode.removeChild(this.dragGhost),this.dragGhost=null,this._dragStarted=!1,void(this._clicked=!1);this.row.dragging=!0,this.row.grid.rowDragging=!0,this.row.grid.markForCheck(),this.subscription$=x.fromEvent(this.row.grid.document.defaultView,"keydown").subscribe(function(e){"Escape"!==e.key&&"Esc"!==e.key||(i._lastDropArea=!1,i.onPointerUp(t))})}},e.prototype.onPointerUp=function(e){var t=this;if(this._clicked){var i={owner:this,dragData:this.row,animation:!1};this.zone.run(function(){t.row.grid.onRowDragEnd.emit(i)}),i.animation&&(this.animateOnRelease=!0);var n=this._lastDropArea;s.prototype.onPointerUp.call(this,e),!n&&this.animateOnRelease?this.dragGhost.addEventListener("transitionend",this.transitionEndEvent,!1):this.endDragging()}},e.prototype.createDragGhost=function(e){this.row.grid.endEdit(!0),this.row.grid.markForCheck(),s.prototype.createDragGhost.call(this,e,this.row.nativeElement);var t=this.dragGhost,i=this.row.grid.nativeElement.getBoundingClientRect(),n=this.row.nativeElement.getBoundingClientRect();t.style.overflow="hidden",t.style.width=i.width+"px",t.style.height=n.height+"px",this.renderer.addClass(t,"igx-grid__tr--ghost"),this.renderer.removeClass(t,"igx-grid__tr--selected");for(var r=t.getElementsByClassName("igx-grid__td"),o=0;o<r.length;o++)this.renderer.removeClass(r[o],"igx-grid__td--selected"),this.renderer.removeClass(r[o],"igx-grid__td--active")},e.prototype._unsubscribe=function(){this.subscription$&&!this.subscription$.closed&&this.subscription$.unsubscribe()},e.prototype.endDragging=function(){this.onTransitionEnd(null),this.row.dragging=!1,this.row.grid.rowDragging=!1,this.row.grid.markForCheck(),this._unsubscribe()},e.decorators=[{type:b.Directive,args:[{selector:"[igxRowDrag]"}]}],e.propDecorators={data:[{type:b.Input,args:["igxRowDrag"]}]},e}(zr),Ap=function(){function e(){}return e.decorators=[{type:b.Directive,args:[{selector:"[igxDragIndicatorIcon]"}]}],e}(),Fp=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[Lp,Ap],entryComponents:[],exports:[Lp,Ap],imports:[]}]}],e}(),Mp=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[Cl,zl,Wl,Ul,Pc,nc,rc,Ll,kl,Al,Rl,cc,uc,pc,dc,Pl,Ol,Vl,Hl,Bl,Tc,zc,qc,wl,Rc,Mc,Fc,Hc,Gc,Tl],entryComponents:[zl,Wl,Ul],exports:[Cl,zl,Wl,Ul,Pc,nc,rc,Ll,kl,Al,Rl,cc,uc,pc,dc,Pl,Vl,Hl,Bl,wl,qc,Vr,ul,Go,yo,Lr,Nn,gr,Nc,Zr,_o,Io,wa,qo,Da,Ur,Ql,yr,fs,ic,ap,Tc,zc,Rc,Mc,Fc,Hc,Gc,Xr,hp,kp,Tl,Fp],imports:[r.CommonModule,o.FormsModule,Vr,ul,Go,yo,Lr,Nn,gr,Nc,Zr,_o,Io,wa,qo,Da,Ur,Ql,yr,fs,ic,ap,Xr,hp,kp,Fp],providers:[bl,$n,Fl,lc,El,Ac,{provide:Wc,useClass:Fn}]}]}],e}(),Vp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.groupBy=function(e){var t=ti(this.grid.groupingExpressions),i=ti(this.grid.sortingExpressions);this.prepare_sorting_expression([i,t],e),this.grid.groupingExpressions=t,this.arrange_sorting_expressions()},t.prototype.groupBy_multiple=function(e){var t,i,n=ti(this.grid.groupingExpressions),r=ti(this.grid.sortingExpressions);try{for(var o=S(e),s=o.next();!s.done;s=o.next()){var a=s.value;this.prepare_sorting_expression([r,n],a)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(i=o["return"])&&i.call(o)}finally{if(t)throw t.error}}this.grid.groupingExpressions=n,this.arrange_sorting_expressions()},t.prototype.clear_groupby=function(e){var t,i,n=this,r=ti(this.grid.groupingExpressions),o=ti(this.grid.sortingExpressions);if(e){var s="string"==typeof e?[e]:e,a=r.filter(function(e){return s.indexOf(e.fieldName)<0}),l=o.filter(function(e){return s.indexOf(e.fieldName)<0});this.grid.groupingExpressions=a,this.grid.sortingExpressions=l,s.forEach(function(t){var i=r.findIndex(function(e){return e.fieldName===t}),e=n.grid.groupingExpansionState;n.grid.groupingExpansionState=e.filter(function(e){return e.hierarchy&&e.hierarchy.length<=i})})}else{this.grid.groupingExpressions=[],this.grid.groupingExpansionState=[];var c=function(t){var e=o.findIndex(function(e){return e.fieldName===t.fieldName});-1<e&&o.splice(e,1)};try{for(var p=S(r),u=p.next();!u.done;u=p.next()){c(u.value)}}catch(d){t={error:d}}finally{try{u&&!u.done&&(i=p["return"])&&i.call(p)}finally{if(t)throw t.error}}this.grid.sortingExpressions=o}},t.prototype.groupBy_get_expanded_for_group=function(t){var e=this.grid.groupingExpansionState,i=Ti.getHierarchy(t);return e.find(function(e){return Ti.isHierarchyMatch(e.hierarchy||[{fieldName:t.expression.fieldName,value:t.value}],i)})},t.prototype.groupBy_is_row_in_group=function(e,t){var i=this.grid,n=!1;return e.records.forEach(function(e){(i.primaryKey?e[i.primaryKey]===t:e===t)&&(n=!0)}),n},t.prototype.groupBy_toggle_group=function(e){var t=this.grid,i=t.groupingExpansionState,n=!1;if(t.rowEditable){var r=this.grid.crudService.row;n=!!r&&this.groupBy_is_row_in_group(e,r.id)}var o=this.groupBy_get_expanded_for_group(e);o?(o.expanded=!o.expanded,n&&o.expanded):i.push({expanded:!t.groupsExpanded,hierarchy:Ti.getHierarchy(e)}),this.grid.groupingExpansionState=i,t.rowEditable&&t.repositionRowEditingOverlay(t.rowInEditMode)},t.prototype.remove_grouping_expression=function(t){var e=this.grid.groupingExpressions,i=e.findIndex(function(e){return e.fieldName===t});-1!==i&&e.splice(i,1)},t.prototype.arrange_sorting_expressions=function(){var r=this.grid.groupingExpressions;this.grid.sortingExpressions.sort(function(t,i){var e=r.find(function(e){return e.fieldName===t.fieldName}),n=r.find(function(e){return e.fieldName===i.fieldName});return e&&n?r.indexOf(e)>r.indexOf(n)?1:-1:e?-1:n?1:0})},t.prototype.get_groupBy_record_id=function(e){for(var t="{ ",i=Ti.getHierarchy(e),n=0;n<i.length;n++){var r=i[n];t+="'"+r.fieldName+"': '"+r.value+"'",n<i.length-1&&(t+=", ")}return t+=" }"},t}(_i),Hp=function(){function e(e){this.template=e}return e.decorators=[{type:b.Directive,args:[{selector:"[igxGroupByRow]"}]}],e.ctorParameters=function(){return[{type:b.TemplateRef}]},e}(),Bp=function(r){function e(e,t,i){var n=r.call(this,e,t,i)||this;return n.elementRef=e,n.renderer=t,n.zone=i,n.hovered=!1,n}return f(e,r),e.prototype.onDragEnter=function(e){var t=e.detail.owner,i=t.column;if(this.columnBelongsToGrid(i)){var n=-1!==i.grid.groupingExpressions.findIndex(function(e){return e.fieldName===i.field});!i.groupable||n||i.columnGroup?(t.icon.innerText="block",this.hovered=!1):(t.icon.innerText="group_work",this.hovered=!0)}},e.prototype.onDragLeave=function(e){var t=e.detail.owner.column;this.columnBelongsToGrid(t)&&(e.detail.owner.icon.innerText="block",this.hovered=!1)},e.prototype.onDragDrop=function(e){var t=e.detail.owner;if(t instanceof Vl){var i=t.column;if(!this.columnBelongsToGrid(i))return;var n=i.grid,r=-1!==n.groupingExpressions.findIndex(function(e){return e.fieldName===i.field});!i.groupable||r||i.columnGroup||n.groupBy({fieldName:i.field,dir:fi.Asc,ignoreCase:i.sortingIgnoreCase,strategy:i.sortStrategy,groupingComparer:i.groupingComparer})}},e.prototype.closestParentByAttr=function(e,t){return e.hasAttribute(t)?e:this.closestParentByAttr(e.parentElement,t)},e.prototype.columnBelongsToGrid=function(e){var t=this.elementRef.nativeElement,i=this.closestParentByAttr(t,"igxGroupAreaDrop").getAttribute("gridId");if(e){var n=e.grid;return!(!n||n.id!==i)}return!1},e.decorators=[{type:b.Directive,args:[{selector:"[igxGroupAreaDrop]"}]}],e.ctorParameters=function(){return[{type:b.ElementRef},{type:b.Renderer2},{type:b.NgZone}]},e.propDecorators={hovered:[{type:b.HostBinding,args:["class.igx-drop-area--hover"]}]},e}(Wr),jp="horizontal",Np="vertical",Gp=function(c){function e(){return null!==c&&c.apply(this,arguments)||this}return f(e,c),e.prototype.setStartNavigationCell=function(e,t,i){this.startNavigationCell={colStart:e,rowStart:t,direction:i}},e.prototype.applyNavigationCell=function(e,t,i){var n=i===Np?jp:Np;return this.startNavigationCell&&this.startNavigationCell.direction!==i?this.startNavigationCell.direction=n:this.setStartNavigationCell(e,t,n),i===Np?this.startNavigationCell.colStart:this.startNavigationCell.rowStart},e.prototype.navigateUp=function(e,t){this.focusCellUpFromLayout(e,t)},e.prototype.navigateDown=function(e,t){this.focusCellDownFromLayout(e,t)},e.prototype.isColumnFullyVisible=function(t){var e=this.grid.columnList.filter(function(e){return!e.columnGroup}).find(function(e){return e.visibleIndex===t});if(!this.grid.headerContainer.getHorizontalScroll().clientWidth||e&&e.pinned)return!0;if(e){if(this.isParentColumnFullyVisible(e))return!0;var i=this.getChildColumnScrollPositions(t);return this.displayContainerWidth>=i.rightScroll-this.displayContainerScrollLeft&&this.displayContainerScrollLeft<=i.leftScroll}return!1},e.prototype.isParentColumnFullyVisible=function(e){var t=0<this.grid.dataRowList.length?this.grid.dataRowList.first.virtDirRow:this.grid.headerContainer;if(!t.getHorizontalScroll().clientWidth||e.pinned)return!0;var i=t.igxForOf.indexOf(e);return this.displayContainerWidth>=t.getColumnScrollLeft(i+1)-this.displayContainerScrollLeft&&this.displayContainerScrollLeft<=t.getColumnScrollLeft(i)},e.prototype.isColumnLeftFullyVisible=function(t){var e=this.grid.headerContainer.getHorizontalScroll(),i=this.grid.columnList.filter(function(e){return!e.columnGroup}).find(function(e){return e.visibleIndex===t});if(!e.clientWidth||i.pinned)return!0;if(this.isParentColumnFullyVisible(i))return!0;var n=this.getChildColumnScrollPositions(t);return this.displayContainerScrollLeft<=n.leftScroll},e.prototype.onKeydownArrowRight=function(e,t){this.focusNextCellFromLayout(e,t)},e.prototype.onKeydownArrowLeft=function(e,t){this.focusPrevCellFromLayout(e,t)},Object.defineProperty(e.prototype,"gridOrderedColumns",{get:function(){return _(this.grid.pinnedColumns,this.grid.unpinnedColumns).filter(function(e){return!e.columnGroup}).sort(function(e,t){return e.visibleIndex-t.visibleIndex})},enumerable:!0,configurable:!0}),e.prototype.performTab=function(e,t){var i=t.layout?t.layout.columnVisibleIndex:0,n=this.grid.columns.find(function(e){return!e.columnGroup&&e.visibleIndex===i+1}),r=t.row,o=this.grid.getRowByIndex(r);this._moveFocusToCell(e,n,o,t,"next"),n&&this.setStartNavigationCell(n.colStart,n.rowStart,null)},e.prototype._moveFocusToCell=function(e,t,i,n,r){var o=this;if(t&&i.cells){var s=i.cells.find(function(e){return e.column===t}),a=this.isColumnFullyVisible(t.visibleIndex);if(s&&a){if(this.grid.rowEditable&&this.isRowInEditMode(i.index))return void("next"===r?this.moveNextEditable(i.index,n.layout.columnVisibleIndex):this.movePreviousEditable(i.index,n.layout.columnVisibleIndex));this._focusCell(s.nativeElement)}else{this.grid.nativeElement.focus({preventScroll:!0});this.performHorizontalScrollToCell(i.index,t.visibleIndex,!1,function(){s=i.cells.find(function(e){return e.column===t}),o.grid.rowEditable&&o.isRowInEditMode(i.index)?"next"===r?o.moveNextEditable(i.index,n.layout.columnVisibleIndex):o.movePreviousEditable(i.index,n.layout.columnVisibleIndex):o._focusCell(s.nativeElement)})}}else{if(this.isRowInEditMode(i.index))return void("next"===r?this.grid.rowEditTabs.first.element.nativeElement.focus():this.grid.rowEditTabs.last.element.nativeElement.focus());if("next"===r)c.prototype.navigateDown.call(this,e,{row:i.index,column:0});else{var l=0;this.grid.unpinnedColumns.forEach(function(e){l=Math.max(l,e.visibleIndex)}),c.prototype.navigateUp.call(this,e,{row:i.index,column:l})}}},e.prototype.performShiftTabKey=function(e,t){var i=t.layout?t.layout.columnVisibleIndex:0,n=t.row,r=this.grid.getRowByIndex(n),o=this.grid.columns.find(function(e){return!e.columnGroup&&e.visibleIndex===i-1&&!e.hidden});this._moveFocusToCell(e,o,r,t,"prev"),o&&this.setStartNavigationCell(o.colStart,o.rowStart,null)},e.prototype.focusCellUpFromLayout=function(e,t){var i,n=this,r="igx-grid-groupby-row"===e.tagName.toLowerCase(),o=t.layout?t.layout.rowStart:1,s=this.applyNavigationCell(t.layout?t.layout.colStart:1,o,Np),a=t.column,l=this.grid.columns.find(function(e){return e.columnLayout&&e.visibleIndex===a}),c=l.children.find(function(e){return(e.rowEnd===o||e.rowStart+e.gridRowSpan===o)&&e.colStart<=s&&(s<e.colEnd||s<e.colStart+e.gridColumnSpan)});if(r||!c){var p=this.grid.multiRowLayoutRowSize+1;c=l.children.find(function(e){return(e.rowEnd===p||e.rowStart+e.gridRowSpan===p)&&e.colStart<=s&&(s<e.colEnd||s<e.colStart+e.gridColumnSpan)}),i=!0}var u=i?t.row-1:t.row;if(!(u<0)){var d,h=function(){(d=n.grid.getRowByIndex(u))&&d.cells?n._focusCell(c.cells.find(function(e){return e.rowIndex===d.index}).nativeElement):d&&d.nativeElement.focus({preventScroll:!0})};this.shouldPerformVerticalScroll(u,c.visibleIndex)?(this.grid.nativeElement.focus({preventScroll:!0}),this.performVerticalScrollToCell(u,c.visibleIndex,h)):h()}},e.prototype.focusCellDownFromLayout=function(e,t){var i,n=this,r="igx-grid-groupby-row"===e.tagName.toLowerCase(),o=t.column,s=this.grid.columns.find(function(e){return e.columnLayout&&e.visibleIndex===o}),a=t.layout?t.layout.rowEnd||t.layout.rowStart+1:2,l=this.applyNavigationCell(t.layout?t.layout.colStart:1,t.layout?t.layout.rowStart:1,Np),c=s.children.find(function(e){return e.rowStart===a&&e.colStart<=l&&(l<e.colEnd||l<e.colStart+e.gridColumnSpan)});!r&&c||(c=s.children.find(function(e){return 1===e.rowStart&&e.colStart<=l&&(l<e.colEnd||l<e.colStart+e.gridColumnSpan)}),i=!0);var p=i?t.row+1:t.row;if(!(p>this.grid.verticalScrollContainer.igxForOf.length-1)){var u,d=function(){(u=n.grid.getRowByIndex(p))&&u.cells?n._focusCell(c.cells.find(function(e){return e.rowIndex===u.index}).nativeElement):u&&u.nativeElement.focus({preventScroll:!0})};this.shouldPerformVerticalScroll(p,c.visibleIndex)?(this.grid.nativeElement.focus({preventScroll:!0}),this.performVerticalScrollToCell(p,c.visibleIndex,d)):d()}},e.prototype.focusNextCellFromLayout=function(e,t){var i=this,n=t.column,r=this.grid.columns.find(function(e){return e.columnLayout&&e.visibleIndex===n}),o=t.layout.colEnd||t.layout.colStart+1,s=this.applyNavigationCell(t.layout.colStart,t.layout.rowStart,jp),a=t.row,l=r.children.find(function(e){return e.colStart===o&&e.rowStart<=s&&(s<e.rowEnd||s<e.rowStart+e.gridRowSpan)});if(!l){if(!(r=this.grid.columns.find(function(e){return e.columnLayout&&!e.hidden&&e.visibleIndex===r.visibleIndex+1})))return null;l=r.children.find(function(e){return 1===e.colStart&&e.rowStart<=s&&(s<e.rowEnd||s<e.rowStart+e.gridRowSpan)})}var c=function(){var e=l.cells.find(function(e){return e.rowIndex===a}).nativeElement;i._focusCell(e)};this.isColumnFullyVisible(l.visibleIndex)?c():(this.grid.nativeElement.focus({preventScroll:!0}),this.performHorizontalScrollToCell(a,l.visibleIndex,!1,c))},e.prototype.focusPrevCellFromLayout=function(e,t){var i=this,n=t.column,r=this.grid.columns.find(function(e){return e.columnLayout&&e.visibleIndex===n}),o=t.layout.colStart,s=this.applyNavigationCell(o,t.layout.rowStart,jp),a=t.row,l=r.children.find(function(e){return(e.colEnd===o||e.colStart+e.gridColumnSpan===o)&&e.rowStart<=s&&(s<e.rowEnd||s<e.rowStart+e.gridRowSpan)});if(!l){if(!(r=this.grid.columns.find(function(e){return e.columnLayout&&!e.hidden&&e.visibleIndex===r.visibleIndex-1})))return null;var c=r.getInitialChildColumnSizes(r.children).length;l=r.children.find(function(e){return(e.colEnd===c+1||e.colStart+e.gridColumnSpan===c+1)&&e.rowStart<=s&&(s<e.rowEnd||s<e.rowStart+e.gridRowSpan)})}var p=function(){var e=l.cells.find(function(e){return e.rowIndex===a}).nativeElement;i._focusCell(e)};this.isColumnLeftFullyVisible(l.visibleIndex)?p():(this.grid.nativeElement.focus({preventScroll:!0}),this.performHorizontalScrollToCell(a,l.visibleIndex,!1,p))},e.prototype.onKeydownEnd=function(t,e,i){var n=this;void 0===e&&(e=!1);var r=this.grid.columns.filter(function(e){return e.columnLayout&&!e.hidden}).sort(function(e,t){return e.visibleIndex-t.visibleIndex}),o=r[r.length-1],s=o.children,a=o.getInitialChildColumnSizes(s).length,l=this.applyNavigationCell(this.startNavigationCell?this.startNavigationCell.colStart:1,i||this.grid.multiRowLayoutRowSize,jp),c=o.children.find(function(e){return(e.colEnd===a+1||e.colStart+e.gridColumnSpan===a+1)&&e.rowStart<=l&&(l<e.rowEnd||l<e.rowStart+e.gridRowSpan)}),p=s.toArray().indexOf(c),u=(e?this.grid.summariesRowList:this.grid.dataRowList).find(function(e){return e.index===t});if(u)if(u=u.nativeElement,this.isColumnFullyVisible(c.visibleIndex)){var d=u.querySelectorAll(this.getColumnLayoutSelector()),h=d[d.length-1].children[p];this._focusCell(h)}else{this.grid.nativeElement.focus({preventScroll:!0});this.performHorizontalScrollToCell(t,c.visibleIndex,!1,function(){var e=u.querySelectorAll(n.getColumnLayoutSelector()),t=e[e.length-1].children[p];n._focusCell(t)})}},e.prototype.onKeydownHome=function(t,e,i){var n=this;void 0===e&&(e=!1),void 0===i&&(i=1);var r=this.grid.columns.filter(function(e){return e.columnLayout&&!e.hidden})[0],o=r.children.toArray(),s=this.applyNavigationCell(this.startNavigationCell?this.startNavigationCell.colStart:1,i,jp),a=r.children.find(function(e){return 1===e.colStart&&e.rowStart<=s&&(s<e.rowEnd||s<e.rowStart+e.gridRowSpan)}),l=o.indexOf(a),c=(e?this.grid.summariesRowList:this.grid.dataRowList).find(function(e){return e.index===t});if(c)if(c=c.nativeElement,this.isColumnLeftFullyVisible(a.visibleIndex)){var p=c.querySelectorAll(this.getColumnLayoutSelector())[0].children[l];this._focusCell(p)}else{this.grid.nativeElement.focus({preventScroll:!0});this.performHorizontalScrollToCell(t,a.visibleIndex,!1,function(){var e=c.querySelectorAll(n.getColumnLayoutSelector())[0].children[l];n._focusCell(e)})}},e.prototype.getColumnLayoutSelector=function(){return".igx-grid__mrl-block"},e.prototype.getChildColumnScrollPositions=function(e){for(var t=0<this.grid.dataRowList.length?this.grid.dataRowList.first.virtDirRow:this.grid.headerContainer,i=this.getColunmByVisibleIndex(e),n=i.parent,r=t.igxForOf.indexOf(n),o=t.getColumnScrollLeft(r),s=0,a=n.getFilledChildColumnSizes(n.children),l=i.colStart||1,c=i.colEnd||l+1,p=1;p<l;p++)o+=parseInt(a[p-1],10);s+=o;for(var u=l;u<c;u++)s+=parseInt(a[u-1],10);return{leftScroll:o,rightScroll:s}},e.prototype.getColunmByVisibleIndex=function(t){return t=t<0?0:t,this.grid.columnList.find(function(e){return!e.columnLayout&&e.visibleIndex===t})},e.prototype.shouldPerformVerticalScroll=function(t,e){if(this._isGroupRecordAt(t))return c.prototype.shouldPerformVerticalScroll.call(this,t,e);if(!c.prototype.shouldPerformVerticalScroll.call(this,t,e))return!1;var i=this.grid.summariesRowList.filter(function(e){return 0!==e.index}).concat(this.grid.rowList.toArray()).find(function(e){return e.index===t}),n=Math.abs(this.grid.verticalScrollContainer.getVerticalScroll().scrollTop),r=this.grid.calcHeight?Math.ceil(this.grid.calcHeight):0,o=this.getVerticalScrollPositions(t,e);return!!(!i||i.nativeElement.offsetTop+o.topOffset<Math.abs(this.verticalDCTopOffset)||r&&r<o.rowBottom-n)},Object.defineProperty(e.prototype,"verticalDCTopOffset",{get:function(){return parseInt(this.grid.verticalScrollContainer.dc.instance._viewContainer.element.nativeElement.style.top,10)},enumerable:!0,configurable:!0}),e.prototype._isGroupRecordAt=function(e){var t=this.grid.verticalScrollContainer.igxForOf[e];return t.records&&t.records.length},e.prototype.performVerticalScrollToCell=function(t,e,i){if(this._isGroupRecordAt(t))return c.prototype.performVerticalScrollToCell.call(this,t,e,i);var n=this.grid.calcHeight?Math.ceil(this.grid.calcHeight):0,r=Math.abs(this.grid.verticalScrollContainer.getVerticalScroll().scrollTop),o=this.getVerticalScrollPositions(t,e),s=this.grid.summariesRowList.filter(function(e){return 0!==e.index}).concat(this.grid.rowList.toArray()).find(function(e){return e.index===t}),a=r>o.rowTop&&(!s||s.nativeElement.offsetTop+o.topOffset<Math.abs(this.verticalDCTopOffset)),l=a?o.rowTop:Math.abs(r+n-o.rowBottom);this.grid.verticalScrollContainer.onChunkLoad.pipe(p.first()).subscribe(function(){i()}),a?this.grid.verticalScrollContainer.getVerticalScroll().scrollTop=l:this.grid.verticalScrollContainer.addScrollTop(l)},e.prototype.getVerticalScrollPositions=function(e,t){var i=this.getColunmByVisibleIndex(t),n=(i.rowStart-1)*this.grid.defaultRowHeight,r=this.grid.verticalScrollContainer.sizesCache[e]+n;return{rowTop:r,rowBottom:r+this.grid.defaultRowHeight*i.gridRowSpan,topOffset:n}},e.prototype.performHorizontalScrollToCell=function(e,t,i,n){var r=this;void 0===i&&(i=!1);var o=this.getChildColumnScrollPositions(t),s=this.horizontalScroll(e);this.grid.parentVirtDir.onChunkLoad.pipe(p.first()).subscribe(function(){n?n():r._focusCell(r.getCellElementByVisibleIndex(e,t,i))});var a=s.getHorizontalScroll().scrollLeft>o.leftScroll,l=parseInt(s.igxForContainerSize,10),c=a?o.leftScroll:o.rightScroll-l;s.getHorizontalScroll().scrollLeft=c},e.prototype._focusCell=function(e){var t=this.grid.tbody.nativeElement.getBoundingClientRect(),i=e.getBoundingClientRect().top-t.top,n=e.getBoundingClientRect().bottom-t.bottom;i<0?(this.grid.nativeElement.focus({preventScroll:!0}),this.grid.verticalScrollContainer.onChunkLoad.pipe(p.first()).subscribe(function(){e.focus({preventScroll:!0})}),this.grid.verticalScrollContainer.addScrollTop(i)):0<n?(this.grid.nativeElement.focus({preventScroll:!0}),this.grid.verticalScrollContainer.onChunkLoad.pipe(p.first()).subscribe(function(){e.focus({preventScroll:!0})}),this.grid.verticalScrollContainer.addScrollTop(n)):e.focus({preventScroll:!0})},e.prototype.goToFirstCell=function(){this.startNavigationCell=null,c.prototype.goToFirstCell.call(this)},e.prototype.goToLastCell=function(){this.startNavigationCell=null,c.prototype.goToLastCell.call(this)},e.decorators=[{type:b.Injectable}],e}(lc),zp=0,Wp=function(x){function e(e,t,i,n,r,o,s,a,l,c,p,u,d,h,g,f,m,y){var v=x.call(this,e,t,n,r,o,s,a,l,c,p,u,d,h,g,f,m,y)||this;return v.colResizingService=i,v.document=l,v.overlayService=f,v._displayDensityOptions=y,v._id="igx-grid-"+zp++,v._groupingExpressions=[],v._groupingExpandState=[],v._hideGroupedColumns=!1,v._dropAreaMessage=null,v._filteredData=null,v.groupsExpanded=!0,v.groupsRecords=[],v.onGroupingDone=new b.EventEmitter,v.dragIndicatorIconTemplate=null,v._gridAPI=n,v}return f(e,x),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},set:function(e){this._id=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,this.summaryService.clearSummaryCache(),this.shouldGenerate&&(this.setupColumns(),this.reflow()),this.cdr.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filteredData",{get:function(){return this._filteredData},set:function(e){this._filteredData=e,this.rowSelectable&&this.updateHeaderCheckboxStatusOnFilter(this._filteredData)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupingExpressions",{get:function(){return this._groupingExpressions},set:function(e){var t=this;if(e&&10<e.length)throw Error("Maximum amount of grouped columns is 10.");var i=this.groupingExpressions,n=e;if(this._groupingExpressions=ti(e),this.chipsGoupingExpressions=ti(e),this._gridAPI.grid?(this._applyGrouping(),this._gridAPI.arrange_sorting_expressions(),this.cdr.markForCheck()):this.sortingExpressions.unshift.apply(this.sortingExpressions,this._groupingExpressions),JSON.stringify(i)!==JSON.stringify(n)&&this.columnList){var r=[],o=[];n.filter(function(t){return!i.some(function(e){return t.fieldName===e.fieldName})}).forEach(function(e){r.push(t.getColumnByName(e.fieldName))},this),i.filter(function(t){return!n.some(function(e){return t.fieldName===e.fieldName})}).forEach(function(e){o.push(t.getColumnByName(e.fieldName))},this),this.cdr.detectChanges();var s={expressions:n,groupedColumns:r,ungroupedColumns:o};this.onGroupingDone.emit(s)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupingExpansionState",{get:function(){return this._groupingExpandState},set:function(e){this._groupingExpandState=ti(e),this.cdr.detectChanges()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hideGroupedColumns",{get:function(){return this._hideGroupedColumns},set:function(e){this.groupingDiffer=e?this.differs.find(this.groupingExpressions).create():null,this.columnList&&this.groupingExpressions&&this._setGroupColsVisibility(e),this._hideGroupedColumns=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropAreaMessage",{get:function(){return this._dropAreaMessage||this.resourceStrings.igx_grid_groupByArea_message},set:function(e){this._dropAreaMessage=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupsRowList",{get:function(){var e=new b.QueryList;if(!this._groupsRowList)return e;var t=this._groupsRowList.filter(function(e){return null!==e.element.nativeElement.parentElement});return e.reset(t),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupAreaHostClass",{get:function(){return this.getComponentDensityClass("igx-drop-area")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupRowTemplate",{get:function(){return this._groupRowTemplate},set:function(e){this._groupRowTemplate=e,this.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupAreaTemplate",{get:function(){return this._groupAreaTemplate},set:function(e){this._groupAreaTemplate=e,this.markForCheck()},enumerable:!0,configurable:!0}),e.prototype.groupBy=function(e){this.endEdit(!0),this._gridAPI.submit_value(),e instanceof Array?this._gridAPI.groupBy_multiple(e):this._gridAPI.groupBy(e),this.cdr.detectChanges(),this.calculateGridSizes()},e.prototype.clearGrouping=function(e){this._gridAPI.clear_groupby(e),this.calculateGridSizes()},e.prototype.isExpandedGroup=function(e){var t=this._getStateForGroupRow(e);return t?t.expanded:this.groupsExpanded},e.prototype.toggleGroup=function(e){this._toggleGroup(e)},e.prototype.isGroupByRecord=function(e){return e.records&&e.records.length},e.prototype.toggleAllGroupRows=function(){this.groupingExpansionState=[],this.groupsExpanded=!this.groupsExpanded,this.cdr.detectChanges()},Object.defineProperty(e.prototype,"hasGroupableColumns",{get:function(){return this.columnList.some(function(e){return e.groupable&&!e.columnGroup})},enumerable:!0,configurable:!0}),e.prototype._setGroupColsVisibility=function(t){var i=this;this.columnList&&!this.hasColumnLayouts&&this.groupingExpressions.forEach(function(e){i.getColumnByName(e.fieldName).hidden=t})},Object.defineProperty(e.prototype,"dropAreaVisible",{get:function(){return this.draggedColumn&&this.draggedColumn.groupable||!this.chipsGoupingExpressions.length},enumerable:!0,configurable:!0}),e.prototype._getStateForGroupRow=function(e){return this._gridAPI.groupBy_get_expanded_for_group(e)},e.prototype._toggleGroup=function(e){this._gridAPI.groupBy_toggle_group(e)},e.prototype._applyGrouping=function(){this._gridAPI.sort_multiple(this._groupingExpressions)},e.prototype.isColumnGrouped=function(t){return!!this.groupingExpressions.find(function(e){return e.fieldName===t})},e.prototype.getContext=function(e,t){return{$implicit:e,index:t,templateID:this.isGroupByRecord(e)?"groupRow":this.isSummaryRow(e)?"summaryRow":"dataRow"}},Object.defineProperty(e.prototype,"template",{get:function(){return this.filteredData&&0===this.filteredData.length?this.emptyGridTemplate?this.emptyGridTemplate:this.emptyFilteredGridTemplate:!this.isLoading||this.data&&0!==this.dataLength?0===this.dataLength?this.emptyGridTemplate?this.emptyGridTemplate:this.emptyGridDefaultTemplate:void 0:this.loadingGridTemplate?this.loadingGridTemplate:this.loadingGridDefaultTemplate},enumerable:!0,configurable:!0}),e.prototype.getGroupByRecords=function(){if(this.groupingExpressions&&this.groupingExpressions.length){var e={expressions:this.groupingExpressions,expansion:this.groupingExpansionState,defaultExpanded:this.groupsExpanded};return Ti.group(ti(this.filteredSortedData),e,this).metadata}return null},e.prototype.onChipRemoved=function(e){this.clearGrouping(e.owner.id)},e.prototype.chipsOrderChanged=function(i){for(var n=[],e=function(t){var e=r.groupingExpressions.filter(function(e){return e.fieldName===i.chipsArray[t].id})[0];if(!r.getColumnByName(e.fieldName).groupable)return{value:void 0};n.push(e)},r=this,t=0;t<i.chipsArray.length;t++){var o=e(t);if("object"==typeof o)return o.value}this.groupingExpansionState=[],this.chipsGoupingExpressions=n,i.originalEvent instanceof KeyboardEvent&&(this.groupingExpressions=this.chipsGoupingExpressions),this.markForCheck()},e.prototype.chipsMovingEnded=function(){this.groupingExpressions=this.chipsGoupingExpressions,this.markForCheck()},e.prototype.onChipClicked=function(t){var e=this.sortingExpressions.find(function(e){return e.fieldName===t.owner.id});e.dir=3-e.dir,this.sort(e),this.markForCheck()},e.prototype.onChipKeyDown=function(t){if(" "===t.originalEvent.key||"Spacebar"===t.originalEvent.key||"Enter"===t.originalEvent.key){var e=this.sortingExpressions.find(function(e){return e.fieldName===t.owner.id});e.dir=3-e.dir,this.sort(e),this.markForCheck()}},e.prototype.getGroupAreaHeight=function(){return this.groupArea?this.groupArea.nativeElement.offsetHeight:0},e.prototype.getFeatureColumnsWidth=function(){var e=x.prototype.getFeatureColumnsWidth.call(this);return this.groupingExpressions.length&&this.headerGroupContainer&&(e+=this.headerGroupContainer.nativeElement.offsetWidth),e},e.prototype.scrollTo=function(e,t){if(this.groupingExpressions&&this.groupingExpressions.length&&"number"!=typeof e){var i=this.getGroupByRecords()[this.filteredSortedData.indexOf(e)];i&&!this.isExpandedGroup(i)&&this.toggleGroup(i)}x.prototype.scrollTo.call(this,e,t)},Object.defineProperty(e.prototype,"dropAreaTemplateResolved",{get:function(){return this.dropAreaTemplate?this.dropAreaTemplate:this.defaultDropAreaTemplate},enumerable:!0,configurable:!0}),e.prototype.getGroupByChipTitle=function(e){return this.getColumnByName(e.fieldName).header||e.fieldName},e.prototype.ngAfterContentInit=function(){this.allowFiltering&&this.hasColumnLayouts&&(this.filterMode=$c.excelStyleFilter),this.groupTemplate&&(this._groupRowTemplate=this.groupTemplate.template),x.prototype.ngAfterContentInit.call(this),this.hideGroupedColumns&&this.columnList&&this.groupingExpressions&&this._setGroupColsVisibility(this.hideGroupedColumns),this._setupNavigationService()},e.prototype.ngOnInit=function(){var t=this;x.prototype.ngOnInit.call(this),this.onGroupingDone.pipe(p.takeUntil(this.destroy$)).subscribe(function(e){t.endEdit(!0),t.summaryService.updateSummaryCache(e)})},e.prototype.ngDoCheck=function(){var t=this;if(x.prototype.ngDoCheck.call(this),this.groupingDiffer&&this.columnList&&!this.hasColumnLayouts){var e=this.groupingDiffer.diff(this.groupingExpressions);e&&this.columnList&&(e.forEachAddedItem(function(e){t.getColumnByName(e.item.fieldName).hidden=!0}),e.forEachRemovedItem(function(e){t.getColumnByName(e.item.fieldName).hidden=!1}))}},e.prototype.getSelectedData=function(){if(this.groupingExpressions.length){var t=[];return this.verticalScrollContainer.igxForOf.forEach(function(e){e.expression||e.summaries?t.push(null):t.push(e)}),this.extractDataFromSelection(t)}return x.prototype.getSelectedData.call(this)},e.prototype._setupNavigationService=function(){this.hasColumnLayouts&&(this.navigation=new Gp,this.navigation.grid=this)},e.decorators=[{type:b.Component,args:[{changeDetection:b.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,providers:[lc,Ac,bl,xl,{provide:_i,useClass:Vp},{provide:Xc,useExisting:b.forwardRef(function(){return e})},mc,El,pr],selector:"igx-grid",template:'<igx-grid-toolbar [style.width.px]="outerWidth" role="rowgroup" *ngIf="showToolbar" [gridID]="id" [displayDensity]="displayDensity" #toolbar>\n</igx-grid-toolbar>\n\n<ng-template #defaultPager let-api>\n    <button [disabled]="api.isFirstPage" (click)="api.paginate(0)" igxButton="icon" igxRipple igxRippleCentered="true">\n        <igx-icon fontSet="material">first_page</igx-icon>\n    </button>\n    <button [disabled]="api.isFirstPage" (click)="api.previousPage()" igxButton="icon" igxRipple igxRippleCentered="true">\n        <igx-icon fontSet="material">chevron_left</igx-icon>\n    </button>\n    <span>{{ api.page + 1 }} of {{ api.totalPages }}</span>\n    <button [disabled]="api.isLastPage" (click)="api.nextPage()" igxRipple igxRippleCentered="true" igxButton="icon">\n        <igx-icon fontSet="material">chevron_right</igx-icon>\n    </button>\n        <button [disabled]="api.isLastPage" (click)="api.paginate(api.totalPages - 1)" igxButton="icon" igxRipple igxRippleCentered="true">\n        <igx-icon fontSet="material">last_page</igx-icon>\n    </button>\n    <select style="margin-left: 1rem;" (change)="api.perPage = $event.target.value">\n            <option [value]="val" [selected]="api.perPage == val" *ngFor="let val of [5, 10, 15, 25, 50, 100, 500]">{{ val }}</option>\n    </select>\n</ng-template>\n\n<div [style.width.px]=\'outerWidth\' class="igx-grid__grouparea" *ngIf="groupingExpressions.length > 0 || hasGroupableColumns" #groupArea>\n    <igx-chips-area (onReorder)="chipsOrderChanged($event)" (onMoveEnd)="chipsMovingEnded()">\n        <ng-container *ngFor="let expr of chipsGoupingExpressions; let last = last;">\n            <igx-chip [id]="expr.fieldName" [attr.title]="getGroupByChipTitle(expr)" [removable]="getColumnByName(expr.fieldName).groupable" [draggable]="getColumnByName(expr.fieldName).groupable" [displayDensity]="displayDensity"\n                    (onKeyDown)="onChipKeyDown($event)" (onRemove)="onChipRemoved($event)" (onClick)="getColumnByName(expr.fieldName).groupable ? onChipClicked($event): null" [disabled]=\'!getColumnByName(expr.fieldName).groupable\'>\n                    <span>{{ getGroupByChipTitle(expr) }}</span>\n                    <igx-icon igxSuffix>{{ expr.dir == 1 ? \'arrow_upward\' : \'arrow_downward\' }}</igx-icon>\n            </igx-chip>\n            <span class="igx-grid__grouparea-connector">\n                <igx-icon [style.visibility]="(!last || dropAreaVisible) ? \'visible\' : \'hidden\'" >arrow_forward</igx-icon>\n            </span>\n        </ng-container>\n        <div igxGroupAreaDrop [style.visibility]="dropAreaVisible ? \'visible\' : \'hidden\'" [class]="groupAreaHostClass" [attr.gridId]=\'this.id\'>\n            <ng-container *ngTemplateOutlet="dropAreaTemplateResolved"></ng-container>\n        </div>\n    </igx-chips-area>\n</div>\n\n<div class="igx-grid__thead">\n    <div class="igx-grid__thead-wrapper" [class.igx-grid__tr--mrl]=\'hasColumnLayouts\' role="rowgroup" [style.width.px]=\'calcWidth + 1\' #theadRow>\n        <div class="igx-grid__tr" role="row" [style.width.px]=\'calcWidth + 1\'>\n            <span *ngIf="hasMovableColumns && draggedColumn && pinnedColumns.length <= 0" [igxColumnMovingDrop]="parentVirtDir" [attr.droppable]="true" id="left" class="igx-grid__scroll-on-drag-left" [style.left.px]="featureColumnsWidth"></span>\n            <span *ngIf="hasMovableColumns && draggedColumn && pinnedColumns.length > 0" [igxColumnMovingDrop]="parentVirtDir" [attr.droppable]="true" id="left" class="igx-grid__scroll-on-drag-pinned" [style.left.px]="pinnedWidth"></span>\n            <ng-container *ngIf="groupingExpressions.length > 0">\n                <div class="igx-grid__header-indentation igx-grid__row-indentation--level-{{groupingExpressions.length}}" [ngClass]="{\n                    \'igx-grid__header-indentation--no-border\': rowSelectable || rowDraggable\n                }" #headerGroupContainer>\n                    <igx-icon *ngIf="groupsExpanded" role="button" class="igx-grid__group-expand-btn" (click)="toggleAllGroupRows()" [ngClass]="{\n                        \'igx-grid__group-expand-btn--push\': filteringService.isFilterRowVisible\n                    }">unfold_less</igx-icon>\n                    <igx-icon *ngIf="!groupsExpanded" role="button" class="igx-grid__group-expand-btn" (click)="toggleAllGroupRows()"[ngClass]="{\n                        \'igx-grid__group-expand-btn--push\': filteringService.isFilterRowVisible\n                    }">unfold_more</igx-icon>\n                </div>\n            </ng-container>\n            <ng-container *ngIf="rowDraggable">\n                <div class="igx-grid__drag-indicator" [ngClass]="{\n                    \'igx-grid__drag-indicator--header\': !rowSelectable\n                }" #headerDragContainer>\n                    <div style="visibility: hidden;">\n                        <ng-container *ngTemplateOutlet="this.dragIndicatorIconTemplate ? this.dragIndicatorIconTemplate : this.dragIndicatorIconBase"></ng-container>\n                    </div>\n                </div>\n            </ng-container>\n            <ng-container *ngIf="showRowCheckboxes">\n                <div class="igx-grid__cbx-selection" #headerCheckboxContainer [ngClass]="{\n                    \'igx-grid__cbx-selection--push\': filteringService.isFilterRowVisible\n                }">\n                    <igx-checkbox [checked]="allRowsSelected" (change)="onHeaderCheckboxClick($event, filteredData)" disableRipple="true" [aria-label]="headerCheckboxAriaLabel" #headerCheckbox></igx-checkbox>\n                </div>\n            </ng-container>\n            <ng-container *ngIf="pinnedColumns.length > 0">\n                <ng-template ngFor let-col [ngForOf]="pinnedColumns | igxTopLevel">\n                    <igx-grid-header-group [column]="col" [gridID]="id" [style.min-width.px]="getHeaderGroupWidth(col)" [style.flex-basis.px]="getHeaderGroupWidth(col)"></igx-grid-header-group>\n                </ng-template>\n            </ng-container>\n            <ng-template igxGridFor let-col [igxGridForOf]="unpinnedColumns | igxTopLevel" [igxForScrollOrientation]="\'horizontal\'" [igxForScrollContainer]="parentVirtDir"\n                [igxForContainerSize]=\'unpinnedWidth\' [igxForTrackBy]=\'trackColumnChanges\'  [igxForSizePropName]=\'"calcPixelWidth"\' #headerContainer>\n                <igx-grid-header-group [column]="col" [gridID]="id" [style.min-width.px]="getHeaderGroupWidth(col)" [style.flex-basis.px]="getHeaderGroupWidth(col)"></igx-grid-header-group>\n            </ng-template>\n            </div>\n            <igx-grid-filtering-row #filteringRow [style.width.px]=\'calcWidth\' *ngIf="filteringService.isFilterRowVisible" [column]="filteringService.filteredColumn"></igx-grid-filtering-row>\n    </div>\n    <span *ngIf="hasMovableColumns && draggedColumn" [igxColumnMovingDrop]="parentVirtDir" [attr.droppable]="true" id="right" class="igx-grid__scroll-on-drag-right"></span>\n    <div class="igx-grid__thead-thumb" [hidden]=\'!hasVerticalSroll()\' [style.width.px]="scrollWidth"></div>\n</div>\n\n<div igxGridBody class="igx-grid__tbody">\n    <div class="igx-grid__tbody-content" role="rowgroup" (onDragStop)="selectionService.dragMode = $event" (onDragScroll)="dragScroll($event)" [igxGridDragSelect]="selectionService.dragMode" [style.height.px]=\'calcHeight\' [style.width.px]=\'calcWidth + 1\' #tbody (scroll)=\'scrollHandler($event)\' (wheel)="wheelHandler()">\n        <span *ngIf="hasMovableColumns && draggedColumn && pinnedColumns.length <= 0" [igxColumnMovingDrop]="parentVirtDir" [attr.droppable]="true" id="left" class="igx-grid__scroll-on-drag-left"></span>\n        <span *ngIf="hasMovableColumns && draggedColumn && pinnedColumns.length > 0" [igxColumnMovingDrop]="parentVirtDir" [attr.droppable]="true" id="left" class="igx-grid__scroll-on-drag-pinned" [style.left.px]="pinnedWidth"></span>\n        <ng-template igxGridFor let-rowData [igxGridForOf]="data\n        | gridTransaction:id:pipeTrigger\n        | gridFiltering:filteringExpressionsTree:id:pipeTrigger\n        | gridSort:sortingExpressions:id:pipeTrigger\n        | gridPreGroupBy:groupingExpressions:groupingExpansionState:groupsExpanded:id:groupsRecords:pipeTrigger\n        | gridPaging:page:perPage:id:pipeTrigger\n        | gridPostGroupBy:groupingExpressions:groupingExpansionState:groupsExpanded:id:pipeTrigger\n        | gridSummary:hasSummarizedColumns:summaryCalculationMode:summaryPosition:id:pipeTrigger:summaryPipeTrigger"\n        let-rowIndex="index" [igxForScrollOrientation]="\'vertical\'"  [igxForScrollContainer]=\'verticalScroll\'\n        [igxForContainerSize]=\'calcHeight\' [igxForItemSize]="hasColumnLayouts ? rowHeight * multiRowLayoutRowSize + 1 : renderedRowHeight" #verticalScrollContainer (onChunkPreload)="dataLoading($event)">\n            <ng-template #record_template>\n                <igx-grid-row [gridID]="id" [index]="rowIndex" [rowData]="rowData" #row>\n                </igx-grid-row>\n            </ng-template>\n            <ng-template #group_template>\n                <igx-grid-groupby-row [gridID]="id" [index]="rowIndex" [groupRow]="rowData" #row>\n                </igx-grid-groupby-row>\n            </ng-template>\n            <ng-template #summary_template>\n                <igx-grid-summary-row [gridID]="id" [summaries]="rowData.summaries" [index]="rowIndex" class="igx-grid__summaries--body" #summaryRow>\n                </igx-grid-summary-row>\n            </ng-template>\n            <ng-template [igxTemplateOutlet]=\'isGroupByRecord(rowData) ? group_template : isSummaryRow(rowData) ? summary_template : record_template\'\n                [igxTemplateOutletContext]=\'getContext(rowData, rowIndex)\'\n                (onCachedViewLoaded)=\'cachedViewLoaded($event)\'>\n            </ng-template>\n        </ng-template>\n        <ng-container *ngTemplateOutlet="template"></ng-container>\n        <div class="igx-grid__row-editing-outlet" igxOverlayOutlet #igxRowEditingOverlayOutlet></div>\n    </div>\n    <span *ngIf="hasMovableColumns && draggedColumn" [igxColumnMovingDrop]="parentVirtDir" [attr.droppable]="true" id="right" class="igx-grid__scroll-on-drag-right"></span>\n    <div [hidden]=\'!hasVerticalSroll()\' class="igx-grid__tbody-scrollbar" [style.width.px]="scrollWidth" [style.height.px]=\'calcHeight\'>\n        <ng-template igxGridFor [igxGridForOf]=\'[]\' #verticalScrollHolder ></ng-template>\n    </div>\n</div>\n\n\n<div class="igx-grid__tfoot" role="rowgroup" [style.height.px]=\'summariesHeight\' #tfoot>\n    <igx-grid-summary-row [style.width.px]=\'calcWidth\' [style.height.px]=\'summariesHeight\' *ngIf="hasSummarizedColumns && rootSummariesEnabled" [gridID]="id" [summaries]="id | igxGridSummaryDataPipe:summaryService.retriggerRootPipe" [index]="0" class="igx-grid__summaries"  #summaryRow>\n    </igx-grid-summary-row>\n    <div class="igx-grid__tfoot-thumb" [hidden]=\'!hasVerticalSroll()\' [style.height.px]=\'summariesHeight\' [style.width.px]="scrollWidth"></div>\n</div>\n\n<div class="igx-grid__scroll" [style.height]="\'18px\'" #scr [hidden]="unpinnedWidth - totalWidth >= 0">\n    <div class="igx-grid__scroll-start" [style.width.px]=\'pinnedWidth\' [hidden]="pinnedWidth === 0"></div>\n    <div class="igx-grid__scroll-main" [style.width.px]=\'unpinnedWidth\'>\n        <ng-template igxGridFor [igxGridForOf]=\'[]\' #scrollContainer>\n        </ng-template>\n    </div>\n</div>\n\n<div class="igx-paginator igx-grid-paginator" *ngIf="paging && totalRecords" #paginator>\n    <ng-container *ngTemplateOutlet="paginationTemplate ? paginationTemplate : defaultPager; context: { $implicit: this }">\n    </ng-container>\n</div>\n\n<ng-template #emptyFilteredGrid>\n    <span class="igx-grid__tbody-message">{{emptyFilteredGridMessage}}</span>\n</ng-template>\n\n<ng-template #defaultEmptyGrid>\n    <span class="igx-grid__tbody-message">{{emptyGridMessage}}</span>\n</ng-template>\n\n<ng-template #defaultLoadingGrid>\n    <div class="igx-grid__loading">\n        <igx-circular-bar [indeterminate]="true">\n        </igx-circular-bar>\n    </div>\n</ng-template>\n\n<ng-template #defaultDropArea>\n    <igx-icon fontSet="material" class="igx-drop-area__icon">group_work</igx-icon>\n    <span class="igx-drop-area__text">{{dropAreaMessage}}</span>\n</ng-template>\n\n<div *ngIf="rowEditable" igxToggle>\n    <div [className]="bannerClass">\n        <ng-container *ngTemplateOutlet="rowEditContainer; context: { rowChangesCount: rowChangesCount, endEdit: endEdit.bind(this) }"></ng-container>\n    </div>\n</div>\n\n<ng-template #defaultRowEditText>\n    You have {{ rowChangesCount }} changes in this row\n</ng-template>\n\n<ng-template #defaultRowEditActions>\n    <button igxButton igxRowEditTabStop (click)="endEdit(false, $event)">Cancel</button>\n    <button igxButton igxRowEditTabStop (click)="endEdit(true, $event)">Done</button>\n</ng-template>\n\n<ng-template #defaultRowEditTemplate>\n    <div class="igx-banner__message">\n        <span class="igx-banner__text">\n            <ng-container *ngTemplateOutlet="rowEditText ? rowEditText : defaultRowEditText; context: { $implicit: rowChangesCount }"></ng-container>\n        </span>\n    </div>\n    <div class="igx-banner__actions">\n        <div class="igx-banner__row">\n            <ng-container *ngTemplateOutlet="rowEditActions ? rowEditActions : defaultRowEditActions; context: { $implicit: endEdit.bind(this) }"></ng-container>\n        </div>\n    </div>\n</ng-template>\n\n<ng-template #dragIndicatorIconBase>\n    <igx-icon fontSet="material">drag_indicator</igx-icon>\n</ng-template>\n\n<igx-grid-column-resizer *ngIf="colResizingService.showResizer"></igx-grid-column-resizer>\n<div class="igx-grid__outlet" #igxFilteringOverlayOutlet igxOverlayOutlet></div>\n'}]}],e.ctorParameters=function(){return[{type:bl},{type:xl},{type:El},{type:_i},{type:$n},{type:undefined,decorators:[{type:b.Inject,args:[Wc]}]},{type:b.ElementRef},{type:b.NgZone},{type:undefined,decorators:[{type:b.Inject,args:[r.DOCUMENT]}]},{type:b.ChangeDetectorRef},{type:b.ComponentFactoryResolver},{type:b.IterableDiffers},{type:b.ViewContainerRef},{type:lc},{type:mc},{type:En,decorators:[{type:b.Inject,args:[En]}]},{type:Ac},{type:undefined,decorators:[{type:b.Optional},{type:b.Inject,args:[tr]}]}]},e.propDecorators={id:[{type:b.HostBinding,args:["attr.id"]},{type:b.Input}],data:[{type:b.Input}],groupingExpressions:[{type:b.Input}],groupingExpansionState:[{type:b.Input}],groupsExpanded:[{type:b.Input}],hideGroupedColumns:[{type:b.Input}],dropAreaMessage:[{type:b.Input}],dropAreaTemplate:[{type:b.Input}],onGroupingDone:[{type:b.Output}],groupTemplate:[{type:b.ContentChild,args:[Hp,{read:Hp}]}],dragIndicatorIconTemplate:[{type:b.ContentChild,args:[Ap,{read:b.TemplateRef}]}],_groupsRowList:[{type:b.ViewChildren,args:[oc,{read:oc}]}],defaultDropAreaTemplate:[{type:b.ViewChild,args:["defaultDropArea",{read:b.TemplateRef}]}],groupArea:[{type:b.ViewChild,args:["groupArea"]}]},e}(Xc),Up=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,i,n){var r,o=this.gridAPI.grid;return r=t.length?Ti.sort(ti(e),t):e,o.filteredSortedData=r},e.decorators=[{type:b.Pipe,args:[{name:"gridSort",pure:!0}]}],e.ctorParameters=function(){return[{type:_i}]},e}(),Kp=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,i,n,r,o,s){var a={expressions:[],expansion:[],defaultExpanded:n},l=this.gridAPI.grid;return a.expressions=l.groupingExpressions,a.expressions.length?(a.expansion=l.groupingExpansionState,a.defaultExpanded=l.groupsExpanded,Ti.group(ti(e),a,l,o)):(o.splice(0,o.length),{data:e,metadata:e})},e.decorators=[{type:b.Pipe,args:[{name:"gridPreGroupBy",pure:!0}]}],e.ctorParameters=function(){return[{type:_i}]},e}(),$p=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,i,n,r,o){var s={expressions:[],expansion:[],defaultExpanded:n},a=this.gridAPI.grid;return s.expressions=a.groupingExpressions,s.expressions.length?(s.expansion=a.groupingExpansionState,s.defaultExpanded=a.groupsExpanded,Ti.restoreGroups({data:ti(e.data),metadata:ti(e.metadata)},s)):e.data},e.decorators=[{type:b.Pipe,args:[{name:"gridPostGroupBy",pure:!0}]}],e.ctorParameters=function(){return[{type:_i}]},e}(),Yp=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,i,n,r){if(void 0===t&&(t=0),void 0===i&&(i=15),!this.gridAPI.grid.paging)return e;var o={index:t,recordsPerPage:i},s={data:Ti.page(ti(e.data),o),metadata:Ti.page(ti(e.metadata),o)};return this.gridAPI.grid.pagingState=o,s},e.decorators=[{type:b.Pipe,args:[{name:"gridPaging",pure:!0}]}],e.ctorParameters=function(){return[{type:_i}]},e}(),Xp=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,i,n){var r=this.gridAPI.grid,o={expressionsTree:t};if(!o.expressionsTree||!o.expressionsTree.filteringOperands||0===o.expressionsTree.filteringOperands.length)return e;var s=Ti.filter(ti(e),o);return r.filteredData=s},e.decorators=[{type:b.Pipe,args:[{name:"gridFiltering",pure:!0}]}],e.ctorParameters=function(){return[{type:_i}]},e}(),qp=function(a){function e(e,t,i,n,r,o){var s=a.call(this,e,t,i,n,r,o)||this;return s.gridAPI=e,s.crudService=t,s.selectionService=i,s.element=r,s.cdr=o,s}return f(e,a),Object.defineProperty(e.prototype,"hasColumnLayouts",{get:function(){return this.grid.hasColumnLayouts},enumerable:!0,configurable:!0}),e.decorators=[{type:b.Component,args:[{changeDetection:b.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-grid-row",template:'<ng-container *ngIf="grid.groupingExpressions.length > 0">\n    <div class="igx-grid__row-indentation igx-grid__row-indentation--level-{{grid.groupingExpressions.length}}"></div>\n</ng-container>\n<ng-container *ngIf="rowDraggable">\n    <div [class]="resolveDragIndicatorClasses" [igxRowDrag]="this">\n        <ng-container *ngTemplateOutlet="this.grid.dragIndicatorIconTemplate ? this.grid.dragIndicatorIconTemplate : this.grid.dragIndicatorIconBase"></ng-container>\n    </div>\n</ng-container>\n<ng-container *ngIf="showRowCheckboxes">\n    <div class="igx-grid__cbx-selection">\n        <igx-checkbox [checked]="isSelected" [disabled]="deleted" (change)="onCheckboxClick($event)" disableRipple="true" [disableTransitions]="grid.disableTransitions" [aria-label]="rowCheckboxAriaLabel"></igx-checkbox>\n    </div>\n</ng-container>\n\n<ng-container *ngIf="!grid.hasColumnLayouts">\n    <ng-container *ngIf="pinnedColumns.length > 0">\n        <igx-grid-cell *ngFor="let col of pinnedColumns | igxNotGrouped"\n            class="igx-grid__td igx-grid__td--fw igx-grid__td--pinned"\n            [class.igx-grid__td--number]="col.dataType === \'number\'"\n            [ngClass]="col.cellClasses | igxCellStyles:rowData[col.field]:rowData:col.field"\n            [editMode]="col.editable && crudService.isInEditMode(index, col.index)"\n            [column]="col"\n            [formatter]="col.formatter"\n            [row]="this"\n            [lastPinned]="col.isLastPinned"\n            [style.min-height.px]="grid.rowHeight || 32"\n            [rowData]="rowData"\n            [style.min-width.px]="col.width"\n            [style.flex-basis.px]="col.width"\n            [width]="col.getCellWidth()"\n            [visibleColumnIndex]="col.visibleIndex"\n            [value]="rowData[col.field]"\n            [cellTemplate]="col.bodyTemplate">\n        </igx-grid-cell>\n    </ng-container>\n    <ng-template igxGridFor let-col [igxGridForOf]="unpinnedColumns | igxNotGrouped" [igxForScrollContainer]="grid.parentVirtDir" [igxForScrollOrientation]="\'horizontal\'" [igxForContainerSize]=\'grid.unpinnedWidth\' [igxForSizePropName]=\'"calcPixelWidth"\' [igxForTrackBy]=\'grid.trackColumnChanges\' #igxDirRef>\n        <igx-grid-cell\n            class="igx-grid__td igx-grid__td--fw"\n            [class.igx-grid__td--number]="col.dataType === \'number\'"\n            [ngClass]="col.cellClasses | igxCellStyles:rowData[col.field]:rowData:col.field"\n            [editMode]="col.editable && crudService.isInEditMode(index, col.index)"\n            [column]="col"\n            [formatter]="col.formatter"\n            [row]="this"\n            [style.min-height.px]="grid.rowHeight || 32"\n            [rowData]="rowData"\n            [style.min-width.px]="col.width"\n            [style.flex-basis.px]="col.width"\n            [width]="col.getCellWidth()"\n            [visibleColumnIndex]="col.visibleIndex"\n            [value]="rowData[col.field]"\n            [cellTemplate]="col.bodyTemplate">\n        </igx-grid-cell>\n    </ng-template>\n</ng-container>\n\n<ng-container *ngIf="grid.hasColumnLayouts">\n    <ng-container *ngIf="pinnedColumns.length > 0">\n        <div *ngFor="let col of pinnedColumns | igxTopLevel" class="igx-grid__mrl-block"\n        [ngClass]="{\'igx-grid__td--pinned-last\': col.hasLastPinnedChildColumn}"\n        [ngStyle]="{\'grid-template-rows\':col.getGridTemplate(true, false),\n        \'grid-template-columns\':col.getGridTemplate(false, false),\n        \'z-index\': col.pinned ? 1 : null,\n        \'-ms-grid-rows\':col.getGridTemplate(true, true),\n        \'-ms-grid-columns\':col.getGridTemplate(false, true)}">\n            <igx-grid-cell *ngFor="let child of col.children"\n                class="igx-grid__td igx-grid__td--fw igx-grid__td--pinned"\n                [class.igx-grid__td--number]="child.dataType === \'number\'"\n                [ngClass]="child.cellClasses | igxCellStyles:rowData[child.field]:rowData:child.field"\n                [editMode]="child.editable && crudService.isInEditMode(index, child.index)"\n                [column]="child"\n                [formatter]="child.formatter"\n                [row]="this"\n                [style.min-height.px]="grid.rowHeight || 32"\n                [rowData]="rowData"\n                [visibleColumnIndex]="child.visibleIndex"\n                [value]="rowData[child.field]"\n                [cellTemplate]="child.bodyTemplate"></igx-grid-cell>\n        </div>\n    </ng-container>\n    <ng-template igxGridFor let-col [igxGridForOf]="unpinnedColumns | igxTopLevel" [igxForScrollContainer]="grid.parentVirtDir" let-colIndex="index" [igxForScrollOrientation]="\'horizontal\'" [igxForContainerSize]=\'grid.unpinnedWidth\' [igxForSizePropName]=\'"calcPixelWidth"\' [igxForTrackBy]=\'grid.trackColumnChanges\' #igxDirRef>\n        <div class="igx-grid__mrl-block"\n        [ngStyle]="{\'grid-template-rows\':col.getGridTemplate(true, false),\n     \'grid-template-columns\':col.getGridTemplate(false, false),\n     \'-ms-grid-rows\':col.getGridTemplate(true, true),\n     \'-ms-grid-columns\':col.getGridTemplate(false, true)}">\n            <igx-grid-cell *ngFor="let child of col.children"\n                class="igx-grid__td igx-grid__td--fw"\n                [class.igx-grid__td--number]="child.dataType === \'number\'"\n                [ngClass]="child.cellClasses | igxCellStyles:rowData[child.field]:rowData:child.field"\n                [editMode]="child.editable && crudService.isInEditMode(index, child.index)"\n                [column]="child"\n                [formatter]="child.formatter"\n                [row]="this"\n                [style.min-height.px]="grid.rowHeight || 32"\n                [rowData]="rowData"\n                [visibleColumnIndex]="child.visibleIndex"\n                [value]="rowData[child.field]"\n                [cellTemplate]="child.bodyTemplate"></igx-grid-cell>\n        </div>\n    </ng-template>\n</ng-container>\n',providers:[{provide:wl,useExisting:b.forwardRef(function(){return e})}]}]}],e.ctorParameters=function(){return[{type:_i},{type:xl},{type:bl},{type:$n},{type:b.ElementRef},{type:b.ChangeDetectorRef}]},e.propDecorators={hasColumnLayouts:[{type:b.HostBinding,args:["class.igx-grid__tr--mrl"]}]},e}(wl),Zp=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,i,n,r,o,s){return e&&t&&i!==Kc.rootLevelOnly?this.addSummaryRows(r,e,n):e},e.prototype.addSummaryRows=function(e,t,i){for(var n=[],r=new Map,o=this.gridAPI.grid,s=o.summaryService.calcMaxSummaryHeight(),a=0;a<t.length;a++){var l=t[a];n.push(l);var c=void 0,p=null;if(c=o.isGroupByRecord(l)?(p=l,this.gridAPI.get_groupBy_record_id(p)):this.gridAPI.get_row_id(l),i===Uc.bottom&&r.has(c))for(var u=r.get(c),d=0;d<u.length;d++){var h=u[d],g=this.gridAPI.get_groupBy_record_id(h),f=this.removeDeletedRecord(o,h.records.slice()),m={summaries:o.summaryService.calculateSummaries(g,f),max:s};n.push(m)}if(null!==p&&o.isExpandedGroup(p))if(i===Uc.top){f=this.removeDeletedRecord(o,p.records.slice()),m={summaries:o.summaryService.calculateSummaries(c,f),max:s};n.push(m)}else if(i===Uc.bottom){for(var y=p;y.groups&&0<y.groups.length&&o.isExpandedGroup(y);)y=y.groups[y.groups.length-1];var v=void 0;v=o.isExpandedGroup(y)?this.gridAPI.get_row_id(y.records[y.records.length-1]):this.gridAPI.get_groupBy_record_id(y),(u=r.get(v))||(u=[],r.set(v,u)),u.unshift(p)}}return n},e.prototype.removeDeletedRecord=function(i,n){return i.transactions.enabled&&i.transactions.getTransactionLog().filter(function(e){return"delete"===e.type}).map(function(e){return e.id}).forEach(function(e){var t=(i.primaryKey?n.map(function(e){return e[i.primaryKey]}):n).indexOf(e);-1!==t&&n.splice(t,1)}),n},e.decorators=[{type:b.Pipe,args:[{name:"gridSummary",pure:!0}]}],e.ctorParameters=function(){return[{type:_i}]},e}(),Jp=function(){function e(){}return e.forRoot=function(){return{ngModule:e}},e.decorators=[{type:b.NgModule,args:[{declarations:[Wp,qp,oc,Hp,Bp,Kp,$p,Yp,Up,Xp,Zp],exports:[Wp,oc,qp,Hp,Bp,Mp,Kp,$p,Yp,Up,Xp,Zp],imports:[r.CommonModule,o.FormsModule,Da,Mp]}]}],y([_n("IgxGridModule.forRoot method is deprecated. Use IgxGridModule instead."),C("design:type",Function),C("design:paramtypes",[]),C("design:returntype",void 0)],e,"forRoot",null),e}(),Qp=function(c){function e(){return null!==c&&c.apply(this,arguments)||this}return f(e,c),e.prototype.get_all_data=function(e){var t=this.grid,i=e?t.dataWithAddedInTransactionRows:t.flatData;return i||[]},e.prototype.get_summary_data=function(){var i=this.grid,n=i.processedRootRecords.filter(function(e){return e.isFilteredOutParent===undefined||!1===e.isFilteredOutParent}).map(function(e){return e.data});i.transactions.enabled&&i.transactions.getTransactionLog().filter(function(e){return e.type===wi.DELETE}).map(function(e){return e.id}).forEach(function(e){var t=(i.primaryKey?n.map(function(e){return e[i.primaryKey]}):n).indexOf(e);-1!==t&&n.splice(t,1)});return n},e.prototype.expand_row=function(e){var t=this.grid,i=t.expansionStates;i.set(e,!0),t.expansionStates=i,t.rowEditable&&t.endEdit(!0)},e.prototype.collapse_row=function(e){var t=this.grid,i=t.expansionStates;i.set(e,!1),t.expansionStates=i,t.rowEditable&&t.endEdit(!0)},e.prototype.toggle_row_expansion=function(e){var t=this.grid,i=t.expansionStates,n=t.records.get(e);if(n){var r=this.get_row_expansion_state(n);i.set(e,!r),t.expansionStates=i}t.rowEditable&&t.endEdit(!0)},e.prototype.trigger_row_expansion_toggle=function(e,t,i,n){var r=this,o=this.grid;if(e.expanded!==t&&(e.children&&e.children.length||o.loadChildrenOnDemand&&(!o.hasChildrenKey||e.data[o.hasChildrenKey]))){var s={rowID:e.rowID,expanded:t,event:i,cancel:!1};if(o.onRowToggle.emit(s),!s.cancel){n=n||0;var a=o.expansionStates;a.set(e.rowID,t),o.expansionStates=a,o.rowEditable&&o.endEdit(!0),requestAnimationFrame(function(){var e=r.grid.selectionService.activeElement;if(e){var t=r.get_cell_by_visible_index(e.row,e.column);t&&t.nativeElement.focus()}})}}},e.prototype.expand_path_to_record=function(e){for(var t=this.grid,i=t.expansionStates;e.parent;){e=e.parent,this.get_row_expansion_state(e)||i.set(e.rowID,!0)}t.expansionStates=i,t.rowEditable&&t.endEdit(!0)},e.prototype.get_row_expansion_state=function(e){var t=this.grid,i=t.expansionStates.get(e.rowID);return i!==undefined?i:e.children&&e.children.length&&e.level<t.expansionDepth},e.prototype.update_row_in_array=function(e,t,i){var n=this.grid;if(n.primaryKey&&n.foreignKey)c.prototype.update_row_in_array.call(this,e,t,i);else{var r=n.records.get(t),o=r.parent?r.parent.data[n.childDataKey]:n.data;i=n.primaryKey?o.map(function(e){return e[n.primaryKey]}).indexOf(t):o.indexOf(t),o[i]=e}},e.prototype.should_apply_number_style=function(e){return e.dataType===Pi.Number&&0!==e.visibleIndex},e.prototype.deleteRowById=function(e){var t=this.grid,i=t.primaryKey&&t.foreignKey&&t.cascadeOnDelete&&t.transactions.enabled;i&&t.transactions.startPending(),c.prototype.deleteRowById.call(this,e),i&&t.transactions.endPending(!0)},e.prototype.deleteRowFromData=function(e,t){var i=this.grid,n=i.records.get(e);if(i.primaryKey&&i.foreignKey){if(t=i.primaryKey?i.data.map(function(e){return e[i.primaryKey]}).indexOf(e):i.data.indexOf(e),c.prototype.deleteRowFromData.call(this,e,t),i.cascadeOnDelete&&n&&n.children&&0<n.children.length)for(var r=0;r<n.children.length;r++){var o=n.children[r];c.prototype.deleteRowById.call(this,o.rowID)}}else{var s=n.parent?n.parent.data[i.childDataKey]:i.data;t=i.primaryKey?s.map(function(e){return e[i.primaryKey]}).indexOf(e):s.indexOf(e);var a=[];if(this.get_selected_children(n,a),0<a.length&&i.deselectRows(a),i.transactions.enabled){var l=i.generateRowPath(e);i.transactions.add({id:e,type:wi.DELETE,newValue:null,path:l},s[t])}else s.splice(t,1)}},e.prototype.updateData=function(e,t,i,n,r){if(e.transactions.enabled){var o=e.generateRowPath(t),s={id:t,type:wi.UPDATE,newValue:r,path:o};e.transactions.add(s,n)}else ii(i,r)},e.prototype.get_selected_children=function(e,t){var i,n,r=this.grid;if(e.children&&0!==e.children.length)try{for(var o=S(e.children),s=o.next();!s.done;s=o.next()){var a=s.value;r.selection.is_item_selected(r.id,a.rowID)&&t.push(a.rowID),this.get_selected_children(a,t)}}catch(l){i={error:l}}finally{try{s&&!s.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}},e.prototype.row_deleted_transaction=function(e){return this.row_deleted_parent(e)||c.prototype.row_deleted_transaction.call(this,e)},e.prototype.row_deleted_parent=function(e){var t=this.grid;if(!t)return!1;if(t.cascadeOnDelete&&t.foreignKey||t.childDataKey)for(var i=t.records.get(e);i;){var n=t.transactions.getState(i.rowID);if(n&&n.type===wi.DELETE)return!0;i=i.parent}return!1},e}(_i),eu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.getCellSelector=function(e,t){return void 0===t&&(t=!1),t?"igx-grid-summary-cell":0===e?"igx-tree-grid-cell":"igx-grid-cell"},t.prototype.getRowSelector=function(){return"igx-tree-grid-row"},t}(lc),tu=function(){function e(e){this.template=e}return e.decorators=[{type:b.Directive,args:[{selector:"[igxRowLoadingIndicator]"}]}],e.ctorParameters=function(){return[{type:b.TemplateRef}]},e}(),iu=0,nu=function(x){function e(e,t,i,n,r,o,s,a,l,c,p,u,d,h,g,f,m,y){var v=x.call(this,e,t,n,r,o,s,a,l,c,p,u,d,h,g,f,m,y)||this;return v.colResizingService=i,v._transactions=o,v.document=l,v.overlayService=f,v._displayDensityOptions=y,v._id="igx-tree-grid-"+iu++,v.records=new Map,v.processedRecords=new Map,v.cascadeOnDelete=!0,v._expansionDepth=Infinity,v._expansionStates=new Map,v.dragIndicatorIconTemplate=null,v.onRowToggle=new b.EventEmitter,v.loadingRows=new Set,v._filteredData=null,v._gridAPI=n,v}return f(e,x),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},set:function(e){this._id=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,this.summaryService.clearSummaryCache(),this.shouldGenerate&&(this.setupColumns(),this.reflow()),this.cdr.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filteredData",{get:function(){return this._filteredData},set:function(e){this._filteredData=e,this.rowSelectable&&this.updateHeaderCheckboxStatusOnFilter(this._filteredData)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transactions",{get:function(){return this._transactions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"expansionDepth",{get:function(){return this._expansionDepth},set:function(e){this._expansionDepth=e,this.cdr.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"expansionStates",{get:function(){return this._expansionStates},set:function(e){this._expansionStates=this.cloneMap(e),this.cdr.detectChanges()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowLoadingIndicatorTemplate",{get:function(){return this._rowLoadingIndicatorTemplate},set:function(e){this._rowLoadingIndicatorTemplate=e,this.cdr.markForCheck()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var t=this;x.prototype.ngOnInit.call(this),this.onRowToggle.pipe(p.takeUntil(this.destroy$)).subscribe(function(e){t.loadChildrenOnRowExpansion(e)})},e.prototype.ngAfterContentInit=function(){this.rowLoadingTemplate&&(this._rowLoadingIndicatorTemplate=this.rowLoadingTemplate.template),x.prototype.ngAfterContentInit.call(this)},e.prototype.loadChildrenOnRowExpansion=function(e){var i=this;if(this.loadChildrenOnDemand){var t=e.rowID;e.expanded&&!this._expansionStates.has(t)&&(this.loadingRows.add(t),this.loadChildrenOnDemand(t,function(e){i.loadingRows["delete"](t),i.addChildRows(e,t),i.cdr.markForCheck(),requestAnimationFrame(function(){var e=i.selection.first_item(i.id+"-cell");if(e){var t=i._gridAPI.get_cell_by_index(e.rowIndex,e.columnID);t&&t.nativeElement.focus()}})}))}},e.prototype.addChildRows=function(e,t){var i,n,r,o=this;if(this.primaryKey&&this.foreignKey){try{for(var s=S(e),a=s.next();!a.done;a=s.next()){a.value[this.foreignKey]=t}}catch(m){i={error:m}}finally{try{a&&!a.done&&(n=s["return"])&&n.call(s)}finally{if(i)throw i.error}}(r=this.data).push.apply(r,_(e))}else if(this.childDataKey){var l=this.records.get(t),c=l.data;if(this.transactions.enabled&&this.transactions.getAggregatedChanges(!0).length){for(var p=[];l;)p.push(l.rowID),l=l.parent;for(var u=this.data,d=void 0,h=function(e){var t=p[e];if(!(d=u.find(function(e){return e[o.primaryKey]===t})))return"break";u=d[g.childDataKey]},g=this,f=p.length-1;0<=f;f--){if("break"===h(f))break}d&&(c=d)}c[this.childDataKey]=e}this._pipeTrigger++},e.prototype.cloneMap=function(e){var n=new Map;return e.forEach(function(e,t,i){n.set(t,e)}),n},e.prototype.expandRow=function(e){this._gridAPI.expand_row(e)},e.prototype.collapseRow=function(e){this._gridAPI.collapse_row(e)},e.prototype.toggleRow=function(e){this._gridAPI.toggle_row_expansion(e)},e.prototype.expandAll=function(){this._expansionDepth=Infinity,this.expansionStates=new Map},e.prototype.collapseAll=function(){this._expansionDepth=0,this.expansionStates=new Map},e.prototype.addRow=function(e,t){if(t){var i=this.records.get(t);if(!i)throw Error("Invalid parent row ID!");if(this.summaryService.clearSummaryCache({rowID:i.rowID}),this.primaryKey&&this.foreignKey)e[this.foreignKey]=t,x.prototype.addRow.call(this,e);else{var n=i.data,r=this.childDataKey;if(this.transactions.enabled){var o=this.primaryKey?e[this.primaryKey]:e,s=[];s.push.apply(s,_(this.generateRowPath(t))),s.push(t),this.transactions.add({id:o,path:s,newValue:e,type:wi.ADD},null)}else n[r]||(n[r]=[]),n[r].push(e);this.onRowAdded.emit({data:e}),this._pipeTrigger++,this.cdr.markForCheck()}}else{if(this.primaryKey&&this.foreignKey){var a=e[this.foreignKey];this.summaryService.clearSummaryCache({rowID:a})}x.prototype.addRow.call(this,e)}},e.prototype.deleteRowById=function(e){this._gridAPI.deleteRowById(e)},e.prototype.generateRowPath=function(e){for(var t=[],i=this.records.get(e);i.parent;)t.push(i.parent.rowID),i=i.parent;return t.reverse()},e.prototype.getDataBasedBodyHeight=function(){return!this.flatData||this.flatData.length<this._defaultTargetRecordNumber?0:this.defaultTargetBodyHeight},e.prototype.scrollTo=function(e,t){var i,n=this,r=!1;if("number"!=typeof e){var o=e,s=this._gridAPI.get_row_id(o);if(i=this.processedRecords.get(s),this._gridAPI.expand_path_to_record(i),this.paging){var a=this.processedExpandedFlatData.indexOf(o),l=Math.floor(a/this.perPage);this.page!==l&&(r=!0,this.page=l)}}r?this.verticalScrollContainer.onDataChanged.pipe(p.first()).subscribe(function(){n.scrollDirective(n.verticalScrollContainer,"number"==typeof e?e:n.verticalScrollContainer.igxForOf.indexOf(i))}):this.scrollDirective(this.verticalScrollContainer,"number"==typeof e?e:this.verticalScrollContainer.igxForOf.indexOf(i)),this.scrollToHorizontally(t)},e.prototype.getContext=function(e,t){return{$implicit:e,index:t,templateID:this.isSummaryRow(e)?"summaryRow":"dataRow"}},e.prototype.getSelectedData=function(){var t=[];return this.verticalScrollContainer.igxForOf.forEach(function(e){e.summaries?t.push(null):t.push(e.data)}),this.extractDataFromSelection(t)},Object.defineProperty(e.prototype,"template",{get:function(){return this.filteredData&&0===this.filteredData.length?this.emptyGridTemplate?this.emptyGridTemplate:this.emptyFilteredGridTemplate:!this.isLoading||this.data&&0!==this.dataLength?0===this.dataLength?this.emptyGridTemplate?this.emptyGridTemplate:this.emptyGridDefaultTemplate:void 0:this.loadingGridTemplate?this.loadingGridTemplate:this.loadingGridDefaultTemplate},enumerable:!0,configurable:!0}),e.prototype.writeToData=function(e,t){ii(this.flatData[e],t)},e.prototype.initColumns=function(e,t){if(void 0===t&&(t=null),this.hasColumnLayouts){var i=this.columnList.filter(function(e){return!e.columnLayout&&!e.columnLayoutChild});this.columnList.reset(i)}x.prototype.initColumns.call(this,e,t)},e.decorators=[{type:b.Component,args:[{changeDetection:b.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-tree-grid",template:'<igx-grid-toolbar role="rowgroup" [style.width.px]=\'outerWidth\' *ngIf="showToolbar" [gridID]="id" [displayDensity]="displayDensity" #toolbar>\n</igx-grid-toolbar>\n\n<ng-template #defaultPager let-api>\n    <button [disabled]="api.isFirstPage" (click)="api.paginate(0)" igxButton="icon" igxRipple igxRippleCentered="true">\n        <igx-icon fontSet="material">first_page</igx-icon>\n    </button>\n    <button [disabled]="api.isFirstPage" (click)="api.previousPage()" igxButton="icon" igxRipple igxRippleCentered="true">\n        <igx-icon fontSet="material">chevron_left</igx-icon>\n    </button>\n    <span>{{ api.page + 1 }} of {{ api.totalPages }}</span>\n    <button [disabled]="api.isLastPage" (click)="api.nextPage()" igxRipple igxRippleCentered="true" igxButton="icon">\n        <igx-icon fontSet="material">chevron_right</igx-icon>\n    </button>\n        <button [disabled]="api.isLastPage" (click)="api.paginate(api.totalPages - 1)" igxButton="icon" igxRipple igxRippleCentered="true">\n        <igx-icon fontSet="material">last_page</igx-icon>\n    </button>\n    <select style="margin-left: 1rem;" (change)="api.perPage = $event.target.value">\n            <option [value]="val" [selected]="api.perPage == val" *ngFor="let val of [5, 10, 15, 25, 50, 100, 500]">{{ val }}</option>\n    </select>\n</ng-template>\n\n<div class="igx-grid__thead">\n    <div class="igx-grid__thead-wrapper" role="rowgroup" [style.width.px]=\'calcWidth + 1\' #theadRow>\n        <div class="igx-grid__tr" [style.width.px]=\'calcWidth + 1\' role="row">\n            <span *ngIf="hasMovableColumns && draggedColumn && pinnedColumns.length <= 0" [igxColumnMovingDrop]="parentVirtDir" [attr.droppable]="true" id="left" class="igx-grid__scroll-on-drag-left" [style.left.px]="featureColumnsWidth"></span>\n            <span *ngIf="hasMovableColumns && draggedColumn && pinnedColumns.length > 0" [igxColumnMovingDrop]="parentVirtDir" [attr.droppable]="true" id="left" class="igx-grid__scroll-on-drag-pinned" [style.left.px]="pinnedWidth"></span>\n            <ng-container *ngIf="rowDraggable">\n                <div class="igx-grid__drag-indicator" #headerDragContainer>\n                        <div style="visibility: hidden;">\n                                <ng-container *ngTemplateOutlet="this.dragIndicatorIconTemplate ? this.dragIndicatorIconTemplate : this.dragIndicatorIconBase"></ng-container>\n                            </div>\n                </div>\n            </ng-container>\n            <ng-container *ngIf="rowSelectable">\n                <div class="igx-grid__cbx-selection" #headerCheckboxContainer  [ngClass]="{\n                    \'igx-grid__cbx-selection--push\': filteringService.isFilterRowVisible\n                }">\n                    <igx-checkbox [checked]="allRowsSelected" (change)="onHeaderCheckboxClick($event, filteredData)" disableRipple="true" [aria-label]="headerCheckboxAriaLabel" #headerCheckbox></igx-checkbox>\n                </div>\n            </ng-container>\n            <ng-container *ngIf="pinnedColumns.length > 0">\n                <ng-template ngFor let-col [ngForOf]="pinnedColumns | igxTopLevel">\n                    <igx-grid-header-group [column]="col" [gridID]="id" [style.min-width.px]="getHeaderGroupWidth(col)" [style.flex-basis.px]="getHeaderGroupWidth(col)"></igx-grid-header-group>\n                </ng-template>\n            </ng-container>\n            <ng-template igxGridFor let-col [igxGridForOf]="unpinnedColumns | igxTopLevel" [igxForScrollOrientation]="\'horizontal\'" [igxForScrollContainer]="parentVirtDir"\n                [igxForContainerSize]=\'unpinnedWidth\' [igxForTrackBy]=\'trackColumnChanges\' [igxForSizePropName]="\'calcPixelWidth\'" #headerContainer>\n                <igx-grid-header-group [column]="col" [gridID]="id" [style.min-width.px]="getHeaderGroupWidth(col)" [style.flex-basis.px]="getHeaderGroupWidth(col)"></igx-grid-header-group>\n            </ng-template>\n    </div>\n    <igx-grid-filtering-row #filteringRow *ngIf="filteringService.isFilterRowVisible" [column]="filteringService.filteredColumn"></igx-grid-filtering-row>\n</div>\n    <div class="igx-grid__thead-thumb" [hidden]=\'!hasVerticalSroll()\' [style.width.px]="scrollWidth"></div>\n    <span *ngIf="hasMovableColumns && draggedColumn" [igxColumnMovingDrop]="parentVirtDir" [attr.droppable]="true" id="right" class="igx-grid__scroll-on-drag-right"></span>\n</div>\n\n<div igxGridBody class="igx-grid__tbody">\n    <div class="igx-grid__tbody-content" role="rowgroup" (onDragStop)="selectionService.dragMode = $event" (onDragScroll)="dragScroll($event)" [igxGridDragSelect]="selectionService.dragMode" [style.height.px]=\'calcHeight\' [style.width.px]=\'calcWidth\' #tbody (scroll)=\'scrollHandler($event)\' (wheel)="wheelHandler()">\n        <span *ngIf="hasMovableColumns && draggedColumn && pinnedColumns.length <= 0" [igxColumnMovingDrop]="parentVirtDir" [attr.droppable]="true" id="left" class="igx-grid__scroll-on-drag-left"></span>\n        <span *ngIf="hasMovableColumns && draggedColumn && pinnedColumns.length > 0" [igxColumnMovingDrop]="parentVirtDir" [attr.droppable]="true" id="left" class="igx-grid__scroll-on-drag-pinned" [style.left.px]="pinnedWidth"></span>\n        <ng-template igxGridFor let-rowData [igxGridForOf]="data\n        | treeGridTransaction:id:pipeTrigger\n        | treeGridHierarchizing:primaryKey:foreignKey:childDataKey:id:pipeTrigger\n        | treeGridFiltering:filteringExpressionsTree:id:pipeTrigger\n        | treeGridSorting:sortingExpressions:id:pipeTrigger\n        | treeGridFlattening:id:expansionDepth:expansionStates:pipeTrigger\n        | treeGridPaging:page:perPage:id:pipeTrigger\n        | treeGridSummary:hasSummarizedColumns:summaryCalculationMode:summaryPosition:id:pipeTrigger:summaryPipeTrigger"\n        let-rowIndex="index" [igxForScrollOrientation]="\'vertical\'"  [igxForScrollContainer]=\'verticalScroll\'\n        [igxForContainerSize]=\'calcHeight\' [igxForItemSize]="renderedRowHeight" #verticalScrollContainer (onChunkPreload)="dataLoading($event)">\n            <ng-template #record_template>\n                <igx-tree-grid-row [gridID]="id" [index]="rowIndex" [treeRow]="rowData" #row>\n                </igx-tree-grid-row>\n            </ng-template>\n            <ng-template #summary_template>\n                <igx-grid-summary-row [gridID]="id" [summaries]="rowData.summaries" [firstCellIndentation]="rowData.cellIndentation" [index]="rowIndex" class="igx-grid__summaries--body" #summaryRow>\n                </igx-grid-summary-row>\n            </ng-template>\n\n            <ng-template [igxTemplateOutlet]=\'isSummaryRow(rowData) ? summary_template : record_template\'\n                [igxTemplateOutletContext]=\'getContext(rowData, rowIndex)\'\n                (onCachedViewLoaded)=\'cachedViewLoaded($event)\'>\n            </ng-template>\n        </ng-template>\n        <ng-container *ngTemplateOutlet="template"></ng-container>\n        <div class="igx-grid__row-editing-outlet" igxOverlayOutlet #igxRowEditingOverlayOutlet></div>\n    </div>\n    <span *ngIf="hasMovableColumns && draggedColumn" [igxColumnMovingDrop]="parentVirtDir" [attr.droppable]="true" id="right" class="igx-grid__scroll-on-drag-right"></span>\n    <div [hidden]=\'!hasVerticalSroll()\' class="igx-grid__tbody-scrollbar" [style.width.px]="scrollWidth" [style.height.px]=\'calcHeight\'>\n        <ng-template igxGridFor [igxGridForOf]=\'[]\' #verticalScrollHolder></ng-template>\n    </div>\n</div>\n\n<div class="igx-grid__tfoot"  [style.width.px]=\'outerWidth\' role="rowgroup" [style.height.px]=\'summariesHeight\' #tfoot>\n    <igx-grid-summary-row [style.width.px]=\'calcWidth\' [style.height.px]=\'summariesHeight\' *ngIf="hasSummarizedColumns && rootSummariesEnabled" [gridID]="id" [summaries]="id | igxGridSummaryDataPipe:summaryService.retriggerRootPipe" [index]="0" class="igx-grid__summaries"  #summaryRow>\n    </igx-grid-summary-row>\n    <div class="igx-grid__tfoot-thumb" [hidden]=\'!hasVerticalSroll()\' [style.height.px]=\'summariesHeight\' [style.width.px]="scrollWidth"></div>\n</div>\n\n<div class="igx-grid__scroll" [style.height]="\'18px\'" #scr [hidden]="unpinnedWidth - totalWidth >= 0">\n    <div class="igx-grid__scroll-start" [style.width.px]=\'pinnedWidth\' [hidden]="pinnedWidth === 0"></div>\n    <div class="igx-grid__scroll-main" [style.width.px]=\'unpinnedWidth\'>\n        <ng-template igxGridFor [igxGridForOf]=\'[]\' #scrollContainer>\n        </ng-template>\n    </div>\n</div>\n\n<div class="igx-paginator igx-grid-paginator" *ngIf="paging && totalRecords" #paginator>\n    <ng-container *ngTemplateOutlet="paginationTemplate ? paginationTemplate : defaultPager; context: { $implicit: this }">\n    </ng-container>\n</div>\n\n<ng-template #emptyFilteredGrid>\n    <span class="igx-grid__tbody-message">{{emptyFilteredGridMessage}}</span>\n</ng-template>\n\n<ng-template #defaultEmptyGrid>\n    <span class="igx-grid__tbody-message">{{emptyGridMessage}}</span>\n</ng-template>\n\n<ng-template #defaultLoadingGrid>\n    <div class="igx-grid__loading">\n        <igx-circular-bar [indeterminate]="true">\n        </igx-circular-bar>\n    </div>\n</ng-template>\n\n<div *ngIf="rowEditable" igxToggle>\n    <div [className]="bannerClass">\n        <ng-container *ngTemplateOutlet="rowEditContainer; context: { rowChangesCount: rowChangesCount, endEdit: endEdit.bind(this) }"></ng-container>\n    </div>\n</div>\n\n<ng-template #defaultRowEditTemplate >\n    <div class="igx-banner__message">\n        <span class="igx-banner__text">You have {{ rowChangesCount }} changes in this row</span>\n    </div>\n    <div class="igx-banner__actions">\n        <div class="igx-banner__row">\n            <button igxButton igxRowEditTabStop (click)="endEdit(false, $event)">Cancel</button>\n            <button igxButton igxRowEditTabStop (click)="endEdit(true, $event)">Done</button>\n        </div>\n    </div>\n</ng-template>\n\n<ng-template #dragIndicatorIconBase>\n        <igx-icon fontSet="material">drag_indicator</igx-icon>\n    </ng-template>\n\n<igx-grid-column-resizer *ngIf="colResizingService.showResizer"></igx-grid-column-resizer>\n<div class="igx-grid__outlet" #igxFilteringOverlayOutlet igxOverlayOutlet></div>\n',providers:[bl,xl,eu,Ac,{provide:_i,useClass:Qp},{provide:Xc,useExisting:b.forwardRef(function(){return e})},mc,pr]}]}],e.ctorParameters=function(){return[{type:bl},{type:xl},{type:El},{type:_i},{type:$n},{type:Vn,decorators:[{type:b.Inject,args:[Wc]}]},{type:b.ElementRef},{type:b.NgZone},{type:undefined,decorators:[{type:b.Inject,args:[r.DOCUMENT]}]},{type:b.ChangeDetectorRef},{type:b.ComponentFactoryResolver},{type:b.IterableDiffers},{type:b.ViewContainerRef},{type:eu},{type:mc},{type:En,decorators:[{type:b.Inject,args:[En]}]},{type:Ac},{type:undefined,decorators:[{type:b.Optional},{type:b.Inject,args:[tr]}]}]},e.propDecorators={id:[{type:b.HostBinding,args:["attr.id"]},{type:b.Input}],data:[{type:b.Input}],childDataKey:[{type:b.Input}],foreignKey:[{type:b.Input}],hasChildrenKey:[{type:b.Input}],cascadeOnDelete:[{type:b.Input}],expansionDepth:[{type:b.Input}],expansionStates:[{type:b.Input}],rowLoadingTemplate:[{type:b.ContentChild,args:[tu,{read:tu}]}],dragIndicatorIconTemplate:[{type:b.ContentChild,args:[Ap,{read:b.TemplateRef}]}],rowLoadingIndicatorTemplate:[{type:b.Input}],loadChildrenOnDemand:[{type:b.Input}],onRowToggle:[{type:b.Output}],dragIndicatorIconBase:[{type:b.ViewChild,args:["dragIndicatorIconBase",{read:b.TemplateRef}]}]},e}(Xc),ru=function(a){function e(e,t,i,n,r,o){var s=a.call(this,e,t,i,n,r,o)||this;return s.gridAPI=e,s.crudService=t,s.selectionService=i,s.element=r,s.cdr=o,s}return f(e,a),Object.defineProperty(e.prototype,"treeRow",{get:function(){return this._treeRow},set:function(e){this._treeRow!==e&&(this._treeRow=e,this.rowData=this._treeRow.data)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"expanded",{get:function(){return this._treeRow.expanded},set:function(e){this.gridAPI.trigger_row_expansion_toggle(this._treeRow,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showIndicator",{get:function(){return this.grid.loadChildrenOnDemand?this.grid.expansionStates.has(this.rowID)?this.treeRow.children&&this.treeRow.children.length:!this.grid.hasChildrenKey||this.rowData[this.grid.hasChildrenKey]:this.treeRow.children&&this.treeRow.children.length},enumerable:!0,configurable:!0}),e.prototype.resolveClasses=function(){return a.prototype.resolveClasses.call(this)+" "+(this.treeRow.isFilteredOutParent?"igx-grid__tr--filtered":"")},e.prototype.ngDoCheck=function(){this.isLoading=!!this.grid.loadChildrenOnDemand&&this.grid.loadingRows.has(this.rowID),a.prototype.ngDoCheck.call(this)},e.decorators=[{type:b.Component,args:[{selector:"igx-tree-grid-row",template:'<ng-container *ngIf="rowDraggable">\n    <div [class]="resolveDragIndicatorClasses" [igxRowDrag]="this">\n        <ng-container *ngTemplateOutlet="this.grid.dragIndicatorIconTemplate ? this.grid.dragIndicatorIconTemplate : this.grid.dragIndicatorIconBase"></ng-container>\n    </div>\n</ng-container>\n<ng-container *ngIf="rowSelectable">\n    <div class="igx-grid__cbx-selection">\n        <igx-checkbox [checked]="isSelected" [disabled]="deleted" (change)="onCheckboxClick($event)" disableRipple="true" [disableTransitions]="grid.disableTransitions" [aria-label]="rowCheckboxAriaLabel"></igx-checkbox>\n    </div>\n</ng-container>\n<ng-container *ngIf="pinnedColumns.length > 0">\n    <ng-template ngFor let-col [ngForOf]="pinnedColumns | igxNotGrouped">\n        <ng-template #cellTemplate>\n            <igx-grid-cell\n                class="igx-grid__td igx-grid__td--fw igx-grid__td--pinned"\n                [class.igx-grid__td--number]="col.dataType === \'number\'"\n                [ngClass]="col.cellClasses | igxCellStyles:rowData[col.field]:rowData:col.field"\n                [editMode]="col.editable && crudService.isInEditMode(index, col.index)"\n                [column]="col"\n                [formatter]="col.formatter"\n                [row]="this"\n                [lastPinned]="col.isLastPinned"\n                [style.min-height.px]="grid.rowHeight || 32"\n                [rowData]="rowData"\n                [style.min-width.px]="col.width"\n                [style.flex-basis.px]="col.width"\n                [width]="col.getCellWidth()"\n                [visibleColumnIndex]="col.visibleIndex"\n                [value]="rowData[col.field]"\n                [cellTemplate]="col.bodyTemplate" #treeCell>\n            </igx-grid-cell>\n            </ng-template>\n        <ng-template #treeCellTemplate>\n            <igx-tree-grid-cell\n                class="igx-grid__td igx-grid__td--fw igx-grid__td--tree-cell igx-grid__td--pinned"\n                [class.igx-grid__td--number]="col.dataType === \'number\' && col.visibleIndex !== 0"\n                [ngClass]="col.cellClasses | igxCellStyles:rowData[col.field]:rowData:col.field"\n                [level]="treeRow.level"\n                [expanded]="treeRow.expanded"\n                [showIndicator]="showIndicator"\n                [editMode]="col.editable && crudService.isInEditMode(index, col.index)"\n                [column]="col"\n                [formatter]="col.formatter"\n                [row]="this"\n                [lastPinned]="col.isLastPinned"\n                [style.min-height.px]="grid.rowHeight || 32"\n                [rowData]="rowData"\n                [style.min-width.px]="col.width"\n                [style.flex-basis.px]="col.width"\n                [width]="col.getCellWidth()"\n                [visibleColumnIndex]="col.visibleIndex"\n                [value]="rowData[col.field]"\n                [isLoading]="isLoading"\n                [cellTemplate]="col.bodyTemplate" #treeCell>\n            </igx-tree-grid-cell>\n        </ng-template>\n        <ng-container *ngTemplateOutlet="col.visibleIndex === 0 ? treeCellTemplate : cellTemplate"></ng-container>\n    </ng-template>\n</ng-container>\n<ng-template igxGridFor let-col [igxGridForOf]="unpinnedColumns | igxNotGrouped" [igxForScrollContainer]="grid.parentVirtDir" let-colIndex="index" [igxForScrollOrientation]="\'horizontal\'" [igxForContainerSize]=\'grid.unpinnedWidth\' [igxForSizePropName]="\'calcPixelWidth\'" [igxForTrackBy]=\'grid.trackColumnChanges\' #igxDirRef>\n    <ng-template #cellTemplate>\n        <igx-grid-cell\n            class="igx-grid__td igx-grid__td--fw"\n            [class.igx-grid__td--number]="col.dataType === \'number\'"\n            [ngClass]="col.cellClasses | igxCellStyles:rowData[col.field]:rowData:col.field"\n            [editMode]="col.editable && crudService.isInEditMode(index, col.index)"\n            [column]="col"\n            [formatter]="col.formatter"\n            [row]="this"\n            [style.min-height.px]="grid.rowHeight || 32"\n            [rowData]="rowData"\n            [style.min-width.px]="col.width"\n            [style.flex-basis.px]="col.width"\n            [width]="col.getCellWidth()"\n            [visibleColumnIndex]="col.visibleIndex"\n            [value]="rowData[col.field]"\n            [cellTemplate]="col.bodyTemplate" #treeCell>\n        </igx-grid-cell>\n    </ng-template>\n    <ng-template #treeCellTemplate>\n        <igx-tree-grid-cell\n            class="igx-grid__td igx-grid__td--fw igx-grid__td--tree-cell"\n            [class.igx-grid__td--number]="col.dataType === \'number\' && col.visibleIndex !== 0"\n            [ngClass]="col.cellClasses | igxCellStyles:rowData[col.field]:rowData:col.field"\n            [level]="treeRow.level"\n            [expanded]="treeRow.expanded"\n            [showIndicator]="showIndicator"\n            [editMode]="col.editable && crudService.isInEditMode(index, col.index)"\n            [column]="col"\n            [formatter]="col.formatter"\n            [row]="this"\n            [style.min-height.px]="grid.rowHeight || 32"\n            [rowData]="rowData"\n            [style.min-width.px]="col.width"\n            [style.flex-basis.px]="col.width"\n            [width]="col.getCellWidth()"\n            [visibleColumnIndex]="col.visibleIndex"\n            [value]="rowData[col.field]"\n            [isLoading]="isLoading"\n            [cellTemplate]="col.bodyTemplate" #treeCell>\n        </igx-tree-grid-cell>\n    </ng-template>\n    <ng-container *ngTemplateOutlet="col.visibleIndex === 0 ? treeCellTemplate : cellTemplate"></ng-container>\n</ng-template>\n',providers:[{provide:wl,useExisting:b.forwardRef(function(){return e})}]}]}],e.ctorParameters=function(){return[{type:_i},{type:xl},{type:bl},{type:$n},{type:b.ElementRef},{type:b.ChangeDetectorRef}]},e.propDecorators={cells:[{type:b.ViewChildren,args:["treeCell"]}],treeRow:[{type:b.Input}],expanded:[{type:b.HostBinding,args:["attr.aria-expanded"]}]},e}(wl),ou=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,i,n,r,o){var s=this.gridAPI.grid,a=[],l=new Map,c=[];return t&&i?a=this.hierarchizeFlatData(r,e,t,i,l,c):n&&(a=this.hierarchizeRecursive(r,e,t,n,undefined,c,0,l)),s.flatData=c,s.records=l,s.rootRecords=a},e.prototype.getRowID=function(e,t){return e?t[e]:t},e.prototype.hierarchizeFlatData=function(e,t,n,r,o,i){var s=this,a=[],l=[];return t.forEach(function(e){var t={rowID:s.getRowID(n,e),data:e,children:[]},i=o.get(e[r]);i?(t.parent=i).children.push(t):l.push(t),o.set(e[n],t)}),l.forEach(function(e){var t=o.get(e.data[r]);t?(e.parent=t).children.push(e):a.push(e)}),this.setIndentationLevels(e,a,0,i),a},e.prototype.setIndentationLevels=function(e,t,i,n){for(var r=0;r<t.length;r++){var o=t[r];o.level=i,o.expanded=this.gridAPI.get_row_expansion_state(o),n.push(o.data),o.children&&0<o.children.length&&this.setIndentationLevels(e,o.children,i+1,n)}},e.prototype.hierarchizeRecursive=function(e,t,i,n,r,o,s,a){for(var l=[],c=0;c<t.length;c++){var p=t[c],u={rowID:this.getRowID(i,p),data:p,parent:r,level:s};u.expanded=this.gridAPI.get_row_expansion_state(u),o.push(p),a.set(u.rowID,u),u.children=p[n]?this.hierarchizeRecursive(e,p[n],i,n,u,o,s+1,a):undefined,l.push(u)}return l},e.decorators=[{type:b.Pipe,args:[{name:"treeGridHierarchizing",pure:!0}]}],e.ctorParameters=function(){return[{type:_i}]},e}(),su=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,i,n,r){var o=this.gridAPI.grid,s=[];return o.processedRootRecords=e,o.processedRecords=new Map,this.getFlatDataRecursive(e,s,i,n,t,!0),o.processedExpandedFlatData=s.map(function(e){return e.data}),s},e.prototype.getFlatDataRecursive=function(e,t,i,n,r,o){if(e&&e.length)for(var s=this.gridAPI.grid,a=0;a<e.length;a++){var l=e[a];o&&t.push(l),l.expanded=this.gridAPI.get_row_expansion_state(l),this.updateNonProcessedRecordExpansion(s,l),s.processedRecords.set(l.rowID,l),this.getFlatDataRecursive(l.children,t,i,n,r,o&&l.expanded)}},e.prototype.updateNonProcessedRecordExpansion=function(e,t){e.records.get(t.rowID).expanded=t.expanded},e.decorators=[{type:b.Pipe,args:[{name:"treeGridFlattening",pure:!0}]}],e.ctorParameters=function(){return[{type:_i}]},e}(),au=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,i,n){var r,o=this.gridAPI.grid;r=t.length?Ti.treeGridSort(e,t):e;var s=[];return this.flattenTreeGridRecords(r,s),o.filteredSortedData=s,r},e.prototype.flattenTreeGridRecords=function(e,t){var i,n;if(e&&e.length)try{for(var r=S(e),o=r.next();!o.done;o=r.next()){var s=o.value;t.push(s.data),this.flattenTreeGridRecords(s.children,t)}}catch(a){i={error:a}}finally{try{o&&!o.done&&(n=r["return"])&&n.call(r)}finally{if(i)throw i.error}}},e.decorators=[{type:b.Pipe,args:[{name:"treeGridSorting",pure:!0}]}],e.ctorParameters=function(){return[{type:_i}]},e}(),lu=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,i,n,r){void 0===t&&(t=0),void 0===i&&(i=15);var o=this.gridAPI.grid;if(!o.paging)return e;var s=e.length,a=Math.ceil(s/i),l={index:0<a&&a<=t?a-1:t,recordsPerPage:i},c=Ti.page(ti(e),l);return o.pagingState=l,o._page=l.index,c},e.decorators=[{type:b.Pipe,args:[{name:"treeGridPaging",pure:!0}]}],e.ctorParameters=function(){return[{type:_i}]},e}(),cu=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,i){var n=this.gridAPI.grid;if(e&&n.transactions.enabled){var r=n.transactions.getAggregatedChanges(!0);if(0<r.length){if(!n.primaryKey)return e;var o=n.foreignKey,s=n.childDataKey;if(o){var a=ti(e);return Ti.mergeTransactions(a,r,n.primaryKey)}if(s){var l=function p(e,t){var i,n,r=[];if(!e)return r;try{for(var o=S(e),s=o.next();!s.done;s=o.next()){var a=s.value,l=ni(a);Array.isArray(a[t])&&(l[t]=p(l[t],t)),r.push(l)}}catch(c){i={error:c}}finally{try{s&&!s.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return r}(e,s);return Ti.mergeHierarchicalTransactions(l,r,s,n.primaryKey)}}}return e},e.decorators=[{type:b.Pipe,args:[{name:"treeGridTransaction",pure:!0}]}],e.ctorParameters=function(){return[{type:_i}]},e}(),pu=function(c){function e(e,t,i,n,r,o,s,a){var l=c.call(this,e,t,i,n,r,o,s)||this;return l.zone=s,l.document=a,l.expanded=!1,l.level=0,l.showIndicator=!1,l.treeGridAPI=i,l}return f(e,c),e.prototype.ngOnInit=function(){c.prototype.ngOnInit.call(this)},e.prototype.toggle=function(e){e.stopPropagation(),this.treeGridAPI.trigger_row_expansion_toggle(this.row.treeRow,!this.row.expanded,e,this.visibleColumnIndex)},e.prototype.onIndicatorFocus=function(){this.gridAPI.submit_value(),this.nativeElement.focus()},e.prototype.onLoadingDblClick=function(e){e.stopPropagation()},e.prototype.calculateSizeToFit=function(t){var e=this.indicator.nativeElement.getBoundingClientRect().width,i=this.document.defaultView.getComputedStyle(this.indicator.nativeElement),n=parseFloat(i.marginRight),r=0;if(this.indentationDiv){var o=this.document.defaultView.getComputedStyle(this.indentationDiv.nativeElement);r=parseFloat(o.paddingLeft)}return Math.max.apply(Math,_(Array.from(this.nativeElement.children).map(function(e){return si(t,e)})))+e+n+r},e.decorators=[{type:b.Component,args:[{changeDetection:b.ChangeDetectionStrategy.OnPush,selector:"igx-tree-grid-cell",template:'<ng-template #defaultCell>\n    <div igxTextHighlight [cssClass]="highlightClass" [activeCssClass]="activeHighlightClass" [groupName]="gridID"\n        [value]="formatter ? formatter(value) : column.dataType === \'number\' ? (value | igxdecimal: grid.locale) : column.dataType === \'date\' ? (value | igxdate: grid.locale) : value"\n        [row]="rowData" [column]="this.column.field" [containerClass]="\'igx-grid__td-text\'"\n        class="igx-grid__td-text">{{ formatter ? formatter(value) : column.dataType === \'number\' ? (value | igxdecimal:\n        grid.locale) : column.dataType === \'date\' ? (value | igxdate: grid.locale) : value }}</div>\n</ng-template>\n<ng-template #inlineEditor  let-cell="cell">\n    <ng-container *ngIf="column.dataType === \'string\'">\n        <igx-input-group displayDensity="compact">\n            <input igxInput [(ngModel)]="editValue" [igxFocus]="focused">\n        </igx-input-group>\n    </ng-container>\n    <ng-container *ngIf="column.dataType === \'number\'"> \n        <igx-input-group displayDensity="compact">\n            <input igxInput [(ngModel)]="editValue" [igxFocus]="focused"  type="number">\n        </igx-input-group>\n    </ng-container>\n    <ng-container *ngIf="column.dataType === \'boolean\'">\n        <igx-checkbox (change)="editValue = $event.checked" [value]="editValue" [checked]="editValue" [disableRipple]="true"></igx-checkbox>\n    </ng-container>\n    <ng-container *ngIf="column.dataType === \'date\'">\n        <igx-date-picker [style.width.%]="100" [outlet]="grid.outletDirective" mode="dropdown" (onSelection)="editValue = $event"\n        [locale]="grid.locale" [value]="editValue" [igxFocus]="focused" [labelVisibility]="false">\n    </igx-date-picker>\n    </ng-container>\n</ng-template>\n<ng-container *ngIf="!inEditMode">\n    <ng-container *ngIf="level > 0">\n        <div #indentationDiv class="igx-grid__tree-cell--padding-level-{{level}}"></div>\n    </ng-container>\n    <div #indicator\n         *ngIf="!isLoading"\n         class="igx-grid__tree-grouping-indicator"\n         [ngStyle]="{\'visibility\': showIndicator ? \'visible\' : \'hidden\'}"\n         (click)="toggle($event)" (focus)="onIndicatorFocus()" tabindex="-1">\n        <igx-icon *ngIf="!expanded" fontSet="material">expand_more</igx-icon>\n        <igx-icon *ngIf="expanded" fontSet="material">expand_less</igx-icon>\n    </div>\n    <div *ngIf="isLoading"\n         (dblclick)="onLoadingDblClick($event)"\n         class="igx-grid__tree-loading-indicator">\n        <ng-container *ngTemplateOutlet="grid.rowLoadingIndicatorTemplate ? grid.rowLoadingIndicatorTemplate : defaultLoadingIndicatorTemplate">\n        </ng-container>\n    </div>\n    <ng-template #defaultLoadingIndicatorTemplate>\n        <igx-circular-bar [indeterminate]="true">\n        </igx-circular-bar>\n    </ng-template>\n</ng-container>\n<ng-container *ngTemplateOutlet="template; context: context">\n</ng-container>\n'}]}],e.ctorParameters=function(){return[{type:bl},{type:xl},{type:_i},{type:$n},{type:b.ChangeDetectorRef},{type:b.ElementRef},{type:b.NgZone},{type:undefined,decorators:[{type:b.Inject,args:[r.DOCUMENT]}]}]},e.propDecorators={expanded:[{type:b.Input}],level:[{type:b.Input}],showIndicator:[{type:b.Input}],indicator:[{type:b.ViewChild,args:["indicator",{read:b.ElementRef}]}],indentationDiv:[{type:b.ViewChild,args:["indentationDiv",{read:b.ElementRef}]}],defaultContentElement:[{type:b.ViewChild,args:["defaultContentElement",{read:b.ElementRef}]}],isLoading:[{type:b.Input}]},e}(Cl),uu=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,i,n,r,o,s){var a=this.gridAPI.grid;return e&&t&&i!==Kc.rootLevelOnly?this.addSummaryRows(a,e,n):e},e.prototype.addSummaryRows=function(e,t,i){for(var n=[],r=e.summaryService.calcMaxSummaryHeight(),o=0;o<t.length;o++){var s=t[o];n.push(s);var a=s.children&&0<s.children.length&&s.expanded;if(i!==Uc.bottom||a){if(i===Uc.top&&a){u=s.children.filter(function(e){return!e.isFilteredOutParent}).map(function(e){return e.data});u=this.removeDeletedRecord(e,s.rowID,u);d={summaries:e.summaryService.calculateSummaries(s.rowID,u),max:r,cellIndentation:s.level+1};n.push(d)}}else for(var l=s,c=s.parent;c;){var p=c.children;if(p[p.length-1]!==l)break;var u=p.filter(function(e){return!e.isFilteredOutParent}).map(function(e){return e.data});u=this.removeDeletedRecord(e,c.rowID,u);var d={summaries:e.summaryService.calculateSummaries(c.rowID,u),max:r,cellIndentation:c.level+1};n.push(d),c=(l=c).parent}}return n},e.prototype.removeDeletedRecord=function(i,e,n){if(!i.transactions.enabled||!i.cascadeOnDelete)return n;var t=i.transactions.getTransactionLog().filter(function(e){return"delete"===e.type}).map(function(e){return e.id}),r=i.records.get(e);if(!r&&0===t.lenght)return[];for(r=r.children?r:r.parent;r;){if(e=r.rowID,-1!==t.indexOf(e))return[];r=r.parent}return t.forEach(function(e){var t=(i.primaryKey?n.map(function(e){return e[i.primaryKey]}):n).indexOf(e);-1!==t&&n.splice(t,1)}),n},e.decorators=[{type:b.Pipe,args:[{name:"treeGridSummary",pure:!0}]}],e.ctorParameters=function(){return[{type:_i}]},e}(),du=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[nu,ru,pu,ou,su,au,Oi,lu,cu,uu,tu],exports:[nu,ru,pu,tu,Mp],imports:[r.CommonModule,o.FormsModule,Da,Mp]}]}],e}(),hu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hSelection=new Map,e}return f(e,t),e.prototype.add_sub_item=function(e,t,i){var n=new Map;n.set(t,i),this.hSelection.set(e,n)},e.prototype.get_sub_item=function(e){var t;return this.hSelection.get(e)&&(t={gridID:this.hSelection.get(e).keys().next().value,cell:this.hSelection.get(e).values().next().value}),t},e.prototype.clear_sub_item=function(e){return this.hSelection.set(e,null)},e}($n),gu=function(w){function e(){return null!==w&&w.apply(this,arguments)||this}return f(e,w),e.prototype.getCellSelector=function(e,t){return void 0===t&&(t=!1),t?"igx-grid-summary-cell":"igx-hierarchical-grid-cell"},e.prototype.getRowSelector=function(){return"igx-hierarchical-grid-row"},e.prototype.getRowByIndex=function(e){var i,n=this,t=this.getRowSelector();return Array.from(this.grid.nativeElement.querySelectorAll(t+'[data-rowindex="'+e+'"]')).forEach(function(e){var t=n.getClosestElemByTag(e,"igx-hierarchical-grid");t&&t.getAttribute("id")===n.grid.id&&(i=e)}),i},e.prototype.getChildContainer=function(e){return(e||this.grid).nativeElement.parentNode.parentNode.parentNode},e.prototype.getChildGridRowContainer=function(e){return(e||this.grid).nativeElement.parentNode.parentNode},e.prototype.getChildGrid=function(t,e){return e.hgridAPI.getChildGrids(!0).filter(function(e){return e.id===t})[0]},e.prototype._isScrolledToBottom=function(e){var t=e.verticalScrollContainer.getVerticalScroll().scrollTop,i=e.verticalScrollContainer.getVerticalScroll().scrollHeight;return 0===i||Math.round(t+e.verticalScrollContainer.igxForContainerSize)===i},e.prototype.getIsChildAtIndex=function(e){return this.grid.isChildGridRecord(this.grid.verticalScrollContainer.igxForOf[e])},e.prototype.getCellElementByVisibleIndex=function(e,t,i){void 0===i&&(i=!1);var n=this.getCellSelector(t,i);return i?this.grid.summariesRowList.toArray()[0].nativeElement.querySelector(n+'[data-visibleIndex="'+t+'"]'):this.getRowByIndex(e).querySelector(n+'[data-rowindex="'+e+'"][data-visibleIndex="'+t+'"]')},e.prototype.navigateUp=function(e,t){var i=this,n=e.previousElementSibling,r=t.column,o=t.row;if(n)"igx-child-grid-row"===n.children[0].nodeName.toLowerCase().toLowerCase()?this.focusPrevChild(n,r,this.grid):null!==this.grid.parent?this._navigateUpInChild(e,o,r):w.prototype.navigateUp.call(this,e,t);else if(0!==o){this.getIsChildAtIndex(o-1)?this.scrollGrid(this.grid,-e.offsetHeight,function(){e=i.getRowByIndex(o),i.navigateUp(e,t)}):w.prototype.navigateUp.call(this,e,t)}else null!==this.grid.parent&&0===o&&this.focusPrev(r)},e.prototype.navigateDown=function(e,t){var i=e.nextElementSibling,n=t.column,r=t.row;i?"igx-child-grid-row"===i.children[0].nodeName.toLowerCase().toLowerCase()?this.focusNextChild(i,n,this.grid):null!==this.grid.parent?this._navigateDownInChild(e,r,n):w.prototype.navigateDown.call(this,e,t):r!==this.grid.verticalScrollContainer.igxForOf.length-1?w.prototype.navigateDown.call(this,e,t):null!==this.grid.parent&&r===this.grid.verticalScrollContainer.igxForOf.length-1&&this.focusNext(n)},e.prototype.navigateTop=function(e){var t=this;if(null!==this.grid.parent){var i=this.grid.verticalScrollContainer.getVerticalScroll(),n=this.getCellSelector(e);0===i.scrollTop?this._focusScrollCellInView(e):this.scrollGrid(this.grid,"top",function(){0<t.grid.nativeElement.querySelectorAll(n+'[data-visibleIndex="'+e+'"]').length&&t._focusScrollCellInView(e)})}else w.prototype.navigateTop.call(this,e)},e.prototype.navigateBottom=function(t){var i=this,e=this.grid.verticalScrollContainer.igxForOf.length-1;if(this.getIsChildAtIndex(e)){var n=e-1,r=this.grid.verticalScrollContainer.getScrollForIndex(n,!0),o=this.grid.verticalScrollContainer.getVerticalScroll(),s=this.getCellSelector(t);if(o.scrollTop===r){var a=this.getRowByIndex(n).querySelectorAll(s+'[data-visibleIndex="'+t+'"]');a[a.length-1].focus()}else this.scrollGrid(this.grid,r-o.scrollTop,function(){var e=i.getRowByIndex(n).querySelectorAll(s+'[data-visibleIndex="'+t+'"]');0<e.length&&e[e.length-1].focus()})}else w.prototype.navigateBottom.call(this,t)},e.prototype.goToLastCell=function(){var e=this,t=this.grid.verticalScrollContainer.igxForOf.length-1;if(this.getIsChildAtIndex(t)){var i=t-1,n=this.grid.verticalScrollContainer.getScrollForIndex(i,!0),r=this.grid.verticalScrollContainer.getVerticalScroll();r.scrollTop===n?this.onKeydownEnd(i):this.scrollGrid(this.grid,n-r.scrollTop,function(){e.onKeydownEnd(i)})}else w.prototype.goToLastCell.call(this)},e.prototype.onKeydownEnd=function(e,t){var i=this;if(void 0===t&&(t=!1),this.grid.parent&&!t){var n=this.grid.nativeElement.parentNode.parentNode.getBoundingClientRect().bottom-this.grid.rootGrid.nativeElement.getBoundingClientRect().bottom,r=this.grid.getRowByIndex(e).element.nativeElement,o=r.getBoundingClientRect().bottom<=this.grid.rootGrid.tbody.nativeElement.getBoundingClientRect().bottom,s=this._getMaxTop(this.grid),a=r.getBoundingClientRect().bottom-r.offsetHeight-s;if(n<=0||o)if(0<=a)w.prototype.onKeydownEnd.call(this,e,t);else{var l=0!==this.grid.verticalScrollContainer.getVerticalScroll().scrollTop?this.grid:this.getNextScrollable(this.grid).grid,c=l.tbody.nativeElement.getBoundingClientRect().top>this.grid.rootGrid.tbody.nativeElement.getBoundingClientRect().top?l:this.grid.rootGrid;this.scrollGrid(c,a,function(){return w.prototype.onKeydownEnd.call(i,e)})}else this.scrollGrid(this.grid.parent,n,function(){return w.prototype.onKeydownEnd.call(i,e)})}else w.prototype.onKeydownEnd.call(this,e,t)},e.prototype.goToFirstCell=function(){var e=this,t=this.grid.verticalScrollContainer.getVerticalScroll(),i=this.grid.dataRowList.first.virtDirRow.getHorizontalScroll();0===t.scrollTop&&this.grid.parent?!i.clientWidth||parseInt(i.scrollLeft,10)<=1||this.grid.pinnedColumns.length?this.navigateTop(0):(this.horizontalScroll(this.grid.dataRowList.first.index).scrollTo(0),this.grid.parentVirtDir.onChunkLoad.pipe(p.first()).subscribe(function(){e.navigateTop(0)})):w.prototype.goToFirstCell.call(this)},e.prototype.performTab=function(e,t){var i=this,n=t.row,r=t.column,o=t.isSummaryRow,s=this.grid.summariesRowList.toArray(),a=0<s.length,l=n===this.grid.verticalScrollContainer.igxForOf.length-1,c=this.grid.dataRowList.find(function(e){return e.index===n+1}),p=this.grid.unpinnedColumns[this.grid.unpinnedColumns.length-1].visibleIndex===r,u=a&&o,d=n+1,h=this.grid.verticalScrollContainer,g=d<=h.igxForOf.length-1&&this.grid.isChildGridRecord(h.igxForOf[d]);if(c||l&&a||!p||o)if(u&&p&&this.grid.parent){var f=this.grid.parent,m=0<f.summariesRowList.toArray().length,y=parseInt(this.getClosestElemByTag(e,"igx-child-grid-row").parentNode.getAttribute("data-rowindex"),10),v=f.verticalScrollContainer.igxForOf.length-1===y;b=!!this.getChildGridRowContainer(this.grid).nextElementSibling;if(v&&m&&!b){var x=f.summariesRowList.toArray()[0].nativeElement;f.navigation.focusNextRow(x,0,this.grid.rootGrid,!0)}else this.focusNext(0)}else l&&a&&p&&this.grid.parent?this.focusNextRow(s[0].nativeElement,0,this.grid.parent,!0):w.prototype.performTab.call(this,e,t);else{var b,C=this.getChildGridRowContainer();if(b=!!this.grid.parent&&!!C.nextElementSibling)this.focusNextChildDOMElem(C,this.grid.parent);else if(g){h.state.startIndex+h.state.chunkSize>d?this.focusNextChildDOMElem(e,this.grid):this.scrollGrid(this.grid,"next",function(){i.focusNextChildDOMElem(e,i.grid)})}else this.navigateDown(e,{row:n,column:0})}},e.prototype.focusNextChildDOMElem=function(e,t){var i=e.nextElementSibling.querySelector("igx-hierarchical-grid").getAttribute("id"),n=this.getChildGrid(i,t);n.allowFiltering&&n.filterMode===$c.quickFilter?n.navigation.moveFocusToFilterCell(!0):this.focusNextChild(e.nextElementSibling,0,t)},e.prototype.navigatePrevFilterCell=function(e,t){if(0===e.visibleIndex&&this.grid.parent){t.preventDefault();var i=this.grid.parent,n=this.getChildGridRowContainer().previousElementSibling;if(n){var r=n.querySelectorAll("igx-hierarchical-grid")[0];i=this.getChildGrid(r.getAttribute("id"),this.grid.parent)}this.focusPrev(i.unpinnedColumns[i.unpinnedColumns.length-1].visibleIndex)}else w.prototype.navigatePrevFilterCell.call(this,e,t)},e.prototype.navigateNextFilterCell=function(e,t){if(this.grid.filteringService.unpinnedFilterableColumns.indexOf(e)+1>=this.grid.filteringService.unpinnedFilterableColumns.length){var i=this.grid.rowList.toArray(),n=0!==i.length,r=this.grid.summariesRowList.toArray(),o=0<r.length&&0<r[0].summaryCells.length;n?this.focusNextRow(i[0].nativeElement,0,this.grid,!1):o?this.focusNextRow(r[0].nativeElement,0,this.grid,!0):this.focusNext(0),t.preventDefault()}else w.prototype.navigateNextFilterCell.call(this,e,t)},e.prototype.performShiftTabKey=function(t,e){var i=this,n=e.row,r=e.column,o=e.isSummaryRow;if(0===r&&0===n&&this.grid.parent&&!o)if(this.grid.allowFiltering&&this.grid.filterMode===$c.quickFilter)this.moveFocusToFilterCell();else{var s=this.getChildGridRowContainer().previousElementSibling;if(s){var a=s.querySelectorAll("igx-hierarchical-grid")[0];this.performShiftTabIntoChild(a,t,n)}else{var l={row:n,column:this.grid.parent.unpinnedColumns[this.grid.parent.unpinnedColumns.length-1].visibleIndex};this.navigateUp(t,l)}}else if(0===r&&t.previousElementSibling&&"igx-child-grid-row"===t.previousElementSibling.children[0].tagName.toLowerCase()){a=this.getLastGridElem(t.previousElementSibling);this.performShiftTabIntoChild(a,t,n)}else if(0===r&&o){var c=this.grid.verticalScrollContainer.igxForOf.length-1;if(-1===c)if(this.grid.allowFiltering&&this.grid.filterMode===$c.quickFilter)this.moveFocusToFilterCell();else{l={row:n,column:this.grid.parent.unpinnedColumns[this.grid.parent.unpinnedColumns.length-1].visibleIndex};this.navigateUp(t,l)}else if(this.getIsChildAtIndex(c)){var p=this.grid.verticalScrollContainer.getScrollForIndex(c,!0),u=this.grid.verticalScrollContainer.getVerticalScroll();if(u.scrollTop===p||isNaN(p)){var d=this.getLastGridElem(this.grid.getRowByIndex(c).nativeElement.parentElement);this.performShiftTabIntoChild(d,t,n)}else this.scrollGrid(this.grid,p-u.scrollTop,function(){var e=i.getLastGridElem(i.grid.getRowByIndex(c).nativeElement.parentElement);i.performShiftTabIntoChild(e,t,n)})}else w.prototype.goToLastCell.call(this)}else w.prototype.performShiftTabKey.call(this,t,e)},e.prototype.getLastGridElem=function(e){var t=e.children;return t[t.length-1].children[0].children[0]},e.prototype.performShiftTabIntoChild=function(e,t,i){var n=e.getAttribute("id"),r=this.getChildGrid(n,this.grid)||this.getChildGrid(n,this.grid.parent),o=r.unpinnedColumns[r.unpinnedColumns.length-1].visibleIndex,s=r.summariesRowList.toArray();if(0<s.length&&0<s[0].summaryCells.length){var a=s[0].nativeElement;this.focusPrevRow(a,o,r,!0,!0)}else 0===r.rowList.toArray().length&&r.allowFiltering&&r.filterMode===$c.quickFilter?r.navigation.moveFocusToFilterCell():this.navigateUp(t,{row:i,column:o})},e.prototype._focusScrollCellInView=function(e){var t=this.getCellSelector(e),i=this.grid.nativeElement.querySelectorAll(t+'[data-visibleIndex="'+e+'"]')[0],n=this.grid.nativeElement.parentNode.parentNode,r=this.grid.parent.verticalScrollContainer.getVerticalScroll().scrollTop,o=n.parentNode.parentNode,s=parseInt(o.style.top,10);0===r||0===s?i.focus({preventScroll:!0}):this.scrollGrid(this.grid.parent,s,function(){return i.focus({preventScroll:!0})})},e.prototype.focusNextChild=function(e,t,i){var n=this,r=e.querySelector("igx-hierarchical-grid").getAttribute("id"),o=this.getChildGrid(r,i);if(0!==o.rowList.toArray().length){var s=o.unpinnedColumns[o.unpinnedColumns.length-1].visibleIndex;t=Math.min(s,t),0!==o.verticalScrollContainer.state.startIndex?this.scrollGrid(o,"top",function(){return n.focusNextRow(e,t,o)}):this.focusNextRow(e,t,o)}else this.focusNext(t,o)},e.prototype.focusPrevChild=function(e,t,i){var n=this,r=[],o=Array.from(e.querySelectorAll("igx-hierarchical-grid")),s=i.childLayoutList.first.level;o.forEach(function(e){var t=n.getClosestElemByTag(e,"igx-child-grid-row");t&&parseInt(t.getAttribute("data-level"),10)===s&&r.push(e)});var a=r[r.length-1].getAttribute("id"),l=this.getChildGrid(a,i);if(0!==l.rowList.toArray().length){var c=l.unpinnedColumns[l.unpinnedColumns.length-1].visibleIndex;t=Math.min(c,t);var p=this._isScrolledToBottom(l),u=l.verticalScrollContainer.igxForOf.length-1;if(p){var d=l.getRowByIndex(u);"igx-child-grid-row"===d.nativeElement.nodeName.toLowerCase()?this.focusPrevChild(d.nativeElement.parentNode,t,l):this.focusPrevRow(d.nativeElement,t,l,!0)}else this.scrollGrid(l,"bottom",function(){return n.focusPrevChild(e,t,i)})}else this.focusPrev(t,l)},e.prototype.focusPrev=function(e,t){var i=this,n=t||this.grid,r=this.getChildContainer(n),o=this.getChildGridRowContainer(n),s=!!o.previousElementSibling,a=o.previousElementSibling||r.previousElementSibling;a?s?this.focusPrevChild(a,e,n.parent):this.focusPrevRow(a,e,n.parent):this.scrollGrid(n.parent,"prev",function(){r=i.getChildContainer(t),o=i.getChildGridRowContainer(t),a=o.previousElementSibling||r.previousElementSibling,s?i.focusPrevChild(a,e,n.parent):i.focusPrevRow(a,e,n.parent)})},e.prototype.getNextParentInfo=function(e){for(var t=e.parent,i=this.getChildContainer(e).nextElementSibling;!i&&null!==t.parent;)i=this.getChildContainer(t).nextElementSibling,t=t.parent;return{grid:t,nextElement:i}},e.prototype.getNextScrollable=function(e){var t=e.parent;if(!t)return{grid:e,prev:null};for(var i=0===t.verticalScrollContainer.getVerticalScroll().scrollTop,n=e;i&&null!==t.parent;)i=0===(t=(n=t).parent).verticalScrollContainer.getVerticalScroll().scrollTop;return{grid:t,prev:n}},e.prototype.focusNext=function(e,t){var i=this,n=t||this.grid,r=this.getNextParentInfo(n),o=r.grid,s=r.nextElement,a=this.getChildGridRowContainer(n),l=!!a.nextElementSibling,c=a.nextElementSibling||s,p=o.verticalScrollContainer.getVerticalScroll();c?l?this.focusNextChild(c,e,o):this.focusNextRow(c,e,t||o):p.scrollTop!==p.scrollHeight-o.verticalScrollContainer.igxForContainerSize&&this.scrollGrid(o,"next",function(){s=r.nextElement,a=i.getChildGridRowContainer(),(c=a.nextElementSibling||s)&&l?i.focusNextChild(c,e,o):c&&i.focusNextRow(c,e,t||o)})},e.prototype.getNextScrollableDown=function(e){var t=e.parent;if(!t)return{grid:e,prev:null};for(var i=t.verticalScrollContainer.getVerticalScroll().scrollTop,n=t.verticalScrollContainer.getVerticalScroll().scrollHeight,r=0===n||Math.round(i+t.verticalScrollContainer.igxForContainerSize)===n,o=e;r&&null!==t.parent;)i=(t=(o=t).parent).verticalScrollContainer.getVerticalScroll().scrollTop,r=0===(n=t.verticalScrollContainer.getVerticalScroll().scrollHeight)||Math.round(i+t.verticalScrollContainer.igxForContainerSize)===n;return{grid:t,prev:o}},e.prototype._getMinBottom=function(e){for(var t=e,i=t.tbody.nativeElement.getBoundingClientRect().bottom;t.parent;)t=t.parent,i=Math.min(i,t.tbody.nativeElement.getBoundingClientRect().bottom);return i},e.prototype._getMaxTop=function(e){for(var t=e,i=t.tbody.nativeElement.getBoundingClientRect().top;t.parent;)t=t.parent,i=Math.max(i,t.tbody.nativeElement.getBoundingClientRect().top);return i},e.prototype.focusNextRow=function(e,t,i,n){var r=this.getCellSelector(t,n);if(i.navigation.isColumnFullyVisible(t)&&i.navigation.isColumnLeftFullyVisible(t)){var o=e.querySelector(r+'[data-visibleIndex="'+t+'"]'),s=this.getNextScrollableDown(i).grid,a=this._getMinBottom(i),l=o.getBoundingClientRect().bottom-a,c=l<=0,p=s.verticalScrollContainer.getVerticalScroll().scrollTop,u=s.verticalScrollContainer.getVerticalScroll().scrollHeight,d=!(0===u||Math.round(p+s.verticalScrollContainer.igxForContainerSize)===u);!c&&d?this.scrollGrid(s,l,function(){return o.focus({preventScroll:!0})}):o.focus({preventScroll:!0})}else{var h=e.querySelector(""+r),g=parseInt(h.getAttribute("data-rowindex"),10);i.navigation.performHorizontalScrollToCell(g,t)}},e.prototype.focusPrevRow=function(t,i,n,e,r){var o=this;if(n.navigation.isColumnFullyVisible(i)&&n.navigation.isColumnLeftFullyVisible(i)){var s=this.getCellSelector(i,r),a=t.querySelectorAll(s+'[data-visibleIndex="'+i+'"]'),l=a[a.length-1],c=parseInt(t.getAttribute("data-rowindex"),10),p=0!==n.verticalScrollContainer.getVerticalScroll().scrollTop?n:this.getNextScrollable(n).grid,u=p.tbody.nativeElement.getBoundingClientRect().top>n.rootGrid.tbody.nativeElement.getBoundingClientRect().top?p:n.rootGrid,d=this._getMaxTop(n),h=p.verticalScrollContainer.getVerticalScroll().scrollTop,g=l.getBoundingClientRect().bottom-l.offsetHeight-d;0!==h&&g<0&&!e?this.scrollGrid(p,g,function(){var e=r?t:n.navigation.getRowByIndex(c);(l=e.querySelectorAll(s+'[data-visibleIndex="'+i+'"]')[0]).focus({preventScroll:!0})}):g<0&&e?this.scrollGrid(u,g,function(){l.focus({preventScroll:!0})}):l.focus({preventScroll:!0})}else this.horizontalScrollGridToIndex(n,i,function(){o.focusPrevRow(t,i,n,e,r)})},e.prototype.horizontalScrollGridToIndex=function(e,t,i){var n=this.getColumnUnpinnedIndex(t);e.parentVirtDir.onChunkLoad.pipe(p.first()).subscribe(i),e.dataRowList.toArray()[0].virtDirRow.scrollTo(n)},e.prototype.scrollGrid=function(e,t,i){e.nativeElement.focus({preventScroll:!0}),requestAnimationFrame(function(){if("number"==typeof t)e.verticalScrollContainer.addScrollTop(t);else switch(t){case"top":e.verticalScrollContainer.scrollTo(0);break;case"bottom":e.verticalScrollContainer.scrollTo(e.verticalScrollContainer.igxForOf.length-1);break;case"next":e.verticalScrollContainer.scrollNext();break;case"prev":e.verticalScrollContainer.scrollPrev()}e.verticalScrollContainer.onChunkLoad.pipe(p.first()).subscribe(i)})},e.prototype._navigateUpInChild=function(e,t,i){var n=this,r=e.previousElementSibling,o=this.getNextScrollable(this.grid),s=o.grid,a=s.verticalScrollContainer.getVerticalScroll().scrollTop,l=o.prev.nativeElement.parentNode.parentNode.parentNode.parentNode,c=parseInt(l.style.top,10);0!==a&&c<0?this.scrollGrid(s,-r.offsetHeight,function(){return w.prototype.navigateUp.call(n,e,{row:t,column:i})}):w.prototype.navigateUp.call(this,e,{row:t,column:i})},e.prototype._navigateDownInChild=function(e,t,i){var n=this,r=e.nextElementSibling,o=this.grid.nativeElement.parentNode.parentNode.getBoundingClientRect().bottom-this.grid.rootGrid.nativeElement.getBoundingClientRect().bottom<0,s=this.getNextScrollableDown(this.grid).grid;o?w.prototype.navigateDown.call(this,e,{row:t,column:i}):this.scrollGrid(s,r.offsetHeight,function(){return w.prototype.navigateDown.call(n,e,{row:t,column:i})})},e.prototype.getClosestElemByTag=function(e,t){for(var i=e;null!==i&&1===i.nodeType;){if(i.tagName.toLowerCase()===t.toLowerCase())return i;i=i.parentNode}return null},e}(lc),fu={provide:Wc,useFactory:mu};function mu(){return function(){return new Vn}}var yu=function(v){function e(e,t,i,n,r,o,s,a,l,c,p,u,d,h,g,f,m){var y=v.call(this,e,t,i,n,"function"==typeof r?r():r,o,s,a,l,c,p,u,d,h,g,f,m)||this;return y.selectionService=e,y.transactionFactory=r,y.document=a,y.overlayService=g,y.summaryService=f,y._displayDensityOptions=m,y._expandChildren=!1,y.hgridAPI=i,y}return f(e,v),Object.defineProperty(e.prototype,"maxLevelHeaderDepth",{get:function(){return null===this._maxLevelHeaderDepth&&(this._maxLevelHeaderDepth=this.columnList.reduce(function(e,t){return Math.max(e,t.level)},0)),this._maxLevelHeaderDepth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outlet",{get:function(){return this.rootGrid?this.rootGrid.outletDirective:this.outletDirective},enumerable:!0,configurable:!0}),e.prototype.createColumnsList=function(e){var i=this,n=[];this.onlyTopLevel(e).forEach(function(e){var t=i._createColumn(e);t.changeDetectorRef.detectChanges(),n.push(t.instance)});var t=function r(e){var t=[];e.forEach(function(e){t.push(e),e.children&&(t=t.concat(r(e.children.toArray())))});return t}(n);this.columnList.reset(t),this.columnList.notifyOnChanges()},e.prototype._createColumn=function(e){return e instanceof Wl?this._createColGroupComponent(e):this._createColComponent(e)},e.prototype._createColGroupComponent=function(i){var n=this,e=this.resolver.resolveComponentFactory(Wl),r=this.viewRef.createComponent(e,null,this.viewRef.injector);if(r.changeDetectorRef.detectChanges(),e.inputs.forEach(function(e){var t=e.propName;r.instance[t]=i[t]}),0<i.children.length){var o=[];i.children.forEach(function(e){var t=n._createColumn(e).instance;t.parent=r.instance,o.push(t)}),r.instance.children.reset(o),r.instance.children.notifyOnChanges()}return r.instance.grid=this,r},e.prototype._createColComponent=function(i){var e=this.resolver.resolveComponentFactory(zl),n=this.viewRef.createComponent(e,null,this.viewRef.injector);return e.inputs.forEach(function(e){var t=e.propName;i[t]instanceof Sl?n.instance[t]=i[t].constructor:n.instance[t]=i[t]}),n.instance.grid=this,n},e.prototype.getGridsForIsland=function(e){return this.hgridAPI.getChildGridsForRowIsland(e)},e.prototype.getChildGrid=function(e){if(e)return this.hgridAPI.getChildGrid(e)},e.ctorParameters=function(){return[{type:bl},{type:xl},{type:_i},{type:hu},{type:undefined,decorators:[{type:b.Inject,args:[Wc]}]},{type:b.ElementRef},{type:b.NgZone},{type:undefined,decorators:[{type:b.Inject,args:[r.DOCUMENT]}]},{type:b.ChangeDetectorRef},{type:b.ComponentFactoryResolver},{type:b.IterableDiffers},{type:b.ViewContainerRef},{type:gu},{type:mc},{type:En,decorators:[{type:b.Inject,args:[En]}]},{type:Ac},{type:undefined,decorators:[{type:b.Optional},{type:b.Inject,args:[tr]}]}]},e.propDecorators={expandChildren:[{type:b.Input}],dragIndicatorIconBase:[{type:b.ViewChild,args:["dragIndicatorIconBase",{read:b.TemplateRef}]}]},e}(Xc);var vu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.childRowIslands=new Map,e.childGrids=new Map,e}return f(e,t),e.prototype.registerChildRowIsland=function(e){this.childRowIslands.set(e.key,e),this.destroyMap.set(e.key,new x.Subject)},e.prototype.getChildRowIsland=function(e){return this.childRowIslands.get(e)},e.prototype.getChildGrid=function(e){var t,i=e,n=i.shift(),r=this.childGrids.get(n.rowIslandKey);if(r){var o=r.get(n.rowID);t=0===i.length?o:o.hgridAPI.getChildGrid(i)}return t},e.prototype.getChildGrids=function(t){var i=[];return this.childGrids.forEach(function(e){e.forEach(function(e){(i.push(e),t)&&e.hgridAPI.getChildGrids(t).forEach(function(e){i.push(e)})})}),i},e.prototype.getParentRowId=function(i){var n;return this.childGrids.forEach(function(e){e.forEach(function(e,t){e!==i||(n=t)})}),n},e.prototype.registerChildGrid=function(e,t,i){var n=this.childGrids.get(t);n||(this.childGrids.set(t,new Map),n=this.childGrids.get(t)),n.set(e,i)},e.prototype.getChildGridsForRowIsland=function(e){var t=this.childGrids.get(e),i=[];return t&&t.forEach(function(e){i.push(e)}),i},e.prototype.getChildGridByID=function(e,t){return this.childGrids.get(e).get(t)},e}(_i),xu=function(){function e(){this.change=new x.Subject,this.state=new Map,this.destroyMap=new Map,this.childRowIslands=new Map,this.childGrids=new Map}return e.prototype.register=function(e){this.state.set(e.id,e),this.destroyMap.set(e.id,new x.Subject)},e.prototype.unsubscribe=function(e){this.state["delete"](e.id)},e.prototype.get=function(e){return this.state.get(e)},e.prototype.unset=function(e){this.state["delete"](e),this.destroyMap["delete"](e)},e.prototype.reset=function(e,t){var i=this.destroyMap.get(e),n=this.get(e);this.unset(e),n&&this.state.set(t,n),i&&this.destroyMap.set(t,i)},e.prototype.registerChildRowIsland=function(e){this.childRowIslands.set(e.key,e),this.destroyMap.set(e.key,new x.Subject)},e.prototype.unsetChildRowIsland=function(e){this.childRowIslands["delete"](e.key),this.destroyMap["delete"](e.key)},e.prototype.getChildRowIsland=function(e){return this.childRowIslands.get(e)},e.prototype.registerChildGrid=function(e,t){this.childGrids.set(e,t)},e.prototype.getChildGrids=function(t){var i=[];return this.childGrids.forEach(function(e){i.push(e)}),t&&this.childRowIslands.forEach(function(e){i=i.concat(e.rowIslandAPI.getChildGrids(t))}),i},e.prototype.getChildGridByID=function(e){return this.childGrids.get(e)},e}(),bu=function(x){function e(e,t,i,n,r,o,s,a,l,c,p,u,d,h,g,f,m,y){var v=x.call(this,e,t,i,n,"function"==typeof r?r():r,o,s,a,l,c,p,u,d,h,g,f,m)||this;return v.selectionService=e,v.transactionFactory=r,v.document=a,v.overlayService=g,v.summaryService=f,v._displayDensityOptions=m,v.rowIslandAPI=y,v.children=new b.QueryList,v.childColumns=new b.QueryList,v.onLayoutChange=new b.EventEmitter,v.onGridCreated=new b.EventEmitter,v.initialChanges=[],v.rootGrid=null,v.layout_id="igx-row-island-",v.isInit=!1,v.hgridAPI=i,v}return f(e,x),Object.defineProperty(e.prototype,"expandChildren",{get:function(){return this._expandChildren},set:function(t){this._expandChildren=t,this.rowIslandAPI.getChildGrids().forEach(function(e){document.body.contains(e.nativeElement)?(e.expandChildren=t,e.markForCheck()):e.updateOnRender=!0})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){var e=this.parentId?this.parentId.substring(this.parentId.indexOf(this.layout_id)+this.layout_id.length)+"-":"";return this.layout_id+e+this.key},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentId",{get:function(){return this.parentIsland?this.parentIsland.id:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){for(var e=this.parentIsland,t=0;e;)t++,e=e.parentIsland;return t+1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transactions",{get:function(){var e=this.rowIslandAPI.getChildGrids();return e.length?e[0].transactions:this._transactions},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngAfterContentInit=function(){var t=this;this.children.reset(this.children.toArray().slice(1)),this.children.forEach(function(e){e.parentIsland=t});var e=this.children.map(function(e){return e.columnList.toArray()}),i=[].concat.apply([],e),n=this.columnList.filter(function(e){return-1===i.indexOf(e)});this.childColumns.reset(n),this.columnList.changes.pipe(p.takeUntil(this.destroy$)).subscribe(function(){t.updateColumnList()})},e.prototype.ngAfterViewInit=function(){this.rowIslandAPI.register(this),this.parentIsland?this.parentIsland.rowIslandAPI.registerChildRowIsland(this):this.rootGrid.hgridAPI.registerChildRowIsland(this)},e.prototype.ngOnChanges=function(e){this.onLayoutChange.emit(e),this.isInit||this.initialChanges.push(e)},e.prototype.ngOnDestroy=function(){this.destroy$.next(!0),this.destroy$.complete(),this.rowIslandAPI.unset(this.id),this.parentIsland&&this.parentIsland.rowIslandAPI.unsetChildRowIsland(this)},e.prototype.reflow=function(){},e.prototype.calculateGridHeight=function(){},e.prototype.updateColumnList=function(){var t=this,e=this.children.map(function(e){return e.columnList.toArray()}),i=[].concat.apply([],e),n=this.columnList.filter(function(e){return-1===i.indexOf(e)&&(e.defaultWidth=undefined,!0)});this.childColumns.reset(n),this.parentIsland?this.parentIsland.columnList.notifyOnChanges():this.rootGrid.columnList.notifyOnChanges(),this.rowIslandAPI.getChildGrids().forEach(function(e){e.createColumnsList(t.childColumns.toArray()),document.body.contains(e.nativeElement)||(e.updateOnRender=!0)})},e.decorators=[{type:b.Component,args:[{changeDetection:b.ChangeDetectionStrategy.OnPush,selector:"igx-row-island",template:"",providers:[xu]}]}],e.ctorParameters=function(){return[{type:bl},{type:xl},{type:_i},{type:hu},{type:undefined,decorators:[{type:b.Inject,args:[Wc]}]},{type:b.ElementRef},{type:b.NgZone},{type:undefined,decorators:[{type:b.Inject,args:[r.DOCUMENT]}]},{type:b.ChangeDetectorRef},{type:b.ComponentFactoryResolver},{type:b.IterableDiffers},{type:b.ViewContainerRef},{type:gu},{type:mc},{type:En,decorators:[{type:b.Inject,args:[En]}]},{type:Ac},{type:undefined,decorators:[{type:b.Optional},{type:b.Inject,args:[tr]}]},{type:xu}]},e.propDecorators={key:[{type:b.Input}],expandChildren:[{type:b.Input}],children:[{type:b.ContentChildren,args:[e,{read:e,descendants:!1}]}],childColumns:[{type:b.ContentChildren,args:[zl,{read:zl,descendants:!1}]}],onLayoutChange:[{type:b.Output}],onGridCreated:[{type:b.Output}]},e}(yu),Cu=function(){function e(e,t,i,n){this.gridAPI=e,this.selectionAPI=t,this.element=i,this.cdr=n,this.expanded=!1,this.rowData=[],this.tabindex=0,this.role="row"}return Object.defineProperty(e.prototype,"parentHasScroll",{get:function(){return!this.parentGrid.verticalScrollContainer.dc.instance.notVirtual},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentGrid",{get:function(){return this.gridAPI.grid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this.layout.level},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.element.nativeElement},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var t=this;this.hGrid.data=this.rowData.childGridsData[this.layout.key],this.layout.onLayoutChange.subscribe(function(e){t._handleLayoutChanges(e)}),this.layout.initialChanges.forEach(function(e){t._handleLayoutChanges(e)}),this.hGrid.parent=this.parentGrid,this.hGrid.parentIsland=this.layout,(this.hGrid.childRow=this).hGrid.isPercentHeight&&(this.hGrid._autoSize=!0),this.layout.onGridCreated.emit({owner:this.layout,parentID:this.rowData.rowID,grid:this.hGrid})},e.prototype.ngAfterViewInit=function(){var t=this;this.hGrid.childLayoutList=this.layout.children,0<this.layout.childColumns.length&&!this.hGrid.autoGenerate&&this.hGrid.createColumnsList(this.layout.childColumns.toArray()),this.hGrid.childLayoutList.toArray().forEach(function(e){return t.hGrid.hgridAPI.registerChildRowIsland(e)}),this.parentGrid.hgridAPI.registerChildGrid(this.rowData.rowID,this.layout.key,this.hGrid),this.layout.rowIslandAPI.registerChildGrid(this.rowData.rowID,this.hGrid),this.hGrid.cdr.detectChanges()},e.prototype._handleLayoutChanges=function(e){for(var t in e)e.hasOwnProperty(t)&&(this.hGrid[t]=e[t].currentValue)},e.decorators=[{type:b.Component,args:[{changeDetection:b.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-child-grid-row",template:'<div class="igx-grid__hierarchical-indent" [ngClass]="{\'igx-grid__hierarchical-indent--scroll\': parentHasScroll}">\n    <igx-hierarchical-grid #hgrid></igx-hierarchical-grid>\n</div>\n'}]}],e.ctorParameters=function(){return[{type:_i},{type:$n},{type:b.ElementRef},{type:b.ChangeDetectorRef}]},e.propDecorators={layout:[{type:b.Input}],parentGridID:[{type:b.Input}],rowData:[{type:b.Input}],index:[{type:b.Input}],hGrid:[{type:b.ViewChild,args:["hgrid"]}],tabindex:[{type:b.HostBinding,args:["attr.tabindex"]}],role:[{type:b.HostBinding,args:["attr.role"]}],level:[{type:b.HostBinding,args:["attr.data-level"]}]},e}(),wu=0,_u=function(x){function e(e,t,i,n,r,o,s,a,l,c,p,u,d,h,g,f,m,y){var v=x.call(this,e,t,n,r,"function"==typeof o?o():o,s,a,l,c,p,u,d,h,g,f,m,y)||this;return v.selectionService=e,v.colResizingService=i,v.transactionFactory=o,v.document=l,v.overlayService=f,v.summaryService=m,v._displayDensityOptions=y,v.dragIndicatorIconTemplate=null,v.childLayoutKeys=[],v.highlightedRowID=null,v.updateOnRender=!1,v.parent=null,v._hierarchicalState=[],v._filteredData=null,v.h_id="igx-hierarchical-grid-"+wu++,v.childGridTemplates=new Map,v.scrollTop=0,v.scrollLeft=0,v.hgridAPI=n,v}return f(e,x),Object.defineProperty(e.prototype,"id",{get:function(){return this.h_id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(e){var t=this;this._data=e,this.summaryService.clearSummaryCache(),this.shouldGenerate&&(this.setupColumns(),this.reflow()),this.cdr.markForCheck(),!this.parent||null!==this.height&&-1===this.height.indexOf("%")||requestAnimationFrame(function(){t.updateParentSizes()})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hierarchicalState",{get:function(){return this._hierarchicalState},set:function(e){var t=this;this._hierarchicalState=e,this.parent&&requestAnimationFrame(function(){t.updateParentSizes()})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filteredData",{get:function(){return this._filteredData},set:function(e){this._filteredData=e,this.rowSelectable&&this.updateHeaderCheckboxStatusOnFilter(this._filteredData)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"expandChildren",{get:function(){return this._expandChildren},set:function(e){var t=this;(this._expandChildren=e)&&this.data?this.hierarchicalState=this.data.map(function(e){return{rowID:t.primaryKey?e[t.primaryKey]:e}}):this.data&&(this.hierarchicalState=[])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"foreignKey",{get:function(){return this.parent?this.parent.hgridAPI.getParentRowId(this):null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasExpandableChildren",{get:function(){return!!this.childLayoutKeys.length},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this._transactions=this.parentIsland?this.parentIsland.transactions:this._transactions,x.prototype.ngOnInit.call(this)},e.prototype.ngAfterViewInit=function(){var n=this;x.prototype.ngAfterViewInit.call(this),this.verticalScrollContainer.getVerticalScroll().addEventListener("scroll",this.hg_verticalScrollHandler.bind(this)),this.parentVirtDir.getHorizontalScroll().addEventListener("scroll",this.hg_horizontalScrollHandler.bind(this)),this.expandChildren&&this.data&&this.hierarchicalState.length!==this.data.length&&(this.hierarchicalState=this.data.map(function(e){return{rowID:n.primaryKey?e[n.primaryKey]:e}})),this.verticalScrollContainer.onBeforeViewDestroyed.pipe(p.takeUntil(this.destroy$)).subscribe(function(e){var t=e.context.$implicit;if(n.isChildGridRecord(t)){var i=n.childGridTemplates.get(t.rowID);if(i)i.owner._viewContainerRef.detach(0)}}),this.parent?(this._displayDensity=this.rootGrid._displayDensity,this.rootGrid.onDensityChanged.pipe(p.takeUntil(this.destroy$)).subscribe(function(){requestAnimationFrame(function(){n._displayDensity=n.rootGrid._displayDensity,document.body.contains(n.nativeElement)?n.reflow():n.updateOnRender=!0})}),this.childLayoutKeys=this.parentIsland.children.map(function(e){return e.key})):(this.childLayoutKeys=this.childLayoutList.map(function(e){return e.key}),this.cdr.detectChanges()),this.toolbarCustomContentTemplates=this.parentIsland?this.parentIsland.toolbarCustomContentTemplates:this.toolbarCustomContentTemplates},Object.defineProperty(e.prototype,"outletDirective",{get:function(){return this.rootGrid._outletDirective},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentRowOutletDirective",{get:function(){return this===this.rootGrid?null:this.rootGrid.rowEditingOutletDirective},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){this.updateColumnList(!1),x.prototype.ngAfterContentInit.call(this)},e.prototype.onColumnsChanged=function(e){this.updateColumnList(),x.prototype.onColumnsChanged.call(this,e)},e.prototype.updateColumnList=function(e){var t=this;void 0===e&&(e=!0);var i=(this.parent?this.childLayoutList:this.allLayoutList).map(function(e){return e.rootGrid||t.parent||(e.rootGrid=t),e.columnList.toArray()}),n=[].concat.apply([],i),r=this.columnList.length;if(0<n.length){var o=this.columnList.filter(function(e){return-1===n.indexOf(e)});this.columnList.reset(o),e&&this.columnList.length!==r&&this.calculateGridSizes()}},e.prototype.ngOnDestroy=function(){this.parent||this.hgridAPI.getChildGrids(!0).forEach(function(e){e.childRow.cdr.destroyed||e.childRow.cdr.destroy()}),x.prototype.ngOnDestroy.call(this)},Object.defineProperty(e.prototype,"template",{get:function(){return this.filteredData&&0===this.filteredData.length?this.emptyGridTemplate?this.emptyGridTemplate:this.emptyFilteredGridTemplate:!this.isLoading||this.data&&0!==this.dataLength?0===this.dataLength?this.emptyGridTemplate?this.emptyGridTemplate:this.emptyGridDefaultTemplate:void 0:this.loadingGridTemplate?this.loadingGridTemplate:this.loadingGridDefaultTemplate},enumerable:!0,configurable:!0}),e.prototype.getFeatureColumnsWidth=function(){var e=x.prototype.getFeatureColumnsWidth.call(this);return this.hasExpandableChildren&&(e+=this.headerHierarchyExpander.nativeElement.offsetWidth||this.getDefaultExpanderWidth()),e},e.prototype.getDefaultExpanderWidth=function(){switch(this.displayDensity){case er.cosy:return 57;case er.compact:return 49;default:return 72}},e.prototype.isRowHighlighted=function(e){return this.highlightedRowID===e.rowID},e.prototype.isHierarchicalRecord=function(e){return 0!==this.childLayoutList.length&&e[this.childLayoutList.first.key]},e.prototype.isChildGridRecord=function(e){return e.childGridsData!==undefined},e.prototype.trackChanges=function(e,t){return t.childGridsData!==undefined?t.rowID:t},e.prototype.getContext=function(e){if(this.isChildGridRecord(e)){var t=this.childGridTemplates.get(e.rowID);return t?{$implicit:e,moveView:t.view,owner:t.owner,index:this.verticalScrollContainer.igxForOf.indexOf(e)}:{$implicit:e,templateID:"childRow-"+(this.primaryKey?e.rowID:this.data.indexOf(e.rowID)),index:this.verticalScrollContainer.igxForOf.indexOf(e)}}return{$implicit:e,templateID:"dataRow",index:this.verticalScrollContainer.igxForOf.indexOf(e)}},Object.defineProperty(e.prototype,"rootGrid",{get:function(){for(var e=this;e.parent;)e=e.parent;return e},enumerable:!0,configurable:!0}),e.prototype.initColumns=function(e,t){if(void 0===t&&(t=null),this.hasColumnLayouts){var i=this.columnList.filter(function(e){return!e.columnLayout&&!e.columnLayoutChild});this.columnList.reset(i)}x.prototype.initColumns.call(this,e,t)},e.prototype.getVisibleContentHeight=function(){var e=x.prototype.getVisibleContentHeight.call(this);if(this.parent){var t=this.rootGrid.getVisibleContentHeight(),i=this.nativeElement.getBoundingClientRect().top-this.rootGrid.nativeElement.getBoundingClientRect().top;e=e<t-i?e:t-i}return e},e.prototype.collapseAllRows=function(){this.hierarchicalState=[]},e.prototype.isExpanded=function(t){var i=this;return(t.childGridsData!==undefined?!!this.hierarchicalState.find(function(e){return e.rowID===t.rowID}):!!this.hierarchicalState.find(function(e){return i.primaryKey?e.rowID===t[i.primaryKey]:e.rowID===t}))&&0!==this.childLayoutList.length},e.prototype.viewCreatedHandler=function(e){if(this.isChildGridRecord(e.context.$implicit)){var t=e.context.$implicit.rowID;this.childGridTemplates.set(t,e)}},e.prototype.viewMovedHandler=function(i){var n=this;if(this.isChildGridRecord(i.context.$implicit)){var e=i.context.$implicit.rowID;this.childGridTemplates.get(e).owner=i.owner,this.childLayoutList.forEach(function(e){var t=n.hgridAPI.getChildGridByID(e.key,i.context.$implicit.rowID);t&&t.updateOnRender&&(t.reflow(),t.updateOnRender=!1)}),this.getChildGrids(!0).forEach(function(e){e.updateScrollPosition()})}},e.prototype.updateScrollPosition=function(){var e=this.verticalScrollContainer.getVerticalScroll(),t=this.parentVirtDir.getHorizontalScroll();e&&(e.scrollTop=this.scrollTop),t&&(t.scrollLeft=this.scrollLeft)},e.prototype.getPossibleColumnWidth=function(){var e=this.calcWidth||parseInt(this.document.defaultView.getComputedStyle(this.nativeElement).getPropertyValue("width"),10);return e-=this.headerHierarchyExpander.nativeElement.clientWidth,x.prototype.getPossibleColumnWidth.call(this,e)},e.prototype.getChildGrids=function(e){return this.hgridAPI.getChildGrids(e)},e.prototype.generateDataFields=function(e){var t=this;return x.prototype.generateDataFields.call(this,e).filter(function(e){return-1===(t.parentIsland?t.parentIsland.children:t.childLayoutList).map(function(e){return e.key}).indexOf(e)})},e.prototype.hg_verticalScrollHandler=function(e){this.scrollTop=e.target.scrollTop},e.prototype.onContainerScroll=function(){this.hideOverlays()},e.prototype.hg_horizontalScrollHandler=function(e){this.scrollLeft=e.target.scrollLeft},e.prototype.updateParentSizes=function(){for(var e=this.parent;e;){var t=e.hasVerticalSroll(),i=e.verticalScrollContainer;i.recalcUpdateSizes();var n=parseInt(i.dc.instance._viewContainer.element.nativeElement.style.top,10);i.getVerticalScroll().scrollTop=i.getScrollForIndex(i.state.startIndex)-n,t!==e.hasVerticalSroll()&&e.reflow(),e=e.parent}},e.decorators=[{type:b.Component,args:[{changeDetection:b.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-hierarchical-grid",template:'<igx-grid-toolbar role="rowgroup" [style.width.px]="outerWidth" *ngIf="showToolbar" [gridID]="id" [displayDensity]="displayDensity" #toolbar>\n</igx-grid-toolbar>\n\n<ng-template #defaultPager let-api>\n    <button [disabled]="api.isFirstPage" (click)="api.paginate(0)" igxButton="icon" igxRipple igxRippleCentered="true">\n        <igx-icon fontSet="material">first_page</igx-icon>\n    </button>\n    <button [disabled]="api.isFirstPage" (click)="api.previousPage()" igxButton="icon" igxRipple igxRippleCentered="true">\n        <igx-icon fontSet="material">chevron_left</igx-icon>\n    </button>\n    <span>{{ api.page + 1 }} of {{ api.totalPages }}</span>\n    <button [disabled]="api.isLastPage" (click)="api.nextPage()" igxRipple igxRippleCentered="true" igxButton="icon">\n        <igx-icon fontSet="material">chevron_right</igx-icon>\n    </button>\n        <button [disabled]="api.isLastPage" (click)="api.paginate(api.totalPages - 1)" igxButton="icon" igxRipple igxRippleCentered="true">\n        <igx-icon fontSet="material">last_page</igx-icon>\n    </button>\n    <select style="margin-left: 1rem;" (change)="api.perPage = $event.target.value">\n            <option [value]="val" [selected]="api.perPage == val" *ngFor="let val of [5, 10, 15, 25, 50, 100, 500]">{{ val }}</option>\n    </select>\n</ng-template>\n\n<div class="igx-grid__thead">\n    <div class="igx-grid__thead-wrapper"  role="rowgroup" [style.width.px]=\'calcWidth + 1\' #theadRow>\n        <div class="igx-grid__tr" role="row" [style.width.px]=\'calcWidth + 1\'>\n            <span *ngIf="hasMovableColumns && draggedColumn && pinnedColumns.length <= 0" [igxColumnMovingDrop]="parentVirtDir" [attr.droppable]="true" id="left" class="igx-grid__scroll-on-drag-left"></span>\n            <span *ngIf="hasMovableColumns && draggedColumn && pinnedColumns.length > 0" [igxColumnMovingDrop]="parentVirtDir" [attr.droppable]="true" id="left" class="igx-grid__scroll-on-drag-pinned" [style.left.px]="pinnedWidth"></span>\n                <div class="igx-grid__hierarchical-expander igx-grid__hierarchical-expander--header" #headerHierarchyExpander [hidden]=\'!hasExpandableChildren\'[ngClass]="{\n                    \'igx-grid__hierarchical-expander--push\': filteringService.isFilterRowVisible,\n                    \'igx-grid__hierarchical-expander--no-border\': rowSelectable || rowDraggable\n                }">\n                    <igx-icon role="button" fontSet="material" [isActive]=\'hierarchicalState.length > 0 && hasExpandableChildren\' (click)="collapseAllRows()">unfold_less</igx-icon>\n                </div>\n                <ng-container *ngIf="rowDraggable">\n                    <div class="igx-grid__drag-indicator" [ngClass]="{\n                        \'igx-grid__drag-indicator--header\': !rowSelectable\n                    }" #headerDragContainer>\n                        <div style="visibility: hidden;">\n                            <ng-container *ngTemplateOutlet="this.dragIndicatorIconTemplate ? this.dragIndicatorIconTemplate : this.dragIndicatorIconBase"></ng-container>\n                        </div>\n                    </div>\n                </ng-container>\n                <ng-container *ngIf="showRowCheckboxes">\n                    <div class="igx-grid__cbx-selection" #headerCheckboxContainer [ngClass]="{\n                        \'igx-grid__cbx-selection--push\': filteringService.isFilterRowVisible\n                    }">\n                        <igx-checkbox [checked]="allRowsSelected" (change)="onHeaderCheckboxClick($event, filteredData)" disableRipple="true" [aria-label]="headerCheckboxAriaLabel" #headerCheckbox></igx-checkbox>\n                    </div>\n                </ng-container>\n            <ng-container *ngIf="pinnedColumns.length > 0">\n                <ng-template ngFor let-col [ngForOf]="pinnedColumns | igxTopLevel">\n                    <igx-grid-header-group [column]="col" [gridID]="id" [style.min-width.px]="getHeaderGroupWidth(col)" [style.flex-basis.px]="getHeaderGroupWidth(col)"></igx-grid-header-group>\n                </ng-template>\n            </ng-container>\n            <ng-template igxGridFor let-col [igxGridForOf]="unpinnedColumns | igxTopLevel" [igxForScrollOrientation]="\'horizontal\'" [igxForScrollContainer]="parentVirtDir"\n                [igxForContainerSize]=\'unpinnedWidth\' [igxForTrackBy]=\'trackColumnChanges\'  [igxForSizePropName]=\'"calcPixelWidth"\' #headerContainer>\n                <igx-grid-header-group [column]="col" [gridID]="id" [style.min-width.px]="getHeaderGroupWidth(col)" [style.flex-basis.px]="getHeaderGroupWidth(col)"></igx-grid-header-group>\n            </ng-template>\n        </div>\n        <igx-grid-filtering-row #filteringRow [style.width.px]=\'calcWidth\' *ngIf="filteringService.isFilterRowVisible" [column]="filteringService.filteredColumn"></igx-grid-filtering-row>\n    </div>\n    <span *ngIf="hasMovableColumns && draggedColumn" [igxColumnMovingDrop]="parentVirtDir" [attr.droppable]="true" id="right" class="igx-grid__scroll-on-drag-right"></span>\n    <div class="igx-grid__thead-thumb" [hidden]=\'!hasVerticalSroll()\' [style.width.px]="scrollWidth"></div>\n</div>\n\n<div igxGridBody class="igx-grid__tbody">\n    <div class="igx-grid__tbody-content" (onDragStop)="selectionService.dragMode = $event" (onDragScroll)="dragScroll($event)" [igxGridDragSelect]="selectionService.dragMode" role="rowgroup" [style.height.px]=\'calcHeight\' [style.width.px]=\'calcWidth + 1\' #tbody (scroll)=\'scrollHandler($event)\'>\n        <span *ngIf="hasMovableColumns && draggedColumn && pinnedColumns.length <= 0" [igxColumnMovingDrop]="parentVirtDir" [attr.droppable]="true" id="left" class="igx-grid__scroll-on-drag-left"></span>\n        <span *ngIf="hasMovableColumns && draggedColumn && pinnedColumns.length > 0" [igxColumnMovingDrop]="parentVirtDir" [attr.droppable]="true" id="left" class="igx-grid__scroll-on-drag-pinned" [style.left.px]="pinnedWidth"></span>\n        <ng-template igxGridFor let-rowData [igxGridForOf]="data\n        | gridTransaction:id:pipeTrigger\n        | gridFiltering:filteringExpressionsTree:id:pipeTrigger\n        | gridSort:sortingExpressions:id:pipeTrigger\n        | gridHierarchicalPaging:page:perPage:id:pipeTrigger\n        | gridHierarchical:hierarchicalState:id:primaryKey:childLayoutKeys:pipeTrigger"\n        let-rowIndex="index" [igxForScrollOrientation]="\'vertical\'"  [igxForScrollContainer]=\'verticalScroll\'\n        [igxForContainerSize]=\'calcHeight\' [igxForItemSize]="renderedRowHeight" [igxForTrackBy]=\'trackChanges\' #verticalScrollContainer (onChunkPreload)="dataLoading($event)">\n                <ng-template\n                [igxTemplateOutlet]=\'(isHierarchicalRecord(rowData) ? hierarchical_record_template : (isChildGridRecord(rowData) && isExpanded(rowData) ? child_record_template : hierarchical_record_template))\'\n                [igxTemplateOutletContext]=\'getContext(rowData)\'\n                (onViewCreated)=\'viewCreatedHandler($event)\'\n                (onViewMoved)=\'viewMovedHandler($event)\'\n                (onCachedViewLoaded)=\'cachedViewLoaded($event)\'\n                ></ng-template>\n            \x3c!-- <ng-container *igxTemplateOutlet="(isHierarchicalRecord(rowData) ? hierarchical_record_template : (isChildGridRecord(rowData) && isExpanded(rowData) ? child_record_template : hierarchical_record_template)); context: getContext(rowData)"></ng-container> --\x3e\n        </ng-template>\n        <ng-template #hierarchical_record_template let-rowIndex="index" let-rowData>\n            <igx-hierarchical-grid-row [gridID]="id" [index]="rowIndex" [rowData]="rowData" #row>\n            </igx-hierarchical-grid-row>\n        </ng-template>\n        <ng-template #child_record_template let-rowIndex="index" let-rowData>\n            <div style="overflow:auto;width: 100%;" [attr.data-rowindex]=\'rowIndex\' (scroll)=\'onContainerScroll()\' [ngClass]="{\n                \'igx-grid__tr-container\': true,\n                \'igx-grid__tr--highlighted\':isRowHighlighted(rowData)\n            }">\n                    <igx-child-grid-row *ngFor="let layout of childLayoutList" [parentGridID]="id" [index]="rowIndex" [rowData]="rowData" [layout]=\'layout\' #row>\n                    </igx-child-grid-row>\n            </div>\n        </ng-template>\n        <ng-template #summary_template let-rowIndex="index" let-rowData>\n            <igx-grid-summary-row [gridID]="id" [summaries]="rowData.summaries" [index]="rowIndex" class="igx-grid__summaries--body" #summaryRow>\n            </igx-grid-summary-row>\n        </ng-template>\n        <ng-container *ngTemplateOutlet="template"></ng-container>\n        <span *ngIf="hasMovableColumns && draggedColumn" [igxColumnMovingDrop]="parentVirtDir" [attr.droppable]="true" id="right" class="igx-grid__scroll-on-drag-right"></span>\n        <div class="igx-grid__row-editing-outlet" igxOverlayOutlet #igxRowEditingOverlayOutlet></div>\n    </div>\n    <span *ngIf="hasMovableColumns && draggedColumn" [igxColumnMovingDrop]="parentVirtDir" [attr.droppable]="true" id="right" class="igx-grid__scroll-on-drag-right"></span>\n    <div [hidden]=\'!hasVerticalSroll()\' class="igx-grid__tbody-scrollbar" [style.width.px]="scrollWidth" [style.height.px]=\'calcHeight\'>\n        <ng-template igxGridFor [igxGridForOf]=\'[]\' #verticalScrollHolder ></ng-template>\n    </div>\n</div>\n\n\n<div class="igx-grid__tfoot" role="rowgroup" [style.height.px]=\'summariesHeight\' #tfoot>\n    <igx-grid-summary-row [style.width.px]=\'calcWidth\' [style.height.px]=\'summariesHeight\'\n        *ngIf="hasSummarizedColumns && rootSummariesEnabled"\n        [gridID]="id"\n        [summaries]="id | igxGridSummaryDataPipe:summaryService.retriggerRootPipe"\n        [index]="0"\n        class="igx-grid__summaries"\n        #summaryRow>\n    </igx-grid-summary-row>\n    <div class="igx-grid__tfoot-thumb" [hidden]=\'!hasVerticalSroll()\' [style.height.px]=\'summariesHeight\' [style.width.px]="scrollWidth"></div>\n</div>\n\n<div class="igx-grid__scroll" [style.height]="\'18px\'" #scr [hidden]="unpinnedWidth - totalWidth >= 0">\n    <div class="igx-grid__scroll-start" [style.width.px]=\'pinnedWidth\' [hidden]="pinnedWidth === 0"></div>\n    <div class="igx-grid__scroll-main" [style.width.px]=\'unpinnedWidth\'>\n        <ng-template igxGridFor [igxGridForOf]=\'[]\' #scrollContainer>\n        </ng-template>\n    </div>\n</div>\n\n<div class="igx-paginator igx-grid-paginator" *ngIf="paging && totalRecords" #paginator>\n    <ng-container *ngTemplateOutlet="paginationTemplate ? paginationTemplate : defaultPager; context: { $implicit: this }">\n    </ng-container>\n</div>\n\n<ng-template #emptyFilteredGrid>\n    <span class="igx-grid__tbody-message">{{emptyFilteredGridMessage}}</span>\n</ng-template>\n\n<ng-template #defaultEmptyGrid>\n    <span class="igx-grid__tbody-message">{{emptyGridMessage}}</span>\n</ng-template>\n\n<ng-template #defaultLoadingGrid>\n    <div class="igx-grid__loading">\n        <igx-circular-bar [indeterminate]="true">\n        </igx-circular-bar>\n    </div>\n</ng-template>\n\n\n<div *ngIf="rowEditable" igxToggle>\n    <div [className]="bannerClass">\n        <ng-container *ngTemplateOutlet="rowEditContainer; context: { rowChangesCount: rowChangesCount, endEdit: endEdit.bind(this) }"></ng-container>\n    </div>\n</div>\n<ng-template #defaultRowEditText>\n    You have {{ rowChangesCount }} changes in this row\n</ng-template>\n<ng-template #defaultRowEditActions>\n    <button igxButton igxRowEditTabStop (click)="endEdit(false, $event)">Cancel</button>\n    <button igxButton igxRowEditTabStop (click)="endEdit(true, $event)">Done</button>\n</ng-template>\n<ng-template #defaultRowEditTemplate>\n    <div class="igx-banner__message">\n        <span class="igx-banner__text">\n            <ng-container *ngTemplateOutlet="rowEditText ? rowEditText : defaultRowEditText; context: { $implicit: rowChangesCount }"></ng-container>\n        </span>\n    </div>\n    <div class="igx-banner__actions">\n        <div class="igx-banner__row">\n            <ng-container *ngTemplateOutlet="rowEditActions ? rowEditActions : defaultRowEditActions; context: { $implicit: endEdit.bind(this) }"></ng-container>\n        </div>\n    </div>\n</ng-template>\n\n<ng-template #dragIndicatorIconBase>\n    <igx-icon fontSet="material">drag_indicator</igx-icon>\n</ng-template>\n\n<igx-grid-column-resizer *ngIf="colResizingService.showResizer"></igx-grid-column-resizer>\n<div class="igx-grid__outlet" #igxFilteringOverlayOutlet igxOverlayOutlet></div>\n',providers:[bl,xl,{provide:_i,useClass:vu},{provide:Xc,useExisting:b.forwardRef(function(){return e})},Ac,mc,gu,pr]}]}],e.ctorParameters=function(){return[{type:bl},{type:xl},{type:El},{type:_i},{type:hu},{type:undefined,decorators:[{type:b.Inject,args:[Wc]}]},{type:b.ElementRef},{type:b.NgZone},{type:undefined,decorators:[{type:b.Inject,args:[r.DOCUMENT]}]},{type:b.ChangeDetectorRef},{type:b.ComponentFactoryResolver},{type:b.IterableDiffers},{type:b.ViewContainerRef},{type:gu},{type:mc},{type:En,decorators:[{type:b.Inject,args:[En]}]},{type:Ac},{type:undefined,decorators:[{type:b.Optional},{type:b.Inject,args:[tr]}]}]},e.propDecorators={id:[{type:b.HostBinding,args:["attr.id"]},{type:b.Input}],data:[{type:b.Input}],hierarchicalState:[{type:b.Input}],expandChildren:[{type:b.Input}],childLayoutList:[{type:b.ContentChildren,args:[bu,{read:bu,descendants:!1}]}],allLayoutList:[{type:b.ContentChildren,args:[bu,{read:bu,descendants:!0}]}],dragIndicatorIconTemplate:[{type:b.ContentChild,args:[Ap,{read:b.TemplateRef}]}],hierarchicalRecordTemplate:[{type:b.ViewChild,args:["hierarchical_record_template",{read:b.TemplateRef}]}],childTemplate:[{type:b.ViewChild,args:["child_record_template",{read:b.TemplateRef}]}],headerHierarchyExpander:[{type:b.ViewChild,args:["headerHierarchyExpander",{read:b.ElementRef}]}],templateOutlets:[{type:b.ViewChildren,args:[Bc,{read:Bc}]}],hierarchicalRows:[{type:b.ViewChildren,args:[Cu,{read:Cu}]}]},e}(yu),Su=function(l){function e(e,t,i,n,r,o,s){var a=l.call(this,e,t,i,n,r,o,s)||this;return a.selectionService=e,a.crudService=t,a.gridAPI=i,a.selection=n,a.cdr=r,a.helement=o,a.zone=s,a.hSelection=n,a}return f(e,l),e.prototype.ngOnInit=function(){l.prototype.ngOnInit.call(this),this._rootGrid=this._getRootGrid()},e.prototype._getRootGrid=function(){for(var e=this.grid;e.parent;)e=e.parent;return e},e.prototype._clearAllHighlights=function(){_([this._rootGrid],this._rootGrid.getChildGrids(!0)).forEach(function(e){e.selectionService.clear(),e.selectionService.activeElement=null,e.nativeElement.classList.remove("igx-grid__tr--highlighted"),e.highlightedRowID=null,e.cdr.markForCheck()})},e.prototype.onFocus=function(e){this._clearAllHighlights();var t,i=this.grid.nativeElement,n=this.grid;for(this._rootGrid.id!==i.id&&i.classList.add("igx-grid__tr--highlighted");this._rootGrid.id!==n.id;){var r=(n=(t=n).parent).hgridAPI.getParentRowId(t);n.highlightedRowID=r}l.prototype.onFocus.call(this,e)},e.prototype.dispatchEvent=function(e){var t=this,i=e.key.toLowerCase();if(!e.altKey||this.row.added)l.prototype.dispatchEvent.call(this,e);else{var n=this.gridAPI.grid,r=this.gridAPI.grid.hierarchicalState,o=this.row.expanded&&("left"===i||"arrowleft"===i||"up"===i||"arrowup"===i),s=!this.row.expanded&&("right"===i||"arrowright"===i||"down"===i||"arrowdown"===i);if(o?n.hierarchicalState=r.filter(function(e){return e.rowID!==t.row.rowID}):s&&(r.push({rowID:this.row.rowID}),n.hierarchicalState=_(r)),s||o){var a=this.cellID.rowID;n.cdr.detectChanges(),this.persistFocusedCell(a)}}},e.prototype.persistFocusedCell=function(t){var i=this;requestAnimationFrame(function(){var e=i.gridAPI.get_cell_by_key(t,i.column.field);e&&e.nativeElement.focus()})},e.decorators=[{type:b.Component,args:[{changeDetection:b.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-hierarchical-grid-cell",template:'<ng-template #defaultCell>\n    <div igxTextHighlight [cssClass]="highlightClass" [activeCssClass]="activeHighlightClass" [groupName]="gridID"\n        [value]="formatter ? formatter(value) : column.dataType === \'number\' ? (value | igxdecimal: grid.locale) : column.dataType === \'date\' ? (value | igxdate: grid.locale) : value"\n        [row]="rowData" [column]="this.column.field" [containerClass]="\'igx-grid__td-text\'"\n        class="igx-grid__td-text">{{ formatter ? formatter(value) : column.dataType === \'number\' ? (value | igxdecimal:\n        grid.locale) : column.dataType === \'date\' ? (value | igxdate: grid.locale) : value }}</div>\n</ng-template>\n<ng-template #inlineEditor let-cell="cell">\n    <ng-container *ngIf="column.dataType === \'string\'">\n        <igx-input-group displayDensity="compact">\n            <input igxInput [value]="editValue" (input)="editValue = $event.target.value" [igxFocus]="focused" />\n        </igx-input-group>\n    </ng-container>\n    <ng-container *ngIf="column.dataType === \'number\'">\n        <igx-input-group displayDensity="compact">\n            <input igxInput [value]="editValue" (input)="editValue = $event.target.value" [igxFocus]="focused" type="number">\n        </igx-input-group>\n    </ng-container>\n    <ng-container *ngIf="column.dataType === \'boolean\'">\n        <igx-checkbox (change)="editValue = $event.checked" [value]="editValue" [checked]="editValue"\n            [igxFocus]="focused" [disableRipple]="true"></igx-checkbox>\n    </ng-container>\n    <ng-container *ngIf="column.dataType === \'date\'">\n        <igx-date-picker [style.width.%]="100" [outlet]="grid.outletDirective" mode="dropdown" (onSelection)="editValue = $event"\n            [locale]="grid.locale" [value]="editValue" [igxFocus]="focused" [labelVisibility]="false">\n        </igx-date-picker>\n    </ng-container>\n</ng-template>\n<ng-container *ngTemplateOutlet="template; context: context">\n</ng-container>\n'}]}],e.ctorParameters=function(){return[{type:bl},{type:xl},{type:_i},{type:hu},{type:b.ChangeDetectorRef},{type:b.ElementRef},{type:b.NgZone}]},e.propDecorators={onFocus:[{type:b.HostListener,args:["focus",["$event"]]}],dispatchEvent:[{type:b.HostListener,args:["keydown",["$event"]]}]},e}(Cl),Iu=function(a){function e(e,t,i,n,r,o){var s=a.call(this,e,t,i,n,r,o)||this;return s.gridAPI=e,s.crudService=t,s.selectionService=i,s.hselection=n,s.element=r,s.cdr=o,s.tabindex=0,s}return f(e,a),Object.defineProperty(e.prototype,"expanded",{get:function(){return this.grid.isExpanded(this.rowData)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasChildren",{get:function(){return!!this.grid.childLayoutKeys.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"highlighted",{get:function(){return this.grid&&this.grid.highlightedRowID===this.rowID},enumerable:!0,configurable:!0}),e.prototype.toggle=function(){var t=this;if(!this.added){var e=this.gridAPI.grid,i=this.gridAPI.grid.hierarchicalState;this.expanded?e.hierarchicalState=i.filter(function(e){return e.rowID!==t.rowID}):(i.push({rowID:this.rowID}),e.hierarchicalState=_(i)),e.cdr.detectChanges(),requestAnimationFrame(function(){e.reflow()})}},e.decorators=[{type:b.Component,args:[{changeDetection:b.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-hierarchical-grid-row",template:'<div (click)="toggle()" class="igx-grid__hierarchical-expander" [tabIndex]="tabindex" *ngIf="hasChildren" #expander>\n    <igx-icon *ngIf="!expanded" [isActive]=\'!added\' fontSet="material">expand_more</igx-icon>\n    <igx-icon *ngIf="expanded" [isActive]=\'!added\' fontSet="material">expand_less</igx-icon>\n</div>\n<ng-container *ngIf="rowDraggable">\n    <div [class]="resolveDragIndicatorClasses" [igxRowDrag]="this">\n            <ng-container *ngTemplateOutlet="this.grid.dragIndicatorIconTemplate ? this.grid.dragIndicatorIconTemplate : this.grid.dragIndicatorIconBase"></ng-container>\n    </div>\n</ng-container>\n<ng-container *ngIf="rowSelectable">\n        <div class="igx-grid__cbx-selection">\n            <igx-checkbox [checked]="isSelected" (change)="onCheckboxClick($event)" disableRipple="true" [disableTransitions]="grid.disableTransitions" [aria-label]="rowCheckboxAriaLabel"></igx-checkbox>\n        </div>\n</ng-container>\n\n<ng-container *ngIf="pinnedColumns.length > 0">\n    <igx-hierarchical-grid-cell *ngFor="let col of pinnedColumns | igxNotGrouped"\n        class="igx-grid__td igx-grid__td--fw igx-grid__td--pinned"\n        [class.igx-grid__td--number]="col.dataType === \'number\'"\n        [ngClass]="col.cellClasses | igxCellStyles:rowData[col.field]:rowData:col.field"\n        [editMode]="col.editable && crudService.isInEditMode(index, col.index)"\n        [column]="col"\n        [formatter]="col.formatter"\n        [row]="this"\n        [lastPinned]="col.isLastPinned"\n        [style.min-height.px]="grid.rowHeight || 32"\n        [rowData]="rowData"\n        [style.min-width.px]="col.width"\n        [style.flex-basis.px]="col.width"\n        [width]="col.getCellWidth()"\n        [visibleColumnIndex]="col.visibleIndex"\n        [value]="rowData[col.field]"\n        [cellTemplate]="col.bodyTemplate">\n    </igx-hierarchical-grid-cell>\n</ng-container>\n\n<ng-template igxGridFor let-col [igxGridForOf]="unpinnedColumns | igxNotGrouped" [igxForScrollContainer]="grid.parentVirtDir" let-colIndex="index" [igxForSizePropName]=\'"calcPixelWidth"\' [igxForScrollOrientation]="\'horizontal\'" [igxForContainerSize]=\'grid.unpinnedWidth\' [igxForTrackBy]=\'grid.trackColumnChanges\' #igxDirRef>\n    <igx-hierarchical-grid-cell\n        class="igx-grid__td igx-grid__td--fw"\n        [class.igx-grid__td--number]="col.dataType === \'number\'"\n        [ngClass]="col.cellClasses | igxCellStyles:rowData[col.field]:rowData:col.field"\n        [editMode]="col.editable && crudService.isInEditMode(index, col.index)"\n        [column]="col"\n        [formatter]="col.formatter"\n        [row]="this"\n        [style.min-height.px]="grid.rowHeight || 32"\n        [rowData]="rowData"\n        [style.min-width.px]="col.width"\n        [style.flex-basis.px]="col.width"\n        [width]="col.getCellWidth()"\n        [visibleColumnIndex]="col.visibleIndex"\n        [value]="rowData[col.field]"\n        [cellTemplate]="col.bodyTemplate">\n    </igx-hierarchical-grid-cell>\n</ng-template>\n\n',providers:[{provide:wl,useExisting:b.forwardRef(function(){return e})}]}]}],e.ctorParameters=function(){return[{type:_i},{type:xl},{type:bl},{type:hu},{type:b.ElementRef},{type:b.ChangeDetectorRef}]},e.propDecorators={cells:[{type:b.ViewChildren,args:[b.forwardRef(function(){return Su}),{read:Su}]}],expander:[{type:b.ViewChild,args:["expander",{read:b.ElementRef}]}],tabindex:[{type:b.HostBinding,args:["attr.tabindex"]}],expanded:[{type:b.HostBinding,args:["class.igx-grid__tr--expanded"]}],highlighted:[{type:b.HostBinding,args:["class.igx-grid__tr--highlighted"]}]},e}(wl),Du=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,i,n,r,o){if(void 0===t&&(t=[]),0===r.length)return e;var s=this.gridAPI.grid;return this.addHierarchy(s,ti(e),t,n,r)},e.prototype.addHierarchy=function(e,t,i,r,o){var s=[];return t.forEach(function(i){s.push(i);var n={};o.forEach(function(e){var t=i[e]?i[e]:null;n[e]=t}),e.isExpanded(i)&&s.push({rowID:r?i[r]:i,childGridsData:n})}),s},e.decorators=[{type:b.Pipe,args:[{name:"gridHierarchical",pure:!0}]}],e.ctorParameters=function(){return[{type:_i}]},e}(),Eu=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,i,n,r){if(void 0===t&&(t=0),void 0===i&&(i=15),!this.gridAPI.grid.paging)return e;var o={index:t,recordsPerPage:i},s=Ti.page(ti(e),o);return this.gridAPI.grid.pagingState=o,s},e.decorators=[{type:b.Pipe,args:[{name:"gridHierarchicalPaging",pure:!0}]}],e.ctorParameters=function(){return[{type:_i}]},e}(),Ou=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[_u,Iu,bu,Cu,Su,Du,Eu],exports:[Jp,_u,Iu,Su,bu,Cu],imports:[r.CommonModule,o.FormsModule,Da,Jp],providers:[xu,hu]}]}],e}(),Pu=function(){function e(){}return e.decorators=[{type:b.Directive,args:[{selector:"igx-action-icon"}]}],e}(),Tu=0,Ru=function(){function e(){this.isVisible=!0,this.id="igx-navbar-"+Tu++,this.onAction=new b.EventEmitter,this.titleId="igx-navbar-"+e.NEXT_ID++}return Object.defineProperty(e.prototype,"isActionButtonVisible",{get:function(){return!(this.actionIconTemplate||!this.actionButtonIcon)&&this.isVisible},set:function(e){this.isVisible=e},enumerable:!0,configurable:!0}),e.prototype._triggerAction=function(){this.onAction.emit(this)},e.NEXT_ID=1,e.decorators=[{type:b.Component,args:[{selector:"igx-navbar",template:'<nav class="igx-navbar" role="navigation" [attr.aria-labelledby]="titleId">\n    <div class="igx-navbar__left">\n        <igx-icon (click)="_triggerAction()" fontSet="material" *ngIf="isActionButtonVisible">{{actionButtonIcon}}</igx-icon>\n        <ng-content select="igx-action-icon"></ng-content>\n        <h1 class="igx-navbar__title" [attr.id]="titleId">{{ title }}</h1>\n    </div>\n    <div class="igx-navbar__right">\n        <ng-content></ng-content>\n    </div>\n</nav>\n',styles:["\n        :host {\n            display: block;\n        }\n    "]}]}],e.propDecorators={id:[{type:b.HostBinding,args:["attr.id"]},{type:b.Input}],isActionButtonVisible:[{type:b.Input}],actionButtonIcon:[{type:b.Input}],title:[{type:b.Input}],onAction:[{type:b.Output}],titleId:[{type:b.Input}],actionIconTemplate:[{type:b.ContentChild,args:[Pu,{read:Pu}]}]},e}(),ku=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[Ru,Pu],exports:[Ru,Pu],imports:[Vr,Go,r.CommonModule]}]}],e}(),Lu=function(){function e(){this.active=!1,this.isHeader=!1,this.activeClass="igx-nav-drawer__item--active"}return Object.defineProperty(e.prototype,"defaultCSS",{get:function(){return!this.active&&!this.isHeader},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentCSS",{get:function(){return this.active&&!this.isHeader},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerCSS",{get:function(){return this.isHeader},enumerable:!0,configurable:!0}),e.decorators=[{type:b.Directive,args:[{selector:"[igxDrawerItem]",exportAs:"igxDrawerItem"}]}],e.propDecorators={active:[{type:b.Input,args:["active"]}],isHeader:[{type:b.Input,args:["isHeader"]}],defaultCSS:[{type:b.HostBinding,args:["class.igx-nav-drawer__item"]}],currentCSS:[{type:b.HostBinding,args:["class.igx-nav-drawer__item--active"]}],headerCSS:[{type:b.HostBinding,args:["class.igx-nav-drawer__item--header"]}]},e}(),Au=function(){function e(e){this.template=e}return e.decorators=[{type:b.Directive,args:[{selector:"[igxDrawer]"}]}],e.ctorParameters=function(){return[{type:b.TemplateRef}]},e}(),Fu=function(){function e(e){this.template=e}return e.decorators=[{type:b.Directive,args:[{selector:"[igxDrawerMini]"}]}],e.ctorParameters=function(){return[{type:b.TemplateRef}]},e}(),Mu=0,Vu=function(){function e(e,t,i,n){var s=this;this.elementRef=e,this._state=t,this.renderer=i,this._touchManager=n,this.cssClass="igx-nav-drawer",this.id="igx-nav-drawer-"+Mu++,this.position="left",this.enableGestures=!0,this.isOpen=!1,this.pin=!1,this.pinThreshold=1024,this.width="280px",this.miniWidth="60px",this.pinChange=new b.EventEmitter(!0),this.opening=new b.EventEmitter,this.opened=new b.EventEmitter,this.closing=new b.EventEmitter,this.closed=new b.EventEmitter,this._gesturesAttached=!1,this._widthCache={width:null,miniWidth:null,windowWidth:null},this.css={drawer:"igx-nav-drawer__aside",mini:"igx-nav-drawer__aside--mini",overlay:"igx-nav-drawer__overlay",styleDummy:"igx-nav-drawer__style-dummy"},this._panning=!1,this._maxEdgeZone=50,this.checkPinThreshold=function(e){var t;if(s.pinThreshold){if(t=s.getWindowWidth(),e&&s._widthCache.windowWidth===t)return;s._widthCache.windowWidth=t,!s.pin&&t>=s.pinThreshold?(s.pin=!0,s.pinChange.emit(!0)):s.pin&&t<s.pinThreshold&&(s.pin=!1,s.pinChange.emit(!1))}},this.swipe=function(e){var t,i;s.enableGestures&&"touch"===e.pointerType&&(i="right"===s.position?(t=-e.deltaX,s.getWindowWidth()-(e.center.x+e.distance)):(t=e.deltaX,e.center.x-e.distance),(s.isOpen&&t<0||0<t&&i<s.maxEdgeZone)&&s.toggle())},this.panstart=function(e){if(s.enableGestures&&!s.pin&&"touch"===e.pointerType){var t="right"===s.position?s.getWindowWidth()-(e.center.x+e.distance):e.center.x-e.distance;(s.isOpen||t<s.maxEdgeZone)&&(s._panning=!0,s._panStartWidth=s.getExpectedWidth(!s.isOpen),s._panLimit=s.getExpectedWidth(s.isOpen),s.renderer.setElementClass(s.overlay,"panning",!0),s.renderer.setElementClass(s.drawer,"panning",!0))}},this.pan=function(e){if(s._panning){var t,i,n,r="right"===s.position,o=r?-e.deltaX:e.deltaX;if(t=s._panStartWidth+o,s.isOpen&&o<0){if(t<=s._panLimit)return;i=s.hasAnimateWidth?(n=(t-s._panLimit)/(s._panStartWidth-s._panLimit),t):(n=t/s._panStartWidth,e.deltaX),s.setXSize(i,n.toPrecision(2))}else if(!s.isOpen&&0<o){if(t>=s._panLimit)return;i=s.hasAnimateWidth?(n=(t-s._panStartWidth)/(s._panLimit-s._panStartWidth),t):(n=t/s._panLimit,(s._panLimit-t)*(r?1:-1)),s.setXSize(i,n.toPrecision(2))}}},this.panEnd=function(e){if(s._panning){var t="right"===s.position?-e.deltaX:e.deltaX,i=s._panStartWidth+t;s.resetPan(),s.isOpen&&i<=s._panStartWidth/2?s.close():!s.isOpen&&i>=s._panLimit/2&&s.open(),s._panStartWidth=null}},this.toggleOpenedEvent=function(e){s.elementRef.nativeElement.removeEventListener("transitionend",s.toggleOpenedEvent,!1),s.opened.emit()},this.toggleClosedEvent=function(e){s.elementRef.nativeElement.removeEventListener("transitionend",s.toggleClosedEvent,!1),s.closed.emit()}}return Object.defineProperty(e.prototype,"element",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"template",{get:function(){return this.miniTemplate&&!this.isOpen?this.miniTemplate.template:this.contentTemplate?this.contentTemplate.template:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"miniTemplate",{get:function(){return this._miniTemplate},set:function(e){this.isOpen||this.setDrawerWidth(e?this.miniWidth:""),this._miniTemplate=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"flexWidth",{get:function(){return this.pin?this.isOpen?this.width:this.miniTemplate&&this.miniWidth?this.miniWidth:"0px":"0px"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPinnedRight",{get:function(){return this.pin&&"right"===this.position?"1":"0"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"drawer",{get:function(){return this._drawer.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overlay",{get:function(){return this._overlay.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"styleDummy",{get:function(){return this._styleDummy.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasAnimateWidth",{get:function(){return this.pin||!!this.miniTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxEdgeZone",{get:function(){return this._maxEdgeZone},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"expectedWidth",{get:function(){return this.getExpectedWidth(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"expectedMiniWidth",{get:function(){return this.getExpectedWidth(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"touchManager",{get:function(){return this._touchManager},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this._state&&this._state.add(this.id,this),this.isOpen&&this.setDrawerWidth(this.width)},e.prototype.ngAfterContentInit=function(){this.updateEdgeZone(),this.checkPinThreshold(),this.ensureEvents()},e.prototype.ngOnDestroy=function(){this._touchManager.destroy(),this._state&&this._state.remove(this.id),this._resizeObserver&&this._resizeObserver.unsubscribe()},e.prototype.ngOnChanges=function(e){e.enableGestures&&e.enableGestures.currentValue!==undefined&&(this.enableGestures=!(!this.enableGestures||"true"!==this.enableGestures.toString()),this.ensureEvents()),e.pin&&e.pin.currentValue!==undefined&&(this.pin=!(!this.pin||"true"!==this.pin.toString()),this.pin?(this._touchManager.destroy(),this._gesturesAttached=!1):this.ensureEvents()),e.pinThreshold&&this.pinThreshold&&(this.ensureEvents(),this.checkPinThreshold()),e.width&&this.isOpen&&this.setDrawerWidth(e.width.currentValue),e.miniWidth&&(this.isOpen||this.setDrawerWidth(e.miniWidth.currentValue),this.updateEdgeZone())},e.prototype.toggle=function(){this.isOpen?this.close():this.open()},e.prototype.open=function(){this._panning&&this.resetPan(),this.isOpen||(this.opening.emit(),this.isOpen=!0,this.elementRef.nativeElement.addEventListener("transitionend",this.toggleOpenedEvent,!1),this.setDrawerWidth(this.width))},e.prototype.close=function(){this._panning&&this.resetPan(),this.isOpen&&(this.closing.emit(),this.isOpen=!1,this.setDrawerWidth(this.miniTemplate?this.miniWidth:""),this.elementRef.nativeElement.addEventListener("transitionend",this.toggleClosedEvent,!1))},e.prototype.set_maxEdgeZone=function(e){this._maxEdgeZone=e},e.prototype.getExpectedWidth=function(e){return e?this.miniTemplate?this.miniWidth?parseFloat(this.miniWidth):(null===this._widthCache.miniWidth&&(this.renderer.setElementClass(this.styleDummy,this.css.drawer,!0),this.renderer.setElementClass(this.styleDummy,this.css.mini,!0),this._widthCache.miniWidth=this.styleDummy.offsetWidth,this.renderer.setElementClass(this.styleDummy,this.css.drawer,!1),this.renderer.setElementClass(this.styleDummy,this.css.mini,!1)),this._widthCache.miniWidth):0:this.width?parseFloat(this.width):(null===this._widthCache.width&&(this.renderer.setElementClass(this.styleDummy,this.css.drawer,!0),this._widthCache.width=this.styleDummy.offsetWidth,this.renderer.setElementClass(this.styleDummy,this.css.drawer,!1)),this._widthCache.width)},e.prototype.getWindowWidth=function(){return 0<window.innerWidth?window.innerWidth:screen.width},e.prototype.setDrawerWidth=function(e){var t=this;window.requestAnimationFrame(function(){t.drawer&&t.renderer.setElementStyle(t.drawer,"width",e)})},e.prototype.getDrawerWidth=function(){return this.drawer.offsetWidth},e.prototype.ensureEvents=function(){var t=this;!this.enableGestures||this.pin||this._gesturesAttached||(this._touchManager.addGlobalEventListener("document","swipe",this.swipe),this._gesturesAttached=!0,this._touchManager.addGlobalEventListener("document","panstart",this.panstart),this._touchManager.addGlobalEventListener("document","panmove",this.pan),this._touchManager.addGlobalEventListener("document","panend",this.panEnd)),this._resizeObserver||(this._resizeObserver=x.fromEvent(window,"resize").pipe(p.debounce(function(){return x.interval(150)})).subscribe(function(e){t.checkPinThreshold(e)}))},e.prototype.updateEdgeZone=function(){var e;this.miniTemplate&&(e=Math.max(this._maxEdgeZone,1.1*this.getExpectedWidth(!0)),this.set_maxEdgeZone(e))},e.prototype.resetPan=function(){this._panning=!1,this.renderer.setElementClass(this.overlay,"panning",!1),this.renderer.setElementClass(this.drawer,"panning",!1),this.setXSize(0,"")},e.prototype.setXSize=function(e,t){var i=this;window.requestAnimationFrame(function(){i.hasAnimateWidth?i.renderer.setElementStyle(i.drawer,"width",e?Math.abs(e)+"px":""):(i.renderer.setElementStyle(i.drawer,"transform",e?"translate3d("+e+"px,0,0)":""),i.renderer.setElementStyle(i.drawer,"-webkit-transform",e?"translate3d("+e+"px,0,0)":"")),t!==undefined&&i.renderer.setElementStyle(i.overlay,"opacity",t)})},e.decorators=[{type:b.Component,args:[{providers:[Cp],selector:"igx-nav-drawer",template:'<ng-template #defaultItemsTemplate>\n    <div igxDrawerItem [isHeader]="true">Navigation Drawer</div>\n    <div igxDrawerItem> Start by adding</div>\n    <div igxDrawerItem> <code>&lt;ng-template igxDrawer&gt;</code> </div>\n    <div igxDrawerItem> And some items inside </div>\n    <div igxDrawerItem> Style with igxDrawerItem </div>\n    <div igxDrawerItem> and igxRipple directives</div>\n</ng-template>\n\n<div [hidden]="pin"\n    class="igx-nav-drawer__overlay"\n    [class.igx-nav-drawer__overlay--hidden]="!isOpen"\n    (click)="close()" #overlay>\n</div>\n<aside role="navigation"\n    class="igx-nav-drawer__aside"\n    [class.igx-nav-drawer__aside--collapsed]="!miniTemplate && !isOpen"\n    [class.igx-nav-drawer__aside--mini]="miniTemplate && !isOpen"\n    [class.igx-nav-drawer__aside--normal]="!miniTemplate || isOpen"\n    [class.igx-nav-drawer__aside--pinned]="pin"\n    [class.igx-nav-drawer__aside--right]="position == \'right\'" #aside>\n\n    <ng-container *ngTemplateOutlet="template || defaultItemsTemplate"></ng-container>\n</aside>\n<div class="igx-nav-drawer__style-dummy" #dummy></div>\n',styles:["\n        :host {\n            display: block;\n            height: 100%;\n        }\n    "]}]}],e.ctorParameters=function(){return[{type:b.ElementRef,decorators:[{type:b.Inject,args:[b.ElementRef]}]},{type:Zt,decorators:[{type:b.Optional}]},{type:b.Renderer},{type:Cp}]},e.propDecorators={cssClass:[{type:b.HostBinding,args:["class"]}],id:[{type:b.HostBinding,args:["attr.id"]},{type:b.Input}],position:[{type:b.Input}],enableGestures:[{type:b.Input}],isOpen:[{type:b.Input}],pin:[{type:b.Input}],pinThreshold:[{type:b.Input}],width:[{type:b.Input}],miniWidth:[{type:b.Input}],pinChange:[{type:b.Output}],opening:[{type:b.Output}],opened:[{type:b.Output}],closing:[{type:b.Output}],closed:[{type:b.Output}],miniTemplate:[{type:b.ContentChild,args:[Fu,{read:Fu}]}],contentTemplate:[{type:b.ContentChild,args:[Au,{read:Au}]}],flexWidth:[{type:b.HostBinding,args:["style.flexBasis"]}],isPinnedRight:[{type:b.HostBinding,args:["style.order"]}],_drawer:[{type:b.ViewChild,args:["aside"]}],_overlay:[{type:b.ViewChild,args:["overlay"]}],_styleDummy:[{type:b.ViewChild,args:["dummy"]}]},e}(),Hu=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[Vu,Lu,Fu,Au],exports:[Vu,Lu,Fu,Au],imports:[r.CommonModule]}]}],e}(),Bu=function(){function e(e){this._elementRef=e,this._isActiveLabel=!1,this._destroy$=new x.Subject,this.isActive=!1,this.onThumbValueChange=new b.EventEmitter,this.onChange=new b.EventEmitter,this.tabindex=0}return Object.defineProperty(e.prototype,"thumbFromClass",{get:function(){return this.fromHandler},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"thumbToClass",{get:function(){return!this.fromHandler},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"thumbFromActiveClass",{get:function(){return this.fromHandler&&this._isActiveLabel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"thumbToActiveClass",{get:function(){return!this.fromHandler&&this._isActiveLabel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this._elementRef.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"thumbPositionX",{get:function(){var e=this.nativeElement.getBoundingClientRect(),t=(e.right-e.left)/2;return e.left+t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"destroy",{get:function(){return this._destroy$},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var t=this;this.onPan.pipe(p.takeUntil(this._destroy$)).subscribe(function(e){return t.updateThumbValue(e)})},e.prototype.ngOnDestroy=function(){this._destroy$.next(!0),this._destroy$.complete()},e.prototype.onKeyDown=function(e){if(!this.disabled){var t=0;if(e.key.endsWith("Left"))t=-1*this.step;else{if(!e.key.endsWith("Right"))return;t=this.step}this.onChange.emit(),this.onThumbValueChange.emit(t)}},e.prototype.onBlur=function(){this.isActive=!1},e.prototype.onFocusListener=function(){this.isActive=!0},e.prototype.showThumbLabel=function(){this.disabled||this.continuous||(null!==this._timer&&clearTimeout(this._timer),this._isActiveLabel=!0)},e.prototype.hideThumbLabel=function(){var e=this;this.disabled||this.continuous||(this._timer=setTimeout(function(){return e._isActiveLabel=!1},this.thumbLabelVisibilityDuration))},e.prototype.updateThumbValue=function(e){var t=this.calculateTrackUpdate(e);this.isActive&&0!==t&&this.onThumbValueChange.emit(t)},e.prototype.calculateTrackUpdate=function(e){var t=e-this.thumbPositionX,i=this.stepDistance/2;return Math.abs(t)<i?0:this.stepToProceed(t,this.stepDistance)},e.prototype.stepToProceed=function(e,t){return Math.round(e/t)*this.step},e.decorators=[{type:b.Component,args:[{selector:"igx-thumb",template:'<span class="label">\n    <ng-container *ngTemplateOutlet="templateRef ? templateRef : thumbFromDefaultTemplate; context: context"></ng-container>\n</span>\n<span class="dot"></span>\n\n\n<ng-template #thumbFromDefaultTemplate>\n    {{ value }}\n</ng-template>\n'}]}],e.ctorParameters=function(){return[{type:b.ElementRef}]},e.propDecorators={value:[{type:b.Input}],continuous:[{type:b.Input}],thumbLabelVisibilityDuration:[{type:b.Input}],disabled:[{type:b.Input}],onPan:[{type:b.Input}],stepDistance:[{type:b.Input}],step:[{type:b.Input}],fromHandler:[{type:b.Input}],templateRef:[{type:b.Input}],context:[{type:b.Input}],type:[{type:b.Input}],onThumbValueChange:[{type:b.Output}],onChange:[{type:b.Output}],tabindex:[{type:b.HostBinding,args:["attr.tabindex"]}],thumbFromClass:[{type:b.HostBinding,args:["class.igx-slider__thumb-from"]}],thumbToClass:[{type:b.HostBinding,args:["class.igx-slider__thumb-to"]}],thumbFromActiveClass:[{type:b.HostBinding,args:["class.igx-slider__thumb-from--active"]}],thumbToActiveClass:[{type:b.HostBinding,args:["class.igx-slider__thumb-to--active"]}],onKeyDown:[{type:b.HostListener,args:["keydown",["$event"]]}],onBlur:[{type:b.HostListener,args:["blur"]}],onFocusListener:[{type:b.HostListener,args:["focus"]}]},e}(),ju=function(){function e(){}return e.decorators=[{type:b.Directive,args:[{selector:"[igxSliderThumbFrom]"}]}],e}(),Nu=function(){function e(){}return e.decorators=[{type:b.Directive,args:[{selector:"[igxSliderThumbTo]"}]}],e}(),Gu={SLIDER:0,RANGE:1};Gu[Gu.SLIDER]="SLIDER",Gu[Gu.RANGE]="RANGE";var zu={FROM:0,TO:1};zu[zu.FROM]="FROM",zu[zu.TO]="TO";var Wu=function(){},Uu=0,Ku=function(){function e(e,t){this.renderer=e,this._el=t,this._pMin=0,this._pMax=1,this._hasViewInit=!1,this._minValue=0,this._maxValue=100,this._countinuous=!1,this._disabled=!1,this._step=1,this._labels=new Array,this._type=Gu.SLIDER,this._destroy$=new x.Subject,this._onChangeCallback=Wu,this._onTouchedCallback=Wu,this.thumbs=new b.QueryList,this.stepDistance=this._step,this.onPan=new x.Subject,this.role="slider",this.slierClass=!0,this.id="igx-slider-"+Uu++,this.thumbLabelVisibilityDuration=750,this.onValueChange=new b.EventEmitter}return Object.defineProperty(e.prototype,"thumbFrom",{get:function(){return this.thumbs.find(function(e){return e.type===zu.FROM})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"thumbTo",{get:function(){return this.thumbs.find(function(e){return e.type===zu.TO})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valuemin",{get:function(){return this.minValue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valuemax",{get:function(){return this.maxValue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readonly",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabledClass",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(e){(this._type=e)===Gu.SLIDER&&(this.lowerValue=0),this.labelsViewEnabled&&this.upperValue>this.maxValue&&(this.upperValue=this.labels.length-1),this._hasViewInit&&this.updateTrack()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"labels",{get:function(){return this._labels},set:function(e){this._labels=e,this._pMax=1,this._hasViewInit&&(this.stepDistance=this.calculateStepDistance(),this.positionHandlesAndUpdateTrack(),this.setTickInterval(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return{$implicit:this.value,labels:this.labels}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"step",{get:function(){return this.labelsViewEnabled?1:this._step},set:function(e){this._step=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this._disabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"continuous",{get:function(){return this._countinuous},set:function(e){this.labelsViewEnabled||(this._countinuous=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isContinuous",{get:function(){return this.continuous},set:function(e){this.continuous=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.labelsViewEnabled?this.labels.length-1:this._maxValue},set:function(e){e<=this._minValue?this._maxValue=this._minValue+1:this._maxValue=e,e<this.lowerBound&&(this.updateLowerBoundAndMinTravelZone(),this.upperBound=e),this._pMax=1,this.stepDistance=this.calculateStepDistance(),this.positionHandlesAndUpdateTrack(),this.setTickInterval(null)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minValue",{get:function(){return this.labelsViewEnabled?0:this._minValue},set:function(e){e>=this.maxValue?this._minValue=this.maxValue-1:this._minValue=e,e>this.upperBound&&(this.updateUpperBoundAndMaxTravelZone(),this.lowerBound=e),this._pMin=0,this.stepDistance=this.calculateStepDistance(),this.positionHandlesAndUpdateTrack(),this.setTickInterval(null)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lowerBound",{get:function(){return Number.isNaN(this._lowerBound)||this._lowerBound===undefined?this.minValue:this.valueInRange(this._lowerBound,this.minValue,this.maxValue)},set:function(e){e>=this.upperBound||this.labelsViewEnabled&&e<0||(this._lowerBound=this.valueInRange(e,this.minValue,this.maxValue),this._pMin=this.valueToFraction(this._lowerBound)||0,this.positionHandlesAndUpdateTrack())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"upperBound",{get:function(){return Number.isNaN(this._upperBound)||this._upperBound===undefined?this.maxValue:this.valueInRange(this._upperBound,this.minValue,this.maxValue)},set:function(e){e<=this.lowerBound||this.labelsViewEnabled&&e>this.labels.length-1||(this._upperBound=this.valueInRange(e,this.minValue,this.maxValue),this._pMax=this.valueToFraction(this._upperBound)||1,this.positionHandlesAndUpdateTrack())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.isRange?{lower:this.valueInRange(this.lowerValue,this.lowerBound,this.upperBound),upper:this.valueInRange(this.upperValue,this.lowerBound,this.upperBound)}:this.valueInRange(this.upperValue,this.lowerBound,this.upperBound)},set:function(e){this.isRange?(e=this.validateInitialValue(e),this.upperValue=e.upper,this.lowerValue=e.lower):this.upperValue=e,this._onChangeCallback(this.value),this._hasViewInit&&this.positionHandlesAndUpdateTrack()},enumerable:!0,configurable:!0}),e.prototype.onPointerDown=function(e){this.findClosestThumb(e),(this.thumbTo.isActive||this.thumbFrom!==undefined)&&this.showThumbLabels()},e.prototype.onPointerUp=function(){(this.thumbTo.isActive||this.thumbFrom!==undefined)&&this.hideThumbLabels()},e.prototype.onFocus=function(){this.toggleThumbLabels()},e.prototype.onBlur=function(){this.hideThumbLabels()},e.prototype.onPanListener=function(e){this.update(e.srcEvent.clientX)},e.prototype.onPanStart=function(){this.showThumbLabels()},e.prototype.onPanEnd=function(){this.hideThumbLabels()},e.prototype.onTapListener=function(e){this.onTap(e)},Object.defineProperty(e.prototype,"isRange",{get:function(){return this.type===Gu.RANGE},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lowerValue",{get:function(){return!Number.isNaN(this._lowerValue)&&this._lowerValue!==undefined&&this._lowerValue>=this.lowerBound?this._lowerValue:this.lowerBound},set:function(e){e=this.valueInRange(e,this.lowerBound,this.upperBound),this._lowerValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"upperValue",{get:function(){return!Number.isNaN(this._upperValue)&&this._upperValue!==undefined&&this._upperValue<=this.upperBound?this._upperValue:this.upperBound},set:function(e){e=this.valueInRange(e,this.lowerBound,this.upperBound),this._upperValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lowerLabel",{get:function(){return this.labelsViewEnabled?this.labels[this.lowerValue]:this.lowerValue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"upperLabel",{get:function(){return this.labelsViewEnabled?this.labels[this.upperValue]:this.upperValue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"labelsViewEnabled",{get:function(){return!!(this.labels&&1<this.labels.length)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.sliderSetup(),this._pMin=this.valueToFraction(this.lowerBound)||0,this._pMax=this.valueToFraction(this.upperBound)||1},e.prototype.ngAfterViewInit=function(){var i=this;this._hasViewInit=!0,this.positionHandlesAndUpdateTrack(),this.setTickInterval(this.labels),this.subscribeTo(this.thumbFrom,this.thumbChanged.bind(this)),this.subscribeTo(this.thumbTo,this.thumbChanged.bind(this)),this.thumbs.changes.pipe(p.takeUntil(this._destroy$)).subscribe(function(e){var t=e.find(function(e){return e.type===zu.FROM});i.positionHandle(t,i.lowerValue),i.subscribeTo(t,i.thumbChanged.bind(i))})},e.prototype.ngAfterContentInit=function(){this.stepDistance=this.calculateStepDistance()},e.prototype.ngOnDestroy=function(){this._destroy$.next(!0)},e.prototype.writeValue=function(e){e&&(this.value=e)},e.prototype.registerOnChange=function(e){this._onChangeCallback=e},e.prototype.registerOnTouched=function(e){this._onTouchedCallback=e},e.prototype.getEditElement=function(){return this.isRange?this.thumbFrom.nativeElement:this.thumbTo.nativeElement},e.prototype.onTap=function(e){this.update(e.srcEvent.clientX)},e.prototype.update=function(e){this.disabled||(this.onPan.next(e),this.positionHandlesAndUpdateTrack(),this._onTouchedCallback())},e.prototype.thumbChanged=function(e,t){var i,n=this.value;this.isRange?(i=t===zu.FROM?{lower:this.value.lower+e,upper:this.value.upper}:{lower:this.value.lower,upper:this.value.upper+e}).lower>=i.upper?this.value=this.swapThumb(i):this.value=i:this.value=this.value+e,this.hasValueChanged(n)&&this.emitValueChanged(n)},e.prototype.onThumbChange=function(){this.toggleThumbLabels()},e.prototype.swapThumb=function(e){return this.thumbFrom.isActive?(e.upper=this.upperValue,e.lower=this.upperValue):(e.upper=this.lowerValue,e.lower=this.lowerValue),this.toggleThumb(),e},e.prototype.findClosestThumb=function(e){this.isRange?this.closestHandle(e.clientX):this.thumbTo.nativeElement.focus(),this.update(e.clientX),e.preventDefault()},e.prototype.updateLowerBoundAndMinTravelZone=function(){this.lowerBound=this.minValue,this._pMin=0},e.prototype.updateUpperBoundAndMaxTravelZone=function(){this.upperBound=this.maxValue,this._pMax=1},e.prototype.sliderSetup=function(){this.isRange||this.value!==this.upperBound||(this.value=this.lowerBound)},e.prototype.calculateStepDistance=function(){return this._el.nativeElement.getBoundingClientRect().width/(this.maxValue-this.minValue)*this.step},e.prototype.toggleThumb=function(){return this.thumbFrom.isActive?this.thumbTo.nativeElement.focus():this.thumbFrom.nativeElement.focus()},e.prototype.valueInRange=function(e,t,i){return void 0===t&&(t=0),void 0===i&&(i=100),Math.max(Math.min(e,i),t)},e.prototype.generateTickMarks=function(e,t){return null!==t?"repeating-linear-gradient(\n            to left,\n            "+e+",\n            "+e+" 1.5px,\n            transparent 1.5px,\n            transparent "+t+"%\n        ), repeating-linear-gradient(\n            to right,\n            "+e+",\n            "+e+" 1.5px,\n            transparent 1.5px,\n            transparent "+t+"%\n        )":t},e.prototype.positionHandle=function(e,t){e&&(e.nativeElement.style.left=100*this.valueToFraction(t)+"%")},e.prototype.positionHandlesAndUpdateTrack=function(){this.isRange?(this.positionHandle(this.thumbTo,this.value.upper),this.positionHandle(this.thumbFrom,this.value.lower)):this.positionHandle(this.thumbTo,this.value),this.updateTrack()},e.prototype.closestHandle=function(e){var t=this.thumbFrom.nativeElement.offsetLeft+this.thumbFrom.nativeElement.offsetWidth/2,i=this.thumbTo.nativeElement.offsetLeft+this.thumbTo.nativeElement.offsetWidth/2,n=e-this._el.nativeElement.getBoundingClientRect().left,r=this.closestTo(n,[t,i]);r===t?this.thumbFrom.nativeElement.focus():r===i&&this.thumbTo.nativeElement.focus()},e.prototype.setTickInterval=function(e){if(!this.continuous){var t;if(this.labelsViewEnabled)t=100/(this.labels.length-1)*10/10;else{var i=this.maxValue-this.minValue;t=1<this.step?100/(i/this.step)*10/10:null}this.renderer.setStyle(this.ticks.nativeElement,"background",this.generateTickMarks("white",t))}},e.prototype.showThumbLabels=function(){this.disabled||(this.thumbTo.showThumbLabel(),this.thumbFrom&&this.thumbFrom.showThumbLabel())},e.prototype.hideThumbLabels=function(){this.disabled||(this.thumbTo.hideThumbLabel(),this.thumbFrom&&this.thumbFrom.hideThumbLabel())},e.prototype.toggleThumbLabels=function(){this.showThumbLabels(),this.hideThumbLabels()},e.prototype.closestTo=function(i,e){return e.reduce(function(e,t){return Math.abs(i-t)<Math.abs(i-e)?t:e})},e.prototype.valueToFraction=function(e,t,i){return void 0===t&&(t=this._pMin),void 0===i&&(i=this._pMax),this.valueInRange((e-this.minValue)/(this.maxValue-this.minValue),t,i)},e.prototype.updateTrack=function(){var e=this.valueToFraction(this.lowerValue),t=this.valueToFraction(this.upperValue),i=t-e,n=e;this.isRange?(i&&(n=Math.round(1/i*e*100)),this.renderer.setStyle(this.track.nativeElement,"transform","scaleX("+i+") translateX("+n+"%)")):this.renderer.setStyle(this.track.nativeElement,"transform","scaleX("+t+")")},e.prototype.validateInitialValue=function(e){return e.lower<this.lowerBound&&e.upper<this.lowerBound&&(e.upper=this.lowerBound,e.lower=this.lowerBound),e.lower>this.upperBound&&e.upper>this.upperBound&&(e.upper=this.upperBound,e.lower=this.upperBound),e.upper<e.lower&&(e.upper=this.upperValue,e.lower=this.lowerValue),e},e.prototype.subscribeTo=function(t,i){t&&t.onThumbValueChange.pipe(p.takeUntil(this.unsubscriber(t))).subscribe(function(e){return i(e,t.type)})},e.prototype.unsubscriber=function(e){return x.merge(this._destroy$,e.destroy)},e.prototype.hasValueChanged=function(e){var t=!this.isRange&&e!==this.value,i=this.isRange&&(e.lower!==this.value.lower||e.upper!==this.value.upper);return t||i},e.prototype.emitValueChanged=function(e){this.onValueChange.emit({oldValue:e,value:this.value})},e.decorators=[{type:b.Component,args:[{providers:[{provide:o.NG_VALUE_ACCESSOR,useExisting:e,multi:!0}],selector:"igx-slider",template:'<div class="igx-slider__track">\n    <div #track class="igx-slider__track-fill"></div>\n    <div #ticks class="igx-slider__track-ticks"></div>\n</div>\n<div class="igx-slider__thumbs">\n    <igx-thumb *ngIf="isRange"\n        #thumbFrom\n        [type]="0"\n        [value]="lowerLabel"\n        [disabled]="disabled"\n        [continuous]="continuous"\n        [onPan]="onPan"\n        [stepDistance]="stepDistance"\n        [step]="step"\n        [fromHandler]="true"\n        [templateRef]="thumbFromTemplateRef"\n        [context]="context"\n        (onChange)="onThumbChange()"\n        [thumbLabelVisibilityDuration]="thumbLabelVisibilityDuration"></igx-thumb>\n    <igx-thumb\n        #thumbTo\n        [type]="1"\n        [value]="upperLabel"\n        [disabled]="disabled"\n        [continuous]="continuous"\n        [onPan]="onPan"\n        [stepDistance]="stepDistance"\n        [step]="step"\n        [templateRef]="thumbToTemplateRef"\n        [context]="context"\n        (onChange)="onThumbChange()"\n        [thumbLabelVisibilityDuration]="thumbLabelVisibilityDuration"></igx-thumb>\n</div>\n',styles:["\n        :host {\n            display: block;\n        }\n    "]}]}],e.ctorParameters=function(){return[{type:b.Renderer2},{type:b.ElementRef}]},e.propDecorators={track:[{type:b.ViewChild,args:["track"]}],ticks:[{type:b.ViewChild,args:["ticks"]}],thumbs:[{type:b.ViewChildren,args:[Bu]}],thumbFromTemplateRef:[{type:b.ContentChild,args:[ju,{read:b.TemplateRef}]}],thumbToTemplateRef:[{type:b.ContentChild,args:[Nu,{read:b.TemplateRef}]}],role:[{type:b.HostBinding,args:["attr.role"]}],valuemin:[{type:b.HostBinding,args:["attr.aria-valuemin"]}],valuemax:[{type:b.HostBinding,args:["attr.aria-valuemax"]}],readonly:[{type:b.HostBinding,args:["attr.aria-readonly"]}],slierClass:[{type:b.HostBinding,args:["class.igx-slider"]}],disabledClass:[{type:b.HostBinding,args:["class.igx-slider--disabled"]}],id:[{type:b.HostBinding,args:["attr.id"]},{type:b.Input}],type:[{type:b.Input}],thumbLabelVisibilityDuration:[{type:b.Input}],labels:[{type:b.Input}],step:[{type:b.Input}],disabled:[{type:b.Input}],continuous:[{type:b.Input}],isContinuous:[{type:b.Input}],maxValue:[{type:b.Input}],minValue:[{type:b.Input}],lowerBound:[{type:b.Input}],upperBound:[{type:b.Input}],value:[{type:b.Input}],onValueChange:[{type:b.Output}],onPointerDown:[{type:b.HostListener,args:["pointerdown",["$event"]]}],onPointerUp:[{type:b.HostListener,args:["pointerup"]}],onFocus:[{type:b.HostListener,args:["focus"]}],onBlur:[{type:b.HostListener,args:["blur"]}],onPanListener:[{type:b.HostListener,args:["pan",["$event"]]}],onPanStart:[{type:b.HostListener,args:["panstart"]}],onPanEnd:[{type:b.HostListener,args:["panend"]}],onTapListener:[{type:b.HostListener,args:["tap",["$event"]]}]},y([Sn("IgxSliderComponent `isContinuous` property is deprecated.\nUse `continuous` instead."),C("design:type",Boolean),C("design:paramtypes",[Boolean])],e.prototype,"isContinuous",null),e}(),$u=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[Ku,ju,Nu,Bu],exports:[Ku,ju,Nu,Bu],imports:[r.CommonModule]}]}],e}(),Yu=0,Xu=function(){function e(e){this.zone=e,this.id="igx-snackbar-"+Yu++,this.isVisible=!1,this.autoHide=!0,this.displayTime=4e3,this.onAction=new b.EventEmitter,this.animationStarted=new b.EventEmitter,this.animationDone=new b.EventEmitter}return e.prototype.show=function(){var e=this;clearTimeout(this.timeoutId),setTimeout(this.timeoutId),this.isVisible=!0,this.autoHide&&(this.timeoutId=setTimeout(function(){e.hide()},this.displayTime))},e.prototype.hide=function(){this.isVisible=!1,clearTimeout(this.timeoutId)},e.prototype.triggerAction=function(){this.onAction.emit(this)},e.prototype.snackbarAnimationStarted=function(e){"void"===e.fromState&&this.animationStarted.emit(e)},e.prototype.snackbarAnimationDone=function(e){"show"===e.fromState&&this.animationDone.emit(e)},e.decorators=[{type:b.Component,args:[{animations:[u.trigger("slideInOut",[u.transition("void => *",[u.useAnimation(ft,{params:{duration:".35s",easing:"cubic-bezier(0.0, 0.0, 0.2, 1)",fromPosition:"translateY(100%)",toPosition:"translateY(0)"}})]),u.transition("* => void",[u.useAnimation(wt,{params:{duration:".2s",easing:"cubic-bezier(0.4, 0.0, 1, 1)",fromPosition:"translateY(0)",toOpacity:1,toPosition:"translateY(100%)"}})])]),u.trigger("fadeInOut",[u.transition("void => *",[u.useAnimation(d,{params:{duration:".35s",easing:"ease-out"}})]),u.transition("* => void",[u.useAnimation(h,{params:{duration:".2s",easing:"ease-out"}})])])],selector:"igx-snackbar",template:'<div class="igx-snackbar" *ngIf="isVisible" (@slideInOut.start)="snackbarAnimationStarted($event)" (@slideInOut.done)="snackbarAnimationDone($event)"\n    [@slideInOut]="isVisible">\n    <div class="igx-snackbar__message" [@fadeInOut]="isVisible">\n        {{ message }}\n        <ng-content></ng-content>\n    </div>\n    <button class="igx-snackbar__button" igxRipple="white" *ngIf="actionText" [@fadeInOut] (click)="triggerAction()">\n        {{ actionText }}\n    </button>\n</div>\n',styles:["\n        :host {\n            display: block;\n        }\n    "]}]}],e.ctorParameters=function(){return[{type:b.NgZone}]},e.propDecorators={id:[{type:b.HostBinding,args:["attr.id"]},{type:b.Input}],message:[{type:b.Input}],isVisible:[{type:b.Input}],autoHide:[{type:b.Input}],displayTime:[{type:b.Input}],actionText:[{type:b.Input}],onAction:[{type:b.Output}],animationStarted:[{type:b.Output}],animationDone:[{type:b.Output}]},e}(),qu=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[Xu],exports:[Xu],imports:[r.CommonModule]}]}],e}(),Zu={BEFORE:"before",AFTER:"after"},Ju=function(){},Qu=0,ed=function(){function e(){this.id="igx-switch-"+Qu++,this.labelId=this.id+"-label",this.tabindex=null,this.labelPosition="after",this.disableRipple=!1,this.required=!1,this.ariaLabelledBy=this.labelId,this.ariaLabel=null,this.change=new b.EventEmitter,this._onTouchedCallback=Ju,this._onChangeCallback=Ju,this.cssClass="igx-switch",this.checked=!1,this.disabled=!1,this.focused=!1,this.inputId=this.id+"-input"}return e.prototype.toggle=function(){this.disabled||(this.checked=!this.checked,this.focused=!1,this.change.emit({checked:this.checked,"switch":this}),this._onChangeCallback(this.checked))},e.prototype._onSwitchChange=function(e){e.stopPropagation()},e.prototype._onSwitchClick=function(e){e.stopPropagation(),this.toggle(),ai()&&this.nativeCheckbox.nativeElement.blur()},e.prototype._onLabelClick=function(e){this.toggle()},e.prototype.onFocus=function(e){this.focused=!0},e.prototype.onBlur=function(e){this.focused=!1,this._onTouchedCallback()},e.prototype.writeValue=function(e){this._value=e,this.checked=!!this._value},e.prototype.getEditElement=function(){return this.nativeCheckbox.nativeElement},Object.defineProperty(e.prototype,"labelClass",{get:function(){switch(this.labelPosition){case Zu.BEFORE:return this.cssClass+"__label--before";case Zu.AFTER:default:return this.cssClass+"__label"}},enumerable:!0,configurable:!0}),e.prototype.registerOnChange=function(e){this._onChangeCallback=e},e.prototype.registerOnTouched=function(e){this._onTouchedCallback=e},e.decorators=[{type:b.Component,args:[{providers:[{provide:o.NG_VALUE_ACCESSOR,useExisting:e,multi:!0}],selector:"igx-switch",template:'<input #checkbox class="igx-switch__input" type="checkbox"\n    [id]="inputId"\n    [name]="name"\n    [value]="value"\n    [tabindex]="tabindex"\n    [disabled]="disabled"\n    [checked]="checked"\n    [required]="required"\n    [attr.aria-checked]="checked"\n    [attr.aria-labelledby]="ariaLabelledBy"\n    [attr.aria-label]="ariaLabel"\n    (change)="_onSwitchChange($event)"\n    (click)="_onSwitchClick($event)"\n    (focus)="onFocus($event)"\n    (blur)="onBlur($event)" />\n\n<label #label class ="igx-switch__composite" [for]="inputId"\n    igxRipple\n    igxRippleTarget=".igx-switch__ripple"\n    [igxRippleDisabled]="disableRipple"\n    [igxRippleCentered]="true"\n    [igxRippleDuration]="300">\n    <div class="igx-switch__composite-thumb">\n        <div class="igx-switch__ripple"></div>\n    </div>\n</label>\n\n<span #placeholderLabel role="label"\n    [class]="labelClass"\n    [id]="labelId"\n    (click)="_onLabelClick($event)">\n    <ng-content></ng-content>\n</span>\n'}]}],e.propDecorators={nativeCheckbox:[{type:b.ViewChild,args:["checkbox"]}],nativeLabel:[{type:b.ViewChild,args:["label"]}],placeholderLabel:[{type:b.ViewChild,args:["placeholderLabel"]}],id:[{type:b.HostBinding,args:["attr.id"]},{type:b.Input}],labelId:[{type:b.Input}],value:[{type:b.Input}],name:[{type:b.Input}],tabindex:[{type:b.Input}],labelPosition:[{type:b.Input}],disableRipple:[{type:b.Input}],required:[{type:b.Input}],ariaLabelledBy:[{type:b.Input,args:["aria-labelledby"]}],ariaLabel:[{type:b.Input,args:["aria-label"]}],change:[{type:b.Output}],cssClass:[{type:b.HostBinding,args:["class.igx-switch"]}],checked:[{type:b.HostBinding,args:["class.igx-switch--checked"]},{type:b.Input}],disabled:[{type:b.HostBinding,args:["class.igx-switch--disabled"]},{type:b.Input}],focused:[{type:b.HostBinding,args:["class.igx-switch--focused"]}]},e}(),td={provide:o.NG_VALIDATORS,useExisting:b.forwardRef(function(){return id}),multi:!0},id=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.decorators=[{type:b.Directive,args:[{selector:"igx-switch[required][formControlName],\n    igx-switch[required][formControl],\n    igx-switch[required][ngModel]",providers:[td]}]}],t}(o.CheckboxRequiredValidator),nd=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[ed,id],exports:[ed,id],imports:[yo]}]}],e}(),rd=0,od=function(){function e(e){this.template=e}return e.decorators=[{type:b.Directive,args:[{selector:"[igxTab]"}]}],e.ctorParameters=function(){return[{type:b.TemplateRef}]},e}(),sd=function(){function e(e){this._element=e,this.id="igx-bottom-nav-"+rd++,this.onTabSelected=new b.EventEmitter,this.onTabDeselected=new b.EventEmitter,this.selectedIndex=-1,this._itemStyle="igx-bottom-nav"}return Object.defineProperty(e.prototype,"itemStyle",{get:function(){return this._itemStyle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedTab",{get:function(){if(this.tabs&&this.selectedIndex!==undefined)return this.tabs.toArray()[this.selectedIndex]},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){var t=this;setTimeout(function(){if(-1===t.selectedIndex){var e=t.panels.filter(function(e){return!e.disabled})[0];e&&e.select()}},0)},e.prototype._selectedPanelHandler=function(e){var t=this;this.selectedIndex=e.panel.index,this.panels.forEach(function(e){e.index!==t.selectedIndex&&t._deselectPanel(e)})},e.prototype._deselectPanel=function(e){e.disabled||this.selectedTab.index===e.index||(e.isSelected=!1,this.onTabDeselected.emit({tab:this.tabs[e.index],panel:e}))},e.decorators=[{type:b.Component,args:[{selector:"igx-bottom-nav",template:'<div>\n    <ng-content></ng-content>\n</div>\n<div #tablist class="{{itemStyle}}__menu {{itemStyle}}__menu--bottom" role="tablist" aria-orientation="horizontal">\n    <igx-tab *ngFor="let panel of panels" [id]="\'igx-tab-\' + panel.index" [attr.aria-label]="panel.label" [attr.aria-disabled]="panel.disabled"\n        [attr.aria-selected]="panel.isSelected" [attr.aria-controls]="\'igx-tab-panel-\'+ panel.index" [ngClass]="{\n                 \'igx-bottom-nav__menu-item\': !panel.isSelected && !panel.disabled,\n                 \'igx-bottom-nav__menu-item--selected\': panel.isSelected,\n                 \'igx-bottom-nav__menu-item--disabled\': panel.disabled\n             }" [relatedPanel]="panel" (click)="panel.select()" role="tab">\n    </igx-tab>\n</div>\n',styles:["\n        :host {\n            display: block;\n        }\n    "]}]}],e.ctorParameters=function(){return[{type:b.ElementRef}]},e.propDecorators={tabs:[{type:b.ViewChildren,args:[b.forwardRef(function(){return ld})]}],panels:[{type:b.ContentChildren,args:[b.forwardRef(function(){return ad})]}],id:[{type:b.HostBinding,args:["attr.id"]},{type:b.Input}],onTabSelected:[{type:b.Output}],onTabDeselected:[{type:b.Output}],_selectedPanelHandler:[{type:b.HostListener,args:["onTabSelected",["$event"]]}]},e}(),ad=function(){function e(e,t){this._tabBar=e,this._element=t,this._itemStyle="igx-tab-panel",this.role="tabpanel",this.isSelected=!1}return Object.defineProperty(e.prototype,"styleClass",{get:function(){return!this.isSelected},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemStyle",{get:function(){return this._itemStyle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relatedTab",{get:function(){if(this._tabBar.tabs)return this._tabBar.tabs.toArray()[this.index]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){if(this._tabBar.panels)return this._tabBar.panels.toArray().indexOf(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"customTabTemplate",{get:function(){return this._tabTemplate},set:function(e){this._tabTemplate=e},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){this.tabTemplate&&(this._tabTemplate=this.tabTemplate.template)},e.prototype.ngAfterViewChecked=function(){this._element.nativeElement.setAttribute("aria-labelledby","igx-tab-"+this.index),this._element.nativeElement.setAttribute("id","igx-bottom-nav__panel-"+this.index)},e.prototype.select=function(){this.disabled||this._tabBar.selectedIndex===this.index||(this.isSelected=!0,this._tabBar.onTabSelected.emit({tab:this._tabBar.tabs.toArray()[this.index],panel:this}))},e.decorators=[{type:b.Component,args:[{selector:"igx-tab-panel",template:"<ng-content></ng-content>\n"}]}],e.ctorParameters=function(){return[{type:sd},{type:b.ElementRef}]},e.propDecorators={label:[{type:b.Input}],icon:[{type:b.Input}],disabled:[{type:b.Input}],role:[{type:b.HostBinding,args:["attr.role"]}],styleClass:[{type:b.HostBinding,args:["class.igx-bottom-nav__panel"]}],isSelected:[{type:b.HostBinding,args:["class.igx-bottom-nav__panel--selected"]}],tabTemplate:[{type:b.ContentChild,args:[od,{read:od}]}]},e}(),ld=function(){function e(e,t){this._tabBar=e,this._element=t,this.role="tab",this._changesCount=0}return Object.defineProperty(e.prototype,"changesCount",{get:function(){return this._changesCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){var e=this.relatedPanel;if(e)return e.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelected",{get:function(){var e=this.relatedPanel;if(e)return e.isSelected},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this._tabBar.tabs.toArray().indexOf(this)},enumerable:!0,configurable:!0}),e.prototype.select=function(){this.relatedPanel.select()},e.decorators=[{type:b.Component,args:[{selector:"igx-tab",template:'<ng-template #defaultTabTemplate>\n    <div *ngIf="relatedPanel.icon" class="tab-icon">\n        <igx-icon fontSet="material">{{relatedPanel.icon}}</igx-icon>\n        <igx-badge [value]="changesCount" [hidden]="changesCount === 0"></igx-badge>\n    </div>\n    <div *ngIf="relatedPanel.label" ngClass="tab-label">{{relatedPanel.label}}</div>\n</ng-template>\n<ng-container *ngTemplateOutlet="relatedPanel.customTabTemplate ? relatedPanel.customTabTemplate : defaultTabTemplate; context: { $implicit: relatedPanel }">\n</ng-container>'}]}],e.ctorParameters=function(){return[{type:sd},{type:b.ElementRef}]},e.propDecorators={role:[{type:b.HostBinding,args:["attr.role"]}],relatedPanel:[{type:b.Input}]},e}(),cd=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[sd,ad,ld,od],exports:[sd,ad,ld,od],imports:[r.CommonModule,qo,Go]}]}],e}(),pd=function(){function e(){}return e.prototype.scrollElement=function(e,t){},e}(),ud=function(){function e(e,t){this._tabs=e,this._element=t,this._changesCount=0,this.role="tab",this._nativeTabItem=t}return e.prototype.onClick=function(e){this.select()},e.prototype.onResize=function(e){this.isSelected&&(this._tabs.selectedIndicator.nativeElement.style.width=this.nativeTabItem.nativeElement.offsetWidth+"px",this._tabs.selectedIndicator.nativeElement.style.transform="translate("+this.nativeTabItem.nativeElement.offsetLeft+"px)")},e.prototype.onKeydownArrowRight=function(e){this.onKeyDown(!1)},e.prototype.onKeydownArrowLeft=function(e){this.onKeyDown(!0)},e.prototype.onKeydownHome=function(e){e.preventDefault(),this.onKeyDown(!1,0)},e.prototype.onKeydownEnd=function(e){e.preventDefault(),this.onKeyDown(!1,this._tabs.tabs.toArray().length-1)},Object.defineProperty(e.prototype,"changesCount",{get:function(){return this._changesCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeTabItem",{get:function(){return this._nativeTabItem},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){var e=this.relatedGroup;if(e)return e.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelected",{get:function(){var e=this.relatedGroup;if(e)return e.isSelected},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this._tabs.tabs.toArray().indexOf(this)},enumerable:!0,configurable:!0}),e.prototype.select=function(e){void 0===e&&(e=200),this.relatedGroup.select(e)},e.prototype.onKeyDown=function(e,t){void 0===t&&(t=null);var i=this._tabs.tabs.toArray();null===t&&(t=e?0===this._tabs.selectedIndex?i.length-1:this._tabs.selectedIndex-1:this._tabs.selectedIndex===i.length-1?0:this._tabs.selectedIndex+1),i[t].select(200)},e.decorators=[{type:b.Component,args:[{selector:"igx-tab-item",template:'<ng-template #defaultTabTemplate>\n    <div *ngIf="relatedGroup.icon" class="igx-tabs__header-menu-item-icon">\n        <igx-icon fontSet="material">{{relatedGroup.icon}}</igx-icon>\n        <igx-badge [value]="changesCount" [hidden]="changesCount === 0"></igx-badge>\n    </div>\n    <div *ngIf="relatedGroup.label" ngClass="igx-tabs__item-label">{{relatedGroup.label}}</div>\n</ng-template>\n<ng-container\n    *ngTemplateOutlet="relatedGroup.customTabTemplate ? relatedGroup.customTabTemplate : defaultTabTemplate; context: { $implicit: relatedGroup }">\n</ng-container>'}]}],e.ctorParameters=function(){return[{type:pd},{type:b.ElementRef}]},e.propDecorators={relatedGroup:[{type:b.Input}],role:[{type:b.HostBinding,args:["attr.role"]}],tabindex:[{type:b.HostBinding,args:["attr.tabindex"]}],onClick:[{type:b.HostListener,args:["click",["$event"]]}],onResize:[{type:b.HostListener,args:["window:resize",["$event"]]}],onKeydownArrowRight:[{type:b.HostListener,args:["keydown.arrowright",["$event"]]}],onKeydownArrowLeft:[{type:b.HostListener,args:["keydown.arrowleft",["$event"]]}],onKeydownHome:[{type:b.HostListener,args:["keydown.home",["$event"]]}],onKeydownEnd:[{type:b.HostListener,args:["keydown.end",["$event"]]}]},e}(),dd="visible",hd="hidden",gd="not_displayed",fd=function(){function e(e){this.tabs=e}return Object.defineProperty(e.prototype,"visibleCSS",{get:function(){return this.getRightButtonStyle()===dd},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hiddenCSS",{get:function(){return this.getRightButtonStyle()===hd},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"notDisplayedCSS",{get:function(){return this.getRightButtonStyle()===gd},enumerable:!0,configurable:!0}),e.prototype.getRightButtonStyle=function(){var e=this.tabs.viewPort.nativeElement.offsetWidth,t=this.tabs.itemsContainer.nativeElement.children.length,i=0;if(1<t){var n=this.tabs.itemsContainer.nativeElement.children[t-2];i=n.offsetLeft+n.offsetWidth}var r=this.tabs.headerContainer.nativeElement.offsetWidth,o=this.tabs.offset;return i-r<=1&&0===o?gd:o+e<i?dd:hd},e.decorators=[{type:b.Directive,args:[{selector:"[igxRightButtonStyle]"}]}],e.ctorParameters=function(){return[{type:pd}]},e.propDecorators={visibleCSS:[{type:b.HostBinding,args:["class.igx-tabs__header-button"]}],hiddenCSS:[{type:b.HostBinding,args:["class.igx-tabs__header-button--hidden"]}],notDisplayedCSS:[{type:b.HostBinding,args:["class.igx-tabs__header-button--none"]}]},e}(),md=function(){function e(e){this.tabs=e}return Object.defineProperty(e.prototype,"visibleCSS",{get:function(){return this.getLeftButtonStyle()===dd},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hiddenCSS",{get:function(){return this.getLeftButtonStyle()===hd},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"notDisplayedCSS",{get:function(){return this.getLeftButtonStyle()===gd},enumerable:!0,configurable:!0}),e.prototype.getLeftButtonStyle=function(){var e=this.tabs.itemsContainer.nativeElement.children.length,t=0;if(1<e){var i=this.tabs.itemsContainer.nativeElement.children[e-2];t=i.offsetLeft+i.offsetWidth}var n=this.tabs.headerContainer.nativeElement.offsetWidth;return 0===this.tabs.offset?t-n<=1?gd:hd:dd},e.decorators=[{type:b.Directive,args:[{selector:"[igxLeftButtonStyle]"}]}],e.ctorParameters=function(){return[{type:pd}]},e.propDecorators={visibleCSS:[{type:b.HostBinding,args:["class.igx-tabs__header-button"]}],hiddenCSS:[{type:b.HostBinding,args:["class.igx-tabs__header-button--hidden"]}],notDisplayedCSS:[{type:b.HostBinding,args:["class.igx-tabs__header-button--none"]}]},e}(),yd=function(){function e(e){this.template=e}return e.decorators=[{type:b.Directive,args:[{selector:"[igxTab]"}]}],e.ctorParameters=function(){return[{type:b.TemplateRef}]},e}(),vd=function(){function e(e,t){this._tabs=e,this._element=t,this.disabled=!1,this.isSelected=!1,this.role="tabpanel",this.styleClass=!0}return e.prototype.onResize=function(e){this.isSelected&&this.transformContentAnimation(0)},Object.defineProperty(e.prototype,"relatedTab",{get:function(){if(this._tabs.tabs)return this._tabs.tabs.toArray()[this.index]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){if(this._tabs.groups)return this._tabs.groups.toArray().indexOf(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"customTabTemplate",{get:function(){return this._tabTemplate},set:function(e){this._tabTemplate=e},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){this.tabTemplate&&(this._tabTemplate=this.tabTemplate.template)},e.prototype.ngAfterViewChecked=function(){if(this._element.nativeElement.setAttribute("aria-labelledby","igx-tab-item-"+this.index),this._element.nativeElement.setAttribute("id","igx-tabs__group-"+this.index),this.isSelected){var e=this.relatedTab.nativeTabItem.nativeElement;this.transformContentAnimation(0),this.transformIndicatorAnimation(e)}},e.prototype.select=function(e){var t=this;void 0===e&&(e=200),this.disabled||this.isSelected||(this.isSelected=!0,(this.relatedTab.tabindex=0)!==e&&setTimeout(function(){t.relatedTab.nativeTabItem.nativeElement.focus()},e),this.handleSelection(),this._tabs.onTabItemSelected.emit({tab:this._tabs.tabs.toArray()[this.index],group:this}))},e.prototype.handleSelection=function(){var e=this.relatedTab.nativeTabItem.nativeElement;e.offsetLeft<this._tabs.offset&&this._tabs.scrollElement(e,!1);var t=this._tabs.viewPort.nativeElement.offsetWidth;1<e.offsetLeft+e.offsetWidth-(t+this._tabs.offset)&&this._tabs.scrollElement(e,!0),this.transformContentAnimation(.2),this.transformIndicatorAnimation(e)},e.prototype.transformContentAnimation=function(e){var t=this._tabs.tabsContainer.nativeElement.offsetWidth*this.index;this._tabs.contentsContainer.nativeElement.style.transitionDuration=e+"s",this._tabs.contentsContainer.nativeElement.style.transform="translate("+-t+"px)"},e.prototype.transformIndicatorAnimation=function(e){this._tabs.selectedIndicator.nativeElement.style.width=e.offsetWidth+"px",this._tabs.selectedIndicator.nativeElement.style.transform="translate("+e.offsetLeft+"px)"},e.decorators=[{type:b.Component,args:[{selector:"igx-tabs-group",template:'<ng-content *ngIf="isSelected"></ng-content>\n'}]}],e.ctorParameters=function(){return[{type:pd},{type:b.ElementRef}]},e.propDecorators={disabled:[{type:b.Input}],icon:[{type:b.Input}],label:[{type:b.Input}],tabTemplate:[{type:b.ContentChild,args:[yd,{read:yd}]}],role:[{type:b.HostBinding,args:["attr.role"]}],styleClass:[{type:b.HostBinding,args:["class.igx-tabs__group"]}],onResize:[{type:b.HostListener,args:["window:resize",["$event"]]}]},e}(),xd={FIXED:"fixed",CONTENTFIT:"contentfit"},bd=function(){function e(e){this._element=e,this.tabsType="contentfit",this["class"]="",this.onTabItemDeselected=new b.EventEmitter,this.onTabItemSelected=new b.EventEmitter,this.offset=0,this._selectedIndex=0}return Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return this._selectedIndex},set:function(e){this._selectedIndex=e,this.setSelectedGroup()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cssClass",{get:function(){var e,t=this.groups.find(function(e){return null!=e.icon&&null!=e.label});switch(xd[this.tabsType.toUpperCase()]){case xd.FIXED:e="igx-tabs--fixed";break;default:e="igx-tabs"}return t!==undefined&&(e+=" igx-tabs--icons"),e+" "+this["class"]},enumerable:!0,configurable:!0}),e.prototype.selectedGroupHandler=function(e){var t=this,i=this.selectedIndex;-1!==i&&this.groups.toArray()[i]!==undefined&&this.onTabItemDeselected.emit({tab:this.groups.toArray()[i].relatedTab,group:this.groups.toArray()[i]}),this.selectedIndex=e.group.index,this.groups.forEach(function(e){e.index!==t.selectedIndex&&t.deselectGroup(e)})},e.prototype.scrollLeft=function(e){this.scroll(!1)},e.prototype.scrollRight=function(e){this.scroll(!0)},e.prototype.scrollElement=function(e,t){var i=this.viewPort.nativeElement.offsetWidth;this.offset=t?e.offsetWidth+e.offsetLeft-i:e.offsetLeft,this.itemsContainer.nativeElement.style.transform="translate("+-this.offset+"px)"},Object.defineProperty(e.prototype,"selectedTabItem",{get:function(){if(this.tabs&&this.selectedIndex!==undefined)return this.tabs.toArray()[this.selectedIndex]},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){var e=this;requestAnimationFrame(function(){e.setSelectedGroup()}),this._groupChanges$=this.groups.changes.subscribe(function(){e.resetSelectionOnCollectionChanged()})},e.prototype.ngOnDestroy=function(){this._groupChanges$&&this._groupChanges$.unsubscribe()},e.prototype.setSelectedGroup=function(){var e=this;requestAnimationFrame(function(){e.selectedIndex<=0||e.selectedIndex>=e.groups.length?e.selectGroupByIndex(0):e.selectGroupByIndex(e.selectedIndex)})},e.prototype.resetSelectionOnCollectionChanged=function(){var e=this;setTimeout(function(){e.groups.toArray()[e.selectedIndex]!==undefined?e.selectGroupByIndex(e.selectedIndex):e.selectedIndex>=e.groups.length&&e.selectGroupByIndex(e.groups.length-1)},0)},e.prototype.selectGroupByIndex=function(e){var t=this.groups.filter(function(e){return!e.disabled})[e];t&&t.select(0)},e.prototype.deselectGroup=function(e){e.disabled||this.selectedTabItem.index===e.index||(e.isSelected=!1,e.relatedTab.tabindex=-1)},e.prototype.scroll=function(e){var t,i,n=this.tabs.toArray();try{for(var r=S(n),o=r.next();!o.done;o=r.next()){var s=o.value.nativeTabItem.nativeElement;if(e){if(s.offsetWidth+s.offsetLeft>this.viewPort.nativeElement.offsetWidth+this.offset){this.scrollElement(s,e);break}}else if(s.offsetWidth+s.offsetLeft>=this.offset){this.scrollElement(s,e);break}}}catch(a){t={error:a}}finally{try{o&&!o.done&&(i=r["return"])&&i.call(r)}finally{if(t)throw t.error}}},e.decorators=[{type:b.Component,args:[{selector:"igx-tabs",template:'\x3c!-- TODO Remove tab container from here --\x3e\n<div #tabsContainer>\n    <div class="igx-tabs__header" #headerContainer>\n        <button igxRipple class="igx-tabs__header-button" igxButton="icon" (click)="scrollLeft($event)" igxLeftButtonStyle>\n            <igx-icon fontSet="material">navigate_before</igx-icon>\n        </button>\n        <div class="igx-tabs__header-wrapper-fixed" #viewPort>\n            <div #itemsContainer class="igx-tabs__header-wrapper-fluid">\n                <igx-tab-item igxRipple *ngFor="let group of groups" [id]="\'igx-tab-item-\' + group.index" [attr.aria-label]="group.label"\n                    [attr.aria-disabled]="group.disabled" [attr.aria-selected]="group.isSelected" [attr.aria-controls]="\'igx-tab-item-group-\'+ group.index"\n                    [ngClass]="{\n                \'igx-tabs__header-menu-item\': !group.isSelected && !group.disabled,\n                \'igx-tabs__header-menu-item--selected\': group.isSelected,\n                \'igx-tabs__header-menu-item--disabled\': group.disabled }" [relatedGroup]="group" role="tab">\n                </igx-tab-item>\n                <div #selectedIndicator *ngIf="groups.length > 0" class="igx-tabs__header-menu-item-indicator"></div>\n            </div>\n        </div>\n        <button igxRipple class="igx-tabs__header-button" igxButton="icon" (click)="scrollRight($event)" igxRightButtonStyle>\n            <igx-icon fontSet="material">navigate_next</igx-icon>\n        </button>\n    </div>\n    <div class="igx-tabs__content-fixed">\n        <div #contentsContainer class="igx-tabs__content-fluid">\n            <ng-content></ng-content>\n        </div>\n    </div>\n</div>',providers:[{provide:pd,useExisting:e}]}]}],e.ctorParameters=function(){return[{type:b.ElementRef}]},e.propDecorators={groups:[{type:b.ContentChildren,args:[b.forwardRef(function(){return vd})]}],selectedIndex:[{type:b.Input}],tabsType:[{type:b.Input,args:["tabsType"]}],"class":[{type:b.Input}],onTabItemDeselected:[{type:b.Output}],onTabItemSelected:[{type:b.Output}],contentsContainer:[{type:b.ViewChild,args:["contentsContainer"]}],headerContainer:[{type:b.ViewChild,args:["headerContainer"]}],itemsContainer:[{type:b.ViewChild,args:["itemsContainer"]}],selectedIndicator:[{type:b.ViewChild,args:["selectedIndicator"]}],tabsContainer:[{type:b.ViewChild,args:["tabsContainer"]}],viewPort:[{type:b.ViewChild,args:["viewPort"]}],tabs:[{type:b.ViewChildren,args:[b.forwardRef(function(){return ud})]}],cssClass:[{type:b.HostBinding,args:["attr.class"]}],selectedGroupHandler:[{type:b.HostListener,args:["onTabItemSelected",["$event"]]}]},e}(),Cd=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[bd,vd,ud,yd,fd,md],exports:[bd,vd,ud,yd,fd,md],imports:[r.CommonModule,qo,Go,yo]}]}],e}(),wd="IgxTimePickerComponentToken",_d=function(){function e(e,t){this.timePicker=e,this.elementRef=t,this.tabindex=0}return Object.defineProperty(e.prototype,"defaultCSS",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hourCSS",{get:function(){return"hourList"===this.type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minuteCSS",{get:function(){return"minuteList"===this.type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ampmCSS",{get:function(){return"ampmList"===this.type},enumerable:!0,configurable:!0}),e.prototype.onFocus=function(){this.isActive=!0},e.prototype.onBlur=function(){this.isActive=!1},e.prototype.nextItem=function(){switch(this.type){case"hourList":this.timePicker.nextHour();break;case"minuteList":this.timePicker.nextMinute();break;case"ampmList":this.timePicker.nextAmPm()}},e.prototype.prevItem=function(){switch(this.type){case"hourList":this.timePicker.prevHour();break;case"minuteList":this.timePicker.prevMinute();break;case"ampmList":this.timePicker.prevAmPm()}},e.prototype.onKeydownArrowDown=function(e){e.preventDefault(),this.nextItem()},e.prototype.onKeydownArrowUp=function(e){e.preventDefault(),this.prevItem()},e.prototype.onKeydownArrowRight=function(e){e.preventDefault();var t=e.target.className;-1!==t.indexOf("hourList")&&this.timePicker.minuteList?this.timePicker.minuteList.nativeElement.focus():-1===t.indexOf("hourList")&&-1===t.indexOf("minuteList")||!this.timePicker.ampmList||this.timePicker.ampmList.nativeElement.focus()},e.prototype.onKeydownArrowLeft=function(e){e.preventDefault();var t=e.target.className;-1!==t.indexOf("ampmList")&&this.timePicker.minuteList?this.timePicker.minuteList.nativeElement.focus():-1===t.indexOf("ampmList")&&-1===t.indexOf("minuteList")||!this.timePicker.hourList||this.timePicker.hourList.nativeElement.focus()},e.prototype.onKeydownEnter=function(e){e.preventDefault(),this.timePicker.mode!==sl.DropDown?this.timePicker.okButtonClick():this.timePicker.close()},e.prototype.onKeydownEscape=function(e){e.preventDefault(),this.timePicker.cancelButtonClick()},e.prototype.onHover=function(){this.elementRef.nativeElement.focus()},e.prototype.onScroll=function(e){e.preventDefault(),e.stopPropagation(),0<e.deltaY?this.nextItem():e.deltaY<0&&this.prevItem()},e.prototype.onPanMove=function(e){e.deltaY<0?this.nextItem():0<e.deltaY&&this.prevItem()},e.decorators=[{type:b.Directive,args:[{selector:"[igxItemList]"}]}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:b.Inject,args:[wd]}]},{type:b.ElementRef}]},e.propDecorators={type:[{type:b.Input,args:["igxItemList"]}],tabindex:[{type:b.HostBinding,args:["attr.tabindex"]}],defaultCSS:[{type:b.HostBinding,args:["class.igx-time-picker__column"]}],hourCSS:[{type:b.HostBinding,args:["class.igx-time-picker__hourList"]}],minuteCSS:[{type:b.HostBinding,args:["class.igx-time-picker__minuteList"]}],ampmCSS:[{type:b.HostBinding,args:["class.igx-time-picker__ampmList"]}],onFocus:[{type:b.HostListener,args:["focus"]}],onBlur:[{type:b.HostListener,args:["blur"]}],onKeydownArrowDown:[{type:b.HostListener,args:["keydown.arrowdown",["$event"]]}],onKeydownArrowUp:[{type:b.HostListener,args:["keydown.arrowup",["$event"]]}],onKeydownArrowRight:[{type:b.HostListener,args:["keydown.arrowright",["$event"]]}],onKeydownArrowLeft:[{type:b.HostListener,args:["keydown.arrowleft",["$event"]]}],onKeydownEnter:[{type:b.HostListener,args:["keydown.enter",["$event"]]}],onKeydownEscape:[{type:b.HostListener,args:["keydown.escape",["$event"]]}],onHover:[{type:b.HostListener,args:["mouseover"]}],onScroll:[{type:b.HostListener,args:["wheel",["$event"]]}],onPanMove:[{type:b.HostListener,args:["panmove",["$event"]]}]},e}(),Sd=function(){function e(e,t){this.timePicker=e,this.itemList=t}return Object.defineProperty(e.prototype,"defaultCSS",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedCSS",{get:function(){return this.isSelectedHour},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeCSS",{get:function(){return this.isSelectedHour&&this.itemList.isActive},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelectedHour",{get:function(){return this.timePicker.selectedHour===this.value},enumerable:!0,configurable:!0}),e.prototype.onClick=function(e){""!==e&&this.timePicker.scrollHourIntoView(e)},e.decorators=[{type:b.Directive,args:[{selector:"[igxHourItem]"}]}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:b.Inject,args:[wd]}]},{type:_d}]},e.propDecorators={value:[{type:b.Input,args:["igxHourItem"]}],defaultCSS:[{type:b.HostBinding,args:["class.igx-time-picker__item"]}],selectedCSS:[{type:b.HostBinding,args:["class.igx-time-picker__item--selected"]}],activeCSS:[{type:b.HostBinding,args:["class.igx-time-picker__item--active"]}],onClick:[{type:b.HostListener,args:["click",["value"]]}]},e}(),Id=function(){function e(e,t){this.timePicker=e,this.itemList=t}return Object.defineProperty(e.prototype,"defaultCSS",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedCSS",{get:function(){return this.isSelectedMinute},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeCSS",{get:function(){return this.isSelectedMinute&&this.itemList.isActive},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelectedMinute",{get:function(){return this.timePicker.selectedMinute===this.value},enumerable:!0,configurable:!0}),e.prototype.onClick=function(e){""!==e&&this.timePicker.scrollMinuteIntoView(e)},e.decorators=[{type:b.Directive,args:[{selector:"[igxMinuteItem]"}]}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:b.Inject,args:[wd]}]},{type:_d}]},e.propDecorators={value:[{type:b.Input,args:["igxMinuteItem"]}],defaultCSS:[{type:b.HostBinding,args:["class.igx-time-picker__item"]}],selectedCSS:[{type:b.HostBinding,args:["class.igx-time-picker__item--selected"]}],activeCSS:[{type:b.HostBinding,args:["class.igx-time-picker__item--active"]}],onClick:[{type:b.HostListener,args:["click",["value"]]}]},e}(),Dd=function(){function e(e,t){this.timePicker=e,this.itemList=t}return Object.defineProperty(e.prototype,"defaultCSS",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedCSS",{get:function(){return this.isSelectedAmPm},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeCSS",{get:function(){return this.isSelectedAmPm&&this.itemList.isActive},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelectedAmPm",{get:function(){return this.timePicker.selectedAmPm===this.value},enumerable:!0,configurable:!0}),e.prototype.onClick=function(e){""!==e&&this.timePicker.scrollAmPmIntoView(e)},e.decorators=[{type:b.Directive,args:[{selector:"[igxAmPmItem]"}]}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:b.Inject,args:[wd]}]},{type:_d}]},e.propDecorators={value:[{type:b.Input,args:["igxAmPmItem"]}],defaultCSS:[{type:b.HostBinding,args:["class.igx-time-picker__item"]}],selectedCSS:[{type:b.HostBinding,args:["class.igx-time-picker__item--selected"]}],activeCSS:[{type:b.HostBinding,args:["class.igx-time-picker__item--active"]}],onClick:[{type:b.HostListener,args:["click",["value"]]}]},e}(),Ed=function(){function e(e){this.template=e}return e.decorators=[{type:b.Directive,args:[{selector:"[igxTimePickerTemplate]"}]}],e.ctorParameters=function(){return[{type:b.TemplateRef}]},e}(),Od=function(){function e(e){this.template=e}return e.decorators=[{type:b.Directive,args:[{selector:"[igxTimePickerActions]"}]}],e.ctorParameters=function(){return[{type:b.TemplateRef}]},e}(),Pd=function(){function e(e){this.timePicker=e}return e.prototype.transform=function(e){var t,i,n,r=this.timePicker.parseMask(),o=this.timePicker.parseMask(!1);if(!e||e===o||e===r)return"";var s=e.split(/[\s:]+/);this.timePicker.showHoursList&&(t=s[0]),this.timePicker.showMinutesList&&(i=this.timePicker.showHoursList?s[1]:s[0]),this.timePicker.showAmPmList&&(n=s[s.length-1]);var a=this.timePicker.format,l=this.timePicker.promptChar,c=new RegExp(this.timePicker.promptChar,"g");if((-1!==a.indexOf("hh")||-1!==a.indexOf("HH")&&-1!==t.indexOf(l))&&(t=t===l+l?"00":t.replace(c,"0")),-1!==a.indexOf("mm")&&-1!==i.indexOf(l)&&(i=i===l+l?"00":i.replace(c,"0")),-1===a.indexOf("hh")&&-1===a.indexOf("HH")&&t!==undefined){t=-1!==t.indexOf(l)?t.replace(c,""):t;var p=parseInt(t,10);t=p?p<10&&0!==p?t.replace("0",""):t:"0"}if(-1===a.indexOf("mm")&&i!==undefined){i=-1!==i.indexOf(l)?i.replace(c,""):i;var u=parseInt(i,10);i=u?u<10&&0!==u?i.replace("0",""):i:"0"}-1===a.indexOf("tt")||"AM"===n&&"PM"===n||(n=-1!==n.indexOf("p")||-1!==n.indexOf("P")?"PM":"AM");var d=n?t+":"+i+" "+n:t+":"+i;return t||(d=d.slice(d.indexOf(":")+1,d.length)),i||(d=d.slice(0,d.indexOf(":")),n&&(d=d+" "+n)),d},e.decorators=[{type:b.Pipe,args:[{name:"displayFormat"}]}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:b.Inject,args:[wd]}]}]},e}(),Td=function(){function e(e){this.timePicker=e}return e.prototype.transform=function(e){var t,i,n,r,o=this.timePicker.promptChar,s=new RegExp(o,"g");if(t=this.timePicker.cleared?(this.timePicker.cleared=!1,this.timePicker.parseMask(!1)):this.timePicker.parseMask(),!e||e===t)return t;var a=e.split(/[\s:]+/);this.timePicker.showHoursList&&(i=(i=a[0]).replace(s,""),i=parseInt(i,10)<10&&!i.startsWith("0")||"0"===i?"0"+i:i);this.timePicker.showMinutesList&&(n=(n=this.timePicker.showHoursList?a[1]:a[0]).replace(s,""),n=parseInt(n,10)<10&&!n.startsWith("0")||"0"===n?"0"+n:n);this.timePicker.showAmPmList&&(r=a[a.length-1]);var l=r?i+":"+n+" "+r:i+":"+n;return i||(l=l.slice(l.indexOf(":")+1,l.length)),n||(l=l.slice(0,l.indexOf(":")),r&&(l=l+" "+r)),l},e.decorators=[{type:b.Pipe,args:[{name:"inputFormat"}]}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:b.Inject,args:[wd]}]}]},e}(),Rd=0,kd=[0,1,2],Ld=[3,4,5],Ad=[6,7,8],Fd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.overrides={pan:{direction:Hammer.DIRECTION_VERTICAL,threshold:1}},e}return f(e,t),e.decorators=[{type:b.Injectable}],e}(t.HammerGestureConfig),Md=function(){function e(){this.id="igx-time-picker-"+Rd++,this.disabled=!1,this.itemsDelta={hours:1,minutes:1},this.isSpinLoop=!0,this.vertical=!1,this.promptChar="-",this.mode=sl.Dialog,this.onValueChanged=new b.EventEmitter,this.onValidationFailed=new b.EventEmitter,this.onOpened=new b.EventEmitter,this.onClosed=new b.EventEmitter,this.onClosing=new b.EventEmitter,this._hourItems=[],this._minuteItems=[],this._ampmItems=[],this.cleared=!1,this.isNotEmpty=!1,this.displayFormat=new Pd(this),this.inputFormat=new Td(this),this._resourceStrings=kc.TimePickerResStrings,this._okButtonLabel=null,this._cancelButtonLabel=null,this._isHourListLoop=this.isSpinLoop,this._isMinuteListLoop=this.isSpinLoop,this._hourView=[],this._minuteView=[],this._ampmView=[],this._destroy$=new x.Subject,this._onOpen=new b.EventEmitter,this._onClose=new b.EventEmitter,this._onTouchedCallback=function(){},this._onChangeCallback=function(){}}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){if(this._isValueValid(e)){var t=this._value;this._value=e,this._onChangeCallback(e);var i=this._formatTime(this.value,this.format);this.mode===sl.DropDown&&this._displayValue!==i&&(this.displayValue=i);var n={oldValue:t,newValue:e};this.onValueChanged.emit(n)}else{n={timePicker:this,currentValue:e,setThroughUI:!1};this.onValidationFailed.emit(n)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resourceStrings",{get:function(){return this._resourceStrings},set:function(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"okButtonLabel",{get:function(){return null===this._okButtonLabel?this.resourceStrings.igx_time_picker_ok:this._okButtonLabel},set:function(e){this._okButtonLabel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cancelButtonLabel",{get:function(){return null===this._cancelButtonLabel?this.resourceStrings.igx_time_picker_cancel:this._cancelButtonLabel},set:function(e){this._cancelButtonLabel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"format",{get:function(){return this._format||"hh:mm tt"},set:function(e){this._format=e,this.mask=-1!==this._format.indexOf("tt")?"00:00 LL":"00:00",this.showHoursList&&this.showMinutesList||(this.mask=this.mask.slice(this.mask.indexOf(":")+1,this.mask.length)),this.displayValue&&(this.displayValue=this._formatTime(this.value,this._format))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onOpen",{get:function(){return this._onOpen},set:function(e){this._onOpen=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onClose",{get:function(){return this._onClose},set:function(e){this._onClose=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask||"00:00 LL"},set:function(e){this._mask=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayValue",{get:function(){return this._displayValue===undefined?this._formatTime(this.value,this.format):this._displayValue},set:function(e){this._displayValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayTime",{get:function(){return this.value?this._formatTime(this.value,this.format):""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hourView",{get:function(){return this._hourView},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minuteView",{get:function(){return this._minuteView},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ampmView",{get:function(){return this._ampmView},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showClearButton",{get:function(){return this.displayValue&&this.displayValue!==this.parseMask(!1)||this.isNotEmpty},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showHoursList",{get:function(){return-1!==this.format.indexOf("h")||-1!==this.format.indexOf("H")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showMinutesList",{get:function(){return-1!==this.format.indexOf("m")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showAmPmList",{get:function(){return-1!==this.format.indexOf("t")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validMinuteEntries",{get:function(){for(var e=[],t=0;t<60;t++)e.push(t);return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validHourEntries",{get:function(){for(var e=[],t=-1!==this.format.indexOf("h")?13:24,i=0;i<t;i++)e.push(i);return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"template",{get:function(){return this.timePickerTemplateDirective?this.timePickerTemplateDirective.template:this.mode===sl.Dialog?this.defaultTimePickerTemplate:this.dropdownInputTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){var e=this;return{value:this.value,displayTime:this.displayTime,displayValue:this.displayValue,openDialog:function(){e.openDialog()}}},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this._generateHours(),this._generateMinutes(),-1!==this.format.indexOf("tt")&&this._generateAmPm(),this._dropDownOverlaySettings={modal:!1,closeOnOutsideClick:!0,scrollStrategy:new kn,positionStrategy:new Tn},this._dialogOverlaySettings={}},e.prototype.ngAfterViewInit=function(){var t=this;this.mode===sl.DropDown&&this.input&&x.fromEvent(this.input.nativeElement,"keydown").pipe(p.throttle(function(){return x.interval(0,x.animationFrameScheduler)}),p.takeUntil(this._destroy$)).subscribe(function(e){"ArrowUp"!==e.key&&"Up"!==e.key&&"ArrowDown"!==e.key&&"Down"!==e.key||t.spinOnEdit(e)}),this.container&&this.group&&(this.container.nativeElement.style.width=this.group.element.nativeElement.getBoundingClientRect().width+"px"),this.toggleRef&&(this.toggleRef.onClosed.pipe(p.takeUntil(this._destroy$)).subscribe(function(){t._input&&t._input.nativeElement.focus(),t.mode===sl.DropDown&&t._onDropDownClosed(),t.onClosed.emit(t),t._onClose.emit(t)}),this.toggleRef.onOpened.pipe(p.takeUntil(this._destroy$)).subscribe(function(){t.onOpened.emit(t),t._onOpen.emit(t)}),this.toggleRef.onClosing.pipe(p.takeUntil(this._destroy$)).subscribe(function(e){t.onClosing.emit(e)}))},e.prototype.ngOnDestroy=function(){this._destroy$.next(!0),this._destroy$.complete()},e.prototype.onKeydownSpace=function(e){this.openDialog(),e.preventDefault()},e.prototype.onAltArrowDown=function(){this.openDialog()},e.prototype._scrollItemIntoView=function(e,t,i,n,r){var o;if(t){var s="AM"===e||"PM"===e?t.indexOf(e):t.indexOf(parseInt(e,10)),a=void 0;-1!==s&&((o=n?0<s?(i=this._itemToString(t[s-1],r),this._nextItem(t,i,n,r)):(i=this._itemToString(t[1],r),this._prevItem(t,i,n,r)):(a=t.slice(s-3,s+4),{selectedItem:i=this._itemToString(t[s],r),view:a})).view=this._viewToString(o.view,r))}return o},e.prototype._viewToString=function(e,t){for(var i=0;i<e.length;i++)"string"!=typeof e[i]&&(e[i]=this._itemToString(e[i],t));return e},e.prototype._itemToString=function(e,t){if(null===e)e="";else if(t&&"string"!=typeof e){var i=e<10&&(-1!==this.format.indexOf("hh")||-1!==this.format.indexOf("HH")),n=e<10&&-1!==this.format.indexOf("mm");e=("hour"===t?i:n)?"0"+e:""+e}return e},e.prototype._prevItem=function(e,t,i,n){var r,o=e.indexOf(parseInt(t,10)),s=e.length;return-1===o?(r=e.slice(0,7),t=e[3]):i?(r=o-4<0?(r=e.slice(s-(4-o),s)).concat(e.slice(0,o+3)):s<o+4?(r=e.slice(o-4,s)).concat(e.slice(0,o+3-s)):e.slice(o-4,o+3),t=0===o?e[s-1]:e[o-1]):3<o?(r=e.slice(o-4,o+3),t=e[o-1]):3===o&&(r=e.slice(0,7)),r=this._viewToString(r,n),{selectedItem:t=this._itemToString(t,n),view:r}},e.prototype._nextItem=function(e,t,i,n){var r,o=e.indexOf(parseInt(t,10)),s=e.length;return-1===o?(r=e.slice(0,7),t=e[3]):i?(r=o<2?(r=e.slice(s-(2-o),s)).concat(e.slice(0,o+5)):s<=o+4?(r=e.slice(o-2,s)).concat(e.slice(0,o+5-s)):e.slice(o-2,o+5),t=o===s-1?e[0]:e[o+1]):o+1<s-3?(r=e.slice(o-2,o+5),t=e[o+1]):o===s-4&&(r=e.slice(o-3,s)),r=this._viewToString(r,n),{selectedItem:t=this._itemToString(t,n),view:r}},e.prototype._formatTime=function(e,t){if(e){var i,n=e.getHours(),r=void 0,o=e.getMinutes(),s=11<n?"PM":"AM";return r=-1!==t.indexOf("h")?12<n?(n-=12)<10&&-1!==t.indexOf("hh")?"0"+n:""+n:0===n?"12":n<10&&-1!==t.indexOf("hh")?"0"+n:""+n:n<10&&-1!==t.indexOf("HH")?"0"+n:""+n,i=o<10&&-1!==t.indexOf("mm")?"0"+o:""+o,t.replace("hh",r).replace("h",r).replace("HH",r).replace("H",r).replace("mm",i).replace("m",i).replace("tt",s)}return""},e.prototype._updateHourView=function(e,t){this._hourView=this._viewToString(this._hourItems.slice(e,t),"hour")},e.prototype._updateMinuteView=function(e,t){this._minuteView=this._viewToString(this._minuteItems.slice(e,t),"minute")},e.prototype._updateAmPmView=function(e,t){this._ampmView=this._ampmItems.slice(e,t)},e.prototype._addEmptyItems=function(e){for(var t=0;t<3;t++)e.push(null)},e.prototype._generateHours=function(){var e=24;-1!==this.format.indexOf("h")&&(e=13),e/=this.itemsDelta.hours;var t=-1!==this.format.indexOf("H")?0:1;if((e<7||!this.isSpinLoop)&&(this._addEmptyItems(this._hourItems),this._isHourListLoop=!1),1<e)for(;t<e;t++)this._hourItems.push(t*this.itemsDelta.hours);else this._hourItems.push(0);(e<7||!this.isSpinLoop)&&this._addEmptyItems(this._hourItems)},e.prototype._generateMinutes=function(){var e=60/this.itemsDelta.minutes;(e<7||!this.isSpinLoop)&&(this._addEmptyItems(this._minuteItems),this._isMinuteListLoop=!1);for(var t=0;t<e;t++)this._minuteItems.push(t*this.itemsDelta.minutes);(e<7||!this.isSpinLoop)&&this._addEmptyItems(this._minuteItems)},e.prototype._generateAmPm=function(){this._addEmptyItems(this._ampmItems),this._ampmItems.push("AM"),this._ampmItems.push("PM"),this._addEmptyItems(this._ampmItems)},e.prototype._getSelectedTime=function(){var e=this.value?new Date(this.value):new Date;return this.selectedHour&&e.setHours(parseInt(this.selectedHour,10)),this.selectedMinute&&e.setMinutes(parseInt(this.selectedMinute,10)),e.setSeconds(0),(this.showHoursList&&"12"!==this.selectedHour||!this.showHoursList&&this.selectedHour<="11")&&"PM"===this.selectedAmPm&&e.setHours(e.getHours()+12),!this.showHoursList&&"AM"===this.selectedAmPm&&"11"<this.selectedHour&&e.setHours(e.getHours()-12),"AM"===this.selectedAmPm&&"12"===this.selectedHour&&e.setHours(0),e},e.prototype._convertMinMaxValue=function(e){var t,i,n,r=this.value?new Date(this.value):this._dateFromModel?new Date(this._dateFromModel):new Date,o=e.split(/[\s:]+/);return r.setSeconds(0),this.showHoursList&&(t=o[0],r.setHours(parseInt(t,10))),this.showMinutesList&&(i=this.showHoursList?o[1]:o[0],r.setMinutes(parseInt(i,10))),this.showAmPmList&&(n=o[o.length-1],(this.showHoursList&&"12"!==r.getHours().toString()||!this.showHoursList&&r.getHours().toString()<="11")&&"PM"===n&&r.setHours(r.getHours()+12),!this.showHoursList&&"AM"===n&&"11"<r.getHours().toString()&&r.setHours(r.getHours()-12),this.showHoursList&&12===r.getHours()&&"AM"===n&&r.setHours(0)),r},e.prototype._isValueValid=function(e){return!(this.maxValue&&e>this._convertMinMaxValue(this.maxValue))&&!(this.minValue&&e<this._convertMinMaxValue(this.minValue))},e.prototype._isEntryValid=function(e){var t=!0,i=!0,n=e.split(/[\s:]+/),r=new RegExp(this.promptChar,"g");if(this.showHoursList&&(t=-1!==this.validHourEntries.indexOf(parseInt(n[0].replace(r,""),10))),this.showMinutesList){var o=this.showHoursList?n[1]:n[0];i=-1!==this.validMinuteEntries.indexOf(parseInt(o.replace(r,""),10))}return t&&i},e.prototype._getCursorPosition=function(){return this.input.nativeElement.selectionStart},e.prototype._setCursorPosition=function(e,t){void 0===t&&(t=e),this.input.nativeElement.setSelectionRange(e,t)},e.prototype._updateEditableInput=function(){this.mode===sl.DropDown&&(this.displayValue=this._formatTime(this._getSelectedTime(),this.format))},e.prototype._spinHours=function(e,t,i,n,r){var o=new Date(e);e.setMinutes(r*n),e.getDate()!==o.getDate()&&this.isSpinLoop&&e.setDate(o.getDate());var s=e.getMinutes();return e.getTime()>i.getTime()?this.isSpinLoop?(s=s<t.getMinutes()?60+s:s,t.setMinutes(r*s),t):o:e.getTime()<t.getTime()?this.isSpinLoop?(s=s<=i.getMinutes()?s:s-60,i.setMinutes(s),i):o:e},e.prototype._spinMinutes=function(e,t,i){var n=e.getMinutes()+i*t;return(n<0||60<=n)&&(n=this.isSpinLoop?n-60*i:e.getMinutes()),e.setMinutes(n),e},e.prototype._initializeContainer=function(){var e=this;if(this.value){var t=this._formatTime(this.value,this.format).split(/[\s:]+/);this.showHoursList&&(this.selectedHour=t[0]),this.showMinutesList&&(this.selectedMinute=this.showHoursList?t[1]:t[0]),this.showAmPmList&&null!==this._ampmItems&&(this.selectedAmPm=t[t.length-1])}this.selectedHour===undefined&&(this.selectedHour=!this.showHoursList&&this.value?this.value.getHours().toString():this.showHoursList?""+this._hourItems[3]:"0"),this.selectedMinute===undefined&&(this.selectedMinute=!this.showMinutesList&&this.value?this.value.getMinutes().toString():"0"),this.selectedAmPm===undefined&&null!==this._ampmItems&&(this.selectedAmPm=this._ampmItems[3]),this._prevSelectedHour=this.selectedHour,this._prevSelectedMinute=this.selectedMinute,this._prevSelectedAmPm=this.selectedAmPm,this._onTouchedCallback(),this._updateHourView(0,7),this._updateMinuteView(0,7),this._updateAmPmView(0,7),this.selectedHour&&this.scrollHourIntoView(this.selectedHour),this.selectedMinute&&this.scrollMinuteIntoView(this.selectedMinute),this.selectedAmPm&&this.scrollAmPmIntoView(this.selectedAmPm),requestAnimationFrame(function(){e.hourList?e.hourList.nativeElement.focus():e.minuteList&&e.minuteList.nativeElement.focus()})},e.prototype._onDropDownClosed=function(){var e=this.value,t=this._convertMinMaxValue(this.displayValue);if(this._isValueValid(t))this.value&&e.getTime()===t.getTime()||(this.value=t);else{this.displayValue=this.inputFormat.transform(this._formatTime(e,this.format));var i={timePicker:this,currentValue:t,setThroughUI:!0};this.onValidationFailed.emit(i)}},e.prototype.getEditElement=function(){return this._input.nativeElement},e.prototype.writeValue=function(e){this._dateFromModel=e,this.value=e,this.mode===sl.DropDown&&(this.displayValue=this._formatTime(this.value,this.format))},e.prototype.registerOnChange=function(e){this._onChangeCallback=e},e.prototype.registerOnTouched=function(e){this._onTouchedCallback=e},e.prototype.openDialog=function(e){if(void 0===e&&(e=this),this.toggleRef.collapsed){var t=void 0;if(this.mode===sl.Dialog&&(t=this.overlaySettings||this._dialogOverlaySettings),this.mode===sl.DropDown){var i=(t=this.overlaySettings||this._dropDownOverlaySettings).positionStrategy;if(this.group&&i)i.settings.target=this.group.element.nativeElement;else if(this.templateDropDownTarget&&i)i.settings.target=this.templateDropDownTarget.nativeElement;else if(!i||i&&!i.settings.target)throw new Error("There is no target element for the dropdown to attach.Mark a DOM element with #dropDownTarget ref variable or provide correct overlay positionStrategy.")}this.outlet&&(t.outlet=this.outlet),this.toggleRef.open(t),this._initializeContainer()}else this.mode===sl.DropDown&&this.close()},e.prototype.scrollHourIntoView=function(e){if(this.showHoursList){var t=this._scrollItemIntoView(e,this._hourItems,this.selectedHour,this._isHourListLoop,"hour");t&&(this._hourView=t.view,this.selectedHour=t.selectedItem,this._updateEditableInput())}},e.prototype.scrollMinuteIntoView=function(e){if(this.showMinutesList){var t=this._scrollItemIntoView(e,this._minuteItems,this.selectedMinute,this._isMinuteListLoop,"minute");t&&(this._minuteView=t.view,this.selectedMinute=t.selectedItem,this._updateEditableInput())}},e.prototype.scrollAmPmIntoView=function(e){if(this.showAmPmList){var t=this._scrollItemIntoView(e,this._ampmItems,this.selectedAmPm,!1,null);t&&(this._ampmView=t.view,this.selectedAmPm=t.selectedItem,this._updateEditableInput())}},e.prototype.nextHour=function(){var e=this._nextItem(this._hourItems,this.selectedHour,this._isHourListLoop,"hour");this._hourView=e.view,this.selectedHour=e.selectedItem,this._updateEditableInput()},e.prototype.prevHour=function(){var e=this._prevItem(this._hourItems,this.selectedHour,this._isHourListLoop,"hour");this._hourView=e.view,this.selectedHour=e.selectedItem,this._updateEditableInput()},e.prototype.nextMinute=function(){var e=this._nextItem(this._minuteItems,this.selectedMinute,this._isMinuteListLoop,"minute");this._minuteView=e.view,this.selectedMinute=e.selectedItem,this._updateEditableInput()},e.prototype.prevMinute=function(){var e=this._prevItem(this._minuteItems,this.selectedMinute,this._isMinuteListLoop,"minute");this._minuteView=e.view,this.selectedMinute=e.selectedItem,this._updateEditableInput()},e.prototype.nextAmPm=function(){var e=this._ampmItems.indexOf(this.selectedAmPm);e+1<this._ampmItems.length-3&&(this._updateAmPmView(e-2,e+5),this.selectedAmPm=this._ampmItems[e+1],this._updateEditableInput())},e.prototype.prevAmPm=function(){var e=this._ampmItems.indexOf(this.selectedAmPm);3<e&&(this._updateAmPmView(e-4,e+3),this.selectedAmPm=this._ampmItems[e-1],this._updateEditableInput())},e.prototype.okButtonClick=function(){var e=this._getSelectedTime();if(this._isValueValid(e))return this.close(),this.value=e,!0;var t={timePicker:this,currentValue:e,setThroughUI:!0};return this.onValidationFailed.emit(t),!1},e.prototype.cancelButtonClick=function(){this.mode===sl.DropDown&&(this.displayValue=this._formatTime(this.value,this.format)),this.close(),this.selectedHour=this._prevSelectedHour,this.selectedMinute=this._prevSelectedMinute,this.selectedAmPm=this._prevSelectedAmPm},e.prototype.hoursInView=function(){return this._hourView.filter(function(e){return""!==e})},e.prototype.minutesInView=function(){return this._minuteView.filter(function(e){return""!==e})},e.prototype.ampmInView=function(){return this._ampmView.filter(function(e){return""!==e})},e.prototype.close=function(){this.toggleRef.close()},e.prototype.parseMask=function(e){void 0===e&&(e=!0);var t=this.mask.replace(new RegExp("0","g"),this.promptChar).replace("LL","AM"),i=this.mask.replace(new RegExp("0","g"),this.promptChar).replace(new RegExp("L","g"),this.promptChar);return e?t:i},e.prototype.clear=function(){if(this.toggleRef.collapsed){this.cleared=!0,this.isNotEmpty=!1;var e=new Date(this.value);if(this.displayValue="",this.value.setHours(0,0),e.getTime()!==this.value.getTime()){var t={oldValue:e,newValue:this.value};this.onValueChanged.emit(t)}}else this.close()},e.prototype.onInput=function(e){var t=e.target.value,i=new Date(this.value);if(this.isNotEmpty=t!==this.parseMask(!1),-1===t.indexOf(this.promptChar))if(this._isEntryValid(t)){var n=this._convertMinMaxValue(t);i.getTime()!==n.getTime()&&(this.value=n)}else{var r={timePicker:this,currentValue:t,setThroughUI:!1};this.onValidationFailed.emit(r)}else if(!(this.value&&t&&t!==this.parseMask(!1)||(this.isNotEmpty=!1,this.value.setHours(0,0),this.displayValue=t,i.getTime()===this.value.getTime()))){r={oldValue:i,newValue:this.value};this.onValueChanged.emit(r)}},e.prototype.onFocus=function(e){this.isNotEmpty=e.target.value!==this.parseMask(!1)},e.prototype.onBlur=function(e){var t=e.target.value;if(this.isNotEmpty=""!==t,(this.displayValue=t)&&t!==this.parseMask())if(this._isEntryValid(t)){var i=this._convertMinMaxValue(t);this.value&&this.value.getTime()===i.getTime()||(this.value=i)}else{var n={timePicker:this,currentValue:t,setThroughUI:!1};this.onValidationFailed.emit(n)}},e.prototype.spinOnEdit=function(e){var t,i,n=this;e.preventDefault();var r=new Date(this.value),o=this.minValue?this._convertMinMaxValue(this.minValue):this._convertMinMaxValue("00:00"),s=this.maxValue?this._convertMinMaxValue(this.maxValue):this._convertMinMaxValue("24:00"),a=this._getCursorPosition();if(e.key){var l=e.key;t="ArrowDown"===l||"Down"===l?-1:1}if(e.deltaY&&(t=e.deltaY<0?1:-1),this.displayValue){var c=60*this.itemsDelta.hours+t*this.value.getMinutes(),p=this.itemsDelta.minutes;if(this.showHoursList&&-1!==kd.indexOf(a)&&(this.value=this._spinHours(r,o,s,c,t)),this.showMinutesList&&(this.showHoursList&&-1!==Ld.indexOf(a)||!this.showHoursList&&-1!==kd.indexOf(a))&&(this.value=this._spinMinutes(r,p,t)),this.showAmPmList&&((!this.showHoursList||!this.showMinutesList)&&-1!==Ld.indexOf(a)||this.showHoursList&&this.showMinutesList&&-1!==Ad.indexOf(a))){var u=this.displayValue.split(/[\s:]+/);t="AM"===u[u.length-1]?1:-1,r.setHours(r.getHours()+12*t),this.value=r}i=this._formatTime(this.value,this.format)}else this.value=o,i=this._formatTime(this.value,this.format);this._displayValue=this.inputFormat.transform(i),this.input.nativeElement.value=this._displayValue,this._setCursorPosition(a),requestAnimationFrame(function(){n._setCursorPosition(a)})},e.decorators=[{type:b.Component,args:[{providers:[{provide:o.NG_VALUE_ACCESSOR,useExisting:e,multi:!0},{provide:t.HAMMER_GESTURE_CONFIG,useClass:Fd},{provide:wd,useExisting:e}],selector:"igx-time-picker",template:'<ng-template #dropdownInputTemplate>\n    <igx-input-group #group>\n        <label igxLabel>Time</label>\n        <igx-prefix (click)="openDialog()">\n            <igx-icon>access_time</igx-icon>\n        </igx-prefix>\n        <input #input type="text" [igxMask]="mask" igxInput [includeLiterals]="false" [placeholder]="format"\n            [displayValuePipe]="displayFormat" [focusedValuePipe]="inputFormat" [promptChar]="promptChar"\n            [value]="displayValue" (input)="onInput($event)" (blur)="onBlur($event)" (focus)="onFocus($event)"\n            (wheel)="spinOnEdit($event)" [disabled]="disabled" />\n        <igx-suffix *ngIf="showClearButton" igxRipple (click)="clear()">\n            <igx-icon fontSet="material">clear</igx-icon>\n        </igx-suffix>\n    </igx-input-group>\n</ng-template>\n<ng-template #defaultTimePickerTemplate>\n    <igx-input-group (click)="openDialog()">\n        <igx-prefix>\n            <igx-icon>access_time</igx-icon>\n        </igx-prefix>\n        <label igxLabel>Time</label>\n        <input igxInput [value]="displayTime || \'\'" [disabled]="disabled" tabindex="0" readonly />\n    </igx-input-group>\n</ng-template>\n<ng-container *ngTemplateOutlet="template; context: context"></ng-container>\n\n<ng-template #defaultTimePickerActions>\n    <div *ngIf="cancelButtonLabel || okButtonLabel" class="igx-time-picker__buttons">\n        <button *ngIf="cancelButtonLabel" igxButton="flat" (click)="cancelButtonClick()">\n            {{cancelButtonLabel}}\n        </button>\n        <button *ngIf="okButtonLabel" igxButton="flat" (click)="okButtonClick()">\n            {{okButtonLabel}}\n        </button>\n    </div>\n</ng-template>\n<div #container igxToggle class="igx-time-picker"\n    [ngClass]="{\'igx-time-picker--dropdown\': mode === \'dropdown\', \'igx-time-picker--vertical\': vertical && mode === \'dialog\'}">\n    <div *ngIf="mode === \'dialog\'" class="igx-time-picker__header">\n        <h5 class="igx-time-picker__header-ampm">{{ selectedAmPm }}</h5>\n        <h2 class="igx-time-picker__header-hour">\n            <span>{{ selectedHour }}</span>:<span>{{ selectedMinute }}</span>\n        </h2>\n    </div>\n    <div class="igx-time-picker__main">\n        <div class="igx-time-picker__body">\n            <div *ngIf="showHoursList" #hourList [igxItemList]="\'hourList\'">\n                <span [igxHourItem]="hour" *ngFor="let hour of hourView">{{ hour }}</span>\n            </div>\n            <div *ngIf="showMinutesList" #minuteList [igxItemList]="\'minuteList\'">\n                <span [igxMinuteItem]="minute" *ngFor="let minute of minuteView">{{ minute }}</span>\n            </div>\n            <div *ngIf="showAmPmList" #ampmList [igxItemList]="\'ampmList\'">\n                <span [igxAmPmItem]="ampm" *ngFor="let ampm of ampmView">{{ ampm }}</span>\n            </div>\n        </div>\n        <ng-container *ngTemplateOutlet="timePickerActionsDirective ? timePickerActionsDirective.template : defaultTimePickerActions"></ng-container>\n    </div>\n</div>',styles:[":host {\n            display: block;\n        }"]}]}],e.propDecorators={id:[{type:b.HostBinding,args:["attr.id"]},{type:b.Input}],value:[{type:b.Input}],disabled:[{type:b.Input}],resourceStrings:[{type:b.Input}],okButtonLabel:[{type:b.Input}],cancelButtonLabel:[{type:b.Input}],itemsDelta:[{type:b.Input}],minValue:[{type:b.Input}],maxValue:[{type:b.Input}],isSpinLoop:[{type:b.Input}],vertical:[{type:b.Input}],format:[{type:b.Input}],promptChar:[{type:b.Input}],mode:[{type:b.Input}],outlet:[{type:b.Input}],overlaySettings:[{type:b.Input}],onValueChanged:[{type:b.Output}],onValidationFailed:[{type:b.Output}],onOpen:[{type:b.Output}],onOpened:[{type:b.Output}],onClose:[{type:b.Output}],onClosed:[{type:b.Output}],onClosing:[{type:b.Output}],hourList:[{type:b.ViewChild,args:["hourList"]}],minuteList:[{type:b.ViewChild,args:["minuteList"]}],ampmList:[{type:b.ViewChild,args:["ampmList"]}],defaultTimePickerTemplate:[{type:b.ViewChild,args:["defaultTimePickerTemplate",{read:b.TemplateRef}]}],timePickerTemplateDirective:[{type:b.ContentChild,args:[Ed,{read:Ed}]}],timePickerActionsDirective:[{type:b.ContentChild,args:[Od,{read:Od}]}],_input:[{type:b.ViewChild,args:[_r,{read:b.ElementRef}]}],container:[{type:b.ViewChild,args:["container"]}],toggleRef:[{type:b.ViewChild,args:[Hn]}],input:[{type:b.ViewChild,args:["input",{read:b.ElementRef}]}],group:[{type:b.ViewChild,args:["group",{read:kr}]}],dropdownInputTemplate:[{type:b.ViewChild,args:["dropdownInputTemplate",{read:b.TemplateRef}]}],templateDropDownTarget:[{type:b.ContentChild,args:["dropDownTarget",{read:b.ElementRef}]}],onKeydownSpace:[{type:b.HostListener,args:["keydown.spacebar",["$event"]]},{type:b.HostListener,args:["keydown.space",["$event"]]}],onAltArrowDown:[{type:b.HostListener,args:["keydown.Alt.ArrowDown"]}]},y([Sn("'onOpen' @Output property is deprecated. Use 'onOpened' instead."),C("design:type",b.EventEmitter),C("design:paramtypes",[b.EventEmitter])],e.prototype,"onOpen",null),y([Sn("'onClose' @Output property is deprecated. Use 'onClosed' instead."),C("design:type",b.EventEmitter),C("design:paramtypes",[b.EventEmitter])],e.prototype,"onClose",null),e}(),Vd=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[Md,Sd,_d,Id,Dd,Ed,Od,Pd,Td],exports:[Md,Ed,Od,Pd,Td],imports:[r.CommonModule,Lr,Go,Vr,po,Nn],providers:[]}]}],e}(),Hd=0,Bd=function(){function e(e,t){this.elementRef=e,this.navService=t,this.CSS_CLASSES={IGX_TOAST_BOTTOM:"igx-toast--bottom",IGX_TOAST_MIDDLE:"igx-toast--middle",IGX_TOAST_TOP:"igx-toast--top"},this.id="igx-toast-"+Hd++,this.onShowing=new b.EventEmitter,this.onShown=new b.EventEmitter,this.onHiding=new b.EventEmitter,this.onHidden=new b.EventEmitter,this.role="alert",this.autoHide=!0,this.displayTime=4e3,this.isVisible=!1,this.position=jd.Bottom}return Object.defineProperty(e.prototype,"element",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),e.prototype.show=function(){var e=this;clearInterval(this.timeoutId),this.onShowing.emit(this),this.isVisible=!0,this.autoHide&&(this.timeoutId=setTimeout(function(){e.hide()},this.displayTime)),this.onShown.emit(this)},e.prototype.hide=function(){this.onHiding.emit(this),this.isVisible=!1,this.onHidden.emit(this),clearInterval(this.timeoutId)},e.prototype.open=function(){this.show()},e.prototype.close=function(){this.hide()},e.prototype.toggle=function(){this.isVisible?this.close():this.open()},e.prototype.mapPositionToClassName=function(){return this.position===jd.Top?this.CSS_CLASSES.IGX_TOAST_TOP:this.position===jd.Middle?this.CSS_CLASSES.IGX_TOAST_MIDDLE:this.position===jd.Bottom?this.CSS_CLASSES.IGX_TOAST_BOTTOM:void 0},e.prototype.ngOnInit=function(){this.navService&&this.id&&this.navService.add(this.id,this)},e.prototype.ngOnDestroy=function(){this.navService&&this.id&&this.navService.remove(this.id)},e.decorators=[{type:b.Component,args:[{animations:[u.trigger("animate",[u.state("show",u.style({opacity:1})),u.transition("* => show",u.animate(".20s ease")),u.transition("show => *",u.animate(".40s ease-out"))])],selector:"igx-toast",template:'<div [ngClass]="mapPositionToClassName()" *ngIf="this.isVisible" [@animate]="\'show\'">\n    {{ message }}\n</div>\n',styles:["\n        :host {\n            display: block;\n        }\n    "]}]}],e.ctorParameters=function(){return[{type:b.ElementRef},{type:Zt,decorators:[{type:b.Optional}]}]},e.propDecorators={id:[{type:b.HostBinding,args:["attr.id"]},{type:b.Input}],onShowing:[{type:b.Output}],onShown:[{type:b.Output}],onHiding:[{type:b.Output}],onHidden:[{type:b.Output}],role:[{type:b.Input}],autoHide:[{type:b.Input}],displayTime:[{type:b.Input}],isVisible:[{type:b.Input}],message:[{type:b.Input}],position:[{type:b.Input}]},e}(),jd={Bottom:0,Middle:1,Top:2};jd[jd.Bottom]="Bottom",jd[jd.Middle]="Middle",jd[jd.Top]="Top";var Nd=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[Bd],exports:[Bd],imports:[r.CommonModule]}]}],e}(),Gd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.decorators=[{type:b.Component,args:[{selector:"igx-select-item-group",template:'\n        <label id="{{labelId}}">{{ label }}</label>\n        <ng-content select="igx-select-item"></ng-content>\n    '}]}],t}(Xn),zd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),Object.defineProperty(t.prototype,"itemText",{get:function(){return this.elementRef.nativeElement.innerText.trim()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return!this.isHeader&&!this.disabled&&this.selection.is_item_selected(this.dropDown.id,this)},set:function(e){!e||this.isHeader||this.disabled||this.dropDown.selectItem(this)},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){},t.decorators=[{type:b.Component,args:[{selector:"igx-select-item",template:"<ng-content></ng-content>"}]}],t}(Qn),Wd={Top:-1,Bottom:1,None:0};Wd[Wd.Top]="Top",Wd[Wd.Bottom]="Bottom",Wd[Wd.None]="None";var Ud=function(O){function e(e,t){var i=O.call(this)||this;return i.select=e,i._selectDefaultSettings={target:null,horizontalDirection:gn.Right,verticalDirection:fn.Bottom,horizontalStartPoint:gn.Left,verticalStartPoint:fn.Top,openAnimation:d,closeAnimation:h},i.defaultWindowToListOffset=5,i.viewPort=vn(document),i.settings=Object.assign({},i._selectDefaultSettings,t),i}return f(e,O),e.prototype.positionAndScrollBottom=function(e,t){e.style.top=this.viewPort.bottom-this.listContainerBoundRect.height-this.defaultWindowToListOffset+"px",e.firstElementChild.scrollTop-=t-this.defaultWindowToListOffset,this.deltaY=this.viewPort.bottom-this.listContainerBoundRect.height-this.defaultWindowToListOffset-this.select.input.nativeElement.getBoundingClientRect().top},e.prototype.positionNoScroll=function(e,t){e.style.top=t-this.itemTextToInputTextDiff+"px",this.deltaY=t-this.select.input.nativeElement.getBoundingClientRect().top-this.itemTextToInputTextDiff},e.prototype.positionAndScrollTop=function(e,t){e.style.top=this.viewPort.top+this.defaultWindowToListOffset+"px",e.firstElementChild.scrollTop+=t+this.itemTextToInputTextDiff+this.defaultWindowToListOffset,this.deltaY=this.viewPort.top+this.defaultWindowToListOffset-this.select.input.nativeElement.getBoundingClientRect().top},e.prototype.getItemsOutOfView=function(e,t){if(e.firstElementChild.scrollHeight<=e.firstElementChild.clientHeight)return{currentScroll:0,remainingScroll:0};var i=e.firstElementChild.scrollTop;return{currentScroll:i,remainingScroll:this.select.items.length*t-i-this.listContainerBoundRect.height}},e.prototype.listOutOfBounds=function(e,t){var i=e.top,n=e.bottom,r=vn(t),o=r.top,s=r.bottom,a={Direction:Wd.None,Amount:0};if(o+this.defaultWindowToListOffset>i)a.Direction=Wd.Top,a.Amount=o-i;else{if(!(s-this.defaultWindowToListOffset<n))return null;a.Direction=Wd.Bottom,a.Amount=n-s}return a},e.prototype.position=function(e,t,i,n){var r=this.select.input.nativeElement,o=r.getBoundingClientRect();this.listContainerBoundRect=e.getBoundingClientRect();var s=this.listContainerBoundRect.height;if(!n){this.deltaX=o.left-this.itemTextPadding-this.itemTextIndent;var a=new mn(this.deltaX,o.top+this.deltaY);return this.settings.target=a,void O.prototype.position.call(this,e,t)}var l,c={X:o.left,Y:o.top};this.select.selectedItem?(l=this.select.selectedItem.element.nativeElement,ai()&&(e.firstElementChild.scrollTop=this.select.calculateScrollPosition(this.select.selectedItem))):l=this.select.getFirstItemElement();var p=o.height,u=l.getBoundingClientRect(),d=u.top-this.listContainerBoundRect.top,h=u.height,g=window.getComputedStyle(r).fontSize,f=parseInt(g.slice(0,g.indexOf("p")),10)||0,m=window.getComputedStyle(l).fontSize,y=(p-f)/2,v=(h-(parseInt(m.slice(0,m.indexOf("p")),10)||0))/2;this.itemTextToInputTextDiff=v-y;var x=c.Y-d,b=x+this.listContainerBoundRect.height,C=this.listOutOfBounds({top:x,bottom:b},i);C&&(C.Direction===Wd.Top?x=c.Y:(x=-1*(s-(h-(h-p)/2)),x+=c.Y));var w=window.getComputedStyle(l).paddingLeft,_=window.getComputedStyle(l).textIndent,S=parseInt(w.slice(0,w.indexOf("p")),10)||0,I=parseInt(_.slice(0,_.indexOf("r")),10)||0;this.itemTextPadding=S,this.itemTextIndent=I,e.style.left+=c.X-S-I+"px",e.style.width=o.width+24+48+"px",this.deltaX=c.X-S-I;var D=this.getItemsOutOfView(e,h).currentScroll,E=this.getItemsOutOfView(e,h).remainingScroll;if(0===E&&0===D&&this.positionNoScroll(e,x),0!==E||0!==D){if(0===E||C||this.positionNoScroll(e,x),0!==E&&C){if(h<E){if(C.Direction===Wd.Top)return void this.positionAndScrollTop(e,C.Amount);if(C.Direction===Wd.Bottom)return 0===D?void this.positionNoScroll(e,x):void this.positionAndScrollBottom(e,C.Amount)}E<h&&(C.Direction===Wd.Top&&this.positionNoScroll(e,x),C.Direction===Wd.Bottom&&this.positionAndScrollBottom(e,C.Amount))}if(0===E&&0!==D){if(C&&C.Direction===Wd.Bottom)return void this.positionAndScrollBottom(e,C.Amount);this.positionNoScroll(e,x)}}},e}(On),Kd=function(){function e(){}return e.decorators=[{type:b.Directive,args:[{selector:"[igxSelectToggleIcon]"}]}],e}(),$d=function(){},Yd=function(s){function e(e,t,i,n,r){var o=s.call(this,e,t,i,n)||this;return o.elementRef=e,o.cdr=t,o.selection=i,o._displayDensityOptions=n,o._injector=r,o.ngControl=null,o.cssClass=!1,o.allowItemsFocus=!1,o.disabled=!1,o.maxHeight="256px",o.type="line",o.displayDensity="comfortable",o.toggleIconTemplate=null,o._onChangeCallback=$d,o.writeValue=function(e){o.value=e},o}return f(e,s),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){var t=this;this._value!==e&&(this._value=e,this.setSelection(this.items.find(function(e){return e.value===t.value})),this.cdr.detectChanges())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectionValue",{get:function(){var e=this.selectedItem;return e?e.itemText:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedItem",{get:function(){return this.selection.first_item(this.id)},enumerable:!0,configurable:!0}),e.prototype.registerOnChange=function(e){this._onChangeCallback=e},e.prototype.registerOnTouched=function(e){},e.prototype.getEditElement=function(){return this.input.nativeElement},e.prototype.selectItem=function(e,t){var i=this.selectedItem;if(t&&this.toggleDirective.close(),null!==e&&e!==i&&!e.disabled&&!e.isHeader){var n={oldSelection:i,newSelection:e,cancel:!1};this.onSelection.emit(n),n.cancel||(this.setSelection(e),this._value=e.value,this.cdr.detectChanges(),this._onChangeCallback(this.value))}},e.prototype.getFirstItemElement=function(){return this.children.first.element.nativeElement},e.prototype.open=function(e){this.disabled||0===this.items.length||(this.selectedItem||this.navigateFirst(),s.prototype.open.call(this,Object.assign({},this._overlayDefaults,this.overlaySettings,e)))},e.prototype.ngAfterContentInit=function(){var t=this;this._overlayDefaults={modal:!1,closeOnOutsideClick:!1,positionStrategy:new Ud(this,{target:this.inputGroup.element.nativeElement}),scrollStrategy:new kn,excludePositionTarget:!0},this.children.changes.subscribe(function(){t.setSelection(t.items.find(function(e){return e.value===t.value})),t.cdr.detectChanges()}),Promise.resolve().then(function(){return t.children.notifyOnChanges()})},e.prototype.onToggleOpening=function(e){this.onOpening.emit(e),e.cancel||this.scrollToItem(this.selectedItem)},e.prototype.navigate=function(e,t){this.collapsed&&this.selectedItem&&this.navigateItem(this.selectedItem.itemIndex),s.prototype.navigate.call(this,e,t)},e.prototype.manageRequiredAsterisk=function(){if(this.ngControl&&this.ngControl.control.validator){var e=this.ngControl.control.validator({});this.inputGroup.isRequired=e&&e.required,this.cdr.markForCheck()}},e.prototype.setSelection=function(e){e&&e.value!==undefined&&null!==e.value?this.selection.set(this.id,new Set([e])):this.selection.clear(this.id)},e.prototype.onBlur=function(){this.ngControl&&!this.ngControl.valid?this.input.valid=wr.INVALID:this.input.valid=wr.INITIAL,this.collapsed||this.toggleDirective.close()},e.prototype.onStatusChanged=function(){(this.ngControl.control.touched||this.ngControl.control.dirty)&&(this.ngControl.control.validator||this.ngControl.control.asyncValidator)&&(this.inputGroup.isFocused?this.input.valid=this.ngControl.valid?wr.VALID:wr.INVALID:this.input.valid=this.ngControl.valid?wr.INITIAL:wr.INVALID),this.manageRequiredAsterisk()},e.prototype.ngOnInit=function(){this.ngControl=this._injector.get(o.NgControl,null)},e.prototype.ngAfterViewInit=function(){this.ngControl&&(this._statusChanges$=this.ngControl.statusChanges.subscribe(this.onStatusChanged.bind(this)),this.manageRequiredAsterisk()),this.cdr.detectChanges()},e.prototype.ngOnDestroy=function(){this.selection.clear(this.id),this._statusChanges$&&this._statusChanges$.unsubscribe()},e.decorators=[{type:b.Component,args:[{selector:"igx-select",template:'<igx-input-group #inputGroup class="input-group" [disabled]="disabled" (click)="toggle()" [type]="type" [displayDensity]="displayDensity">\n    <ng-container ngProjectAs="[igxLabel]">\n        <ng-content select="[igxLabel]"></ng-content>\n    </ng-container>\n    <ng-container ngProjectAs="igx-prefix">\n        <ng-content select="igx-prefix,[igxPrefix]"></ng-content>\n    </ng-container>\n        <input #input class="input" type="text" igxInput [igxSelectItemNavigation]="this"\n            readonly="true"\n            [attr.placeholder]="this.placeholder"\n            [value]="this.selectionValue"\n            role="combobox"\n            aria-haspopup="listbox"\n            [attr.aria-labelledby]="this.label ? this.label.id : \'\'"\n            [attr.aria-expanded]="!this.collapsed"\n            [attr.aria-owns]="this.listId"\n            [attr.aria-activedescendant]="!this.collapsed ? this.focusedItem?.id : null"\n            (blur)="onBlur()"\n            />\n        <ng-container ngProjectAs="igx-suffix">\n                <ng-content select="igx-suffix,[igxSuffix]"></ng-content>\n            </ng-container>\n        <igx-suffix>\n            <ng-container *ngIf="toggleIconTemplate">\n                <ng-container *ngTemplateOutlet="toggleIconTemplate; context: {$implicit: this.collapsed}"></ng-container>\n                </ng-container>\n            <igx-icon *ngIf="!toggleIconTemplate" fontSet="material">{{ collapsed ? \'arrow_drop_down\' : \'arrow_drop_up\'}}</igx-icon>\n        </igx-suffix>\n    </igx-input-group>\n    <div class="igx-drop-down__list--select" igxToggle [style.maxHeight]="maxHeight"\n        (onOpening)="onToggleOpening($event)" (onOpened)="onToggleOpened()"\n        (onClosing)="onToggleClosing($event)" (onClosed)="onToggleClosed()"\n        [attr.id]="this.listId" role="listbox">\n        <ng-content select="igx-select-item, igx-select-item-group">\n        </ng-content>\n    </div>\n',providers:[{provide:o.NG_VALUE_ACCESSOR,useExisting:e,multi:!0},{provide:Kn,useExisting:e}],styles:["\n        :host {\n            display: block;\n        }\n    "]}]}],e.ctorParameters=function(){return[{type:b.ElementRef},{type:b.ChangeDetectorRef},{type:$n},{type:undefined,decorators:[{type:b.Optional},{type:b.Inject,args:[tr]}]},{type:b.Injector}]},e.propDecorators={inputGroup:[{type:b.ViewChild,args:["inputGroup",{read:kr}]}],input:[{type:b.ViewChild,args:["input",{read:_r}]}],children:[{type:b.ContentChildren,args:[b.forwardRef(function(){return zd}),{descendants:!0}]}],label:[{type:b.ContentChild,args:[b.forwardRef(function(){return Ir})]}],value:[{type:b.Input}],placeholder:[{type:b.Input}],disabled:[{type:b.Input}],overlaySettings:[{type:b.Input}],maxHeight:[{type:b.HostBinding,args:["style.maxHeight"]}],type:[{type:b.Input}],displayDensity:[{type:b.Input}],toggleIconTemplate:[{type:b.ContentChild,args:[Kd,{read:b.TemplateRef}]}]},e}(fr),Xd=function(i){function e(){var e=i.call(this,null)||this;return e.inputStream="",e.clearStream$=x.Subscription.EMPTY,e}return f(e,i),e.prototype.handleKeyDown=function(e){if(e&&!e.shiftKey){var t=e.key.toLowerCase();if(!e.altKey||"arrowdown"!==t&&"arrowup"!==t&&"down"!==t&&"up"!==t){if(this.target.collapsed)switch(t){case"space":case"spacebar":case" ":case"enter":return e.preventDefault(),void this.target.open();case"arrowdown":case"down":return this.target.navigateNext(),this.target.selectItem(this.target.focusedItem),void e.preventDefault();case"arrowup":case"up":return this.target.navigatePrev(),this.target.selectItem(this.target.focusedItem),void e.preventDefault()}i.prototype.handleKeyDown.call(this,e)}else this.target.toggle()}},e.prototype.captureKey=function(e){var t=this;if(e&&e.key&&!(1<e.key.length)){this.clearStream$.unsubscribe(),this.clearStream$=x.timer(500).subscribe(function(){t.inputStream=""}),this.inputStream+=e.key;var i=this.target.focusedItem;i&&1<this.inputStream.length&&i.itemText.toLowerCase().startsWith(this.inputStream.toLowerCase())||this.activateItemByText(this.inputStream)}},e.prototype.activateItemByText=function(t){var e=this.target.items,i=e.indexOf(this.target.focusedItem)||0,n=e.slice(i+1).find(function(e){return!e.disabled&&e.itemText.toLowerCase().startsWith(t.toLowerCase())});n||(n=e.slice(0,i).find(function(e){return!e.disabled&&e.itemText.toLowerCase().startsWith(t.toLowerCase())})),n&&(this.target.collapsed&&this.target.selectItem(n),this.target.navigateItem(e.indexOf(n)))},e.prototype.ngOnDestroy=function(){this.clearStream$.unsubscribe()},e.decorators=[{type:b.Directive,args:[{selector:"[igxSelectItemNavigation]"}]}],e.ctorParameters=function(){return[]},e.propDecorators={target:[{type:b.Input,args:["igxSelectItemNavigation"]}],captureKey:[{type:b.HostListener,args:["keyup",["$event"]]}]},e}(mr),qd=function(){function e(){}return e.decorators=[{type:b.NgModule,args:[{declarations:[Yd,zd,Xd,Kd,Gd],exports:[Yd,zd,Xd,Kd,Gd],imports:[yo,r.CommonModule,Lr,o.FormsModule,o.ReactiveFormsModule,Nn,yr,Vr,Go],providers:[]}]}],e}();e.changei18n=function nh(e){var t,i;try{for(var n=S(Object.keys(kc)),r=n.next();!r.done;r=n.next()){var o=r.value;Lc(kc[o],e)}}catch(s){t={error:s}}finally{try{r&&!r.done&&(i=n["return"])&&i.call(n)}finally{if(t)throw t.error}}},e.getCurrentResourceStrings=function rh(){return m({},kc.GridResStrings,kc.TimePickerResStrings)},e.InteractionMode=sl,e.fadeIn=d,e.fadeOut=h,e.flipTop=D,e.flipRight=P,e.flipBottom=E,e.flipLeft=O,e.flipHorFwd=T,e.flipHorBck=R,e.flipVerFwd=k,e.flipVerBck=L,e.rotateInCenter=V,e.rotateInTop=B,e.rotateInRight=N,e.rotateInLeft=U,e.rotateInBottom=z,e.rotateInTr=$,e.rotateInBr=X,e.rotateInBl=Z,e.rotateInTl=Q,e.rotateInDiagonal1=te,e.rotateInDiagonal2=ne,e.rotateInHor=oe,e.rotateInVer=ae,e.rotateOutCenter=H,e.rotateOutTop=j,e.rotateOutRight=G,e.rotateOutLeft=K,e.rotateOutBottom=W,e.rotateOutTr=Y,e.rotateOutBr=q,e.rotateOutBl=J,e.rotateOutTl=ee,e.rotateOutDiagonal1=ie,e.rotateOutDiagonal2=re,e.rotateOutHor=se,e.rotateOutVer=le,e.shakeHor=ue,e.shakeVer=de,e.shakeTop=he,e.shakeBottom=ge,e.shakeRight=fe,e.shakeLeft=me,e.shakeCenter=ye,e.shakeTr=ve,e.shakeBr=xe,e.shakeBl=be,e.shakeTl=Ce,e.heartbeat=Oe,e.pulsateFwd=De,e.pulsateBck=Ee,e.blink=Pe,e.scaleInTop=Me,e.scaleInRight=Ge,e.scaleInBottom=Ke,e.scaleInLeft=Ve,e.scaleInCenter=Le,e.scaleInTr=Be,e.scaleInBr=We,e.scaleInBl=Ae,e.scaleInTl=je,e.scaleInVerTop=He,e.scaleInVerBottom=Ne,e.scaleInVerCenter=Fe,e.scaleInHorCenter=ze,e.scaleInHorLeft=Ue,e.scaleInHorRight=$e,e.scaleOutTop=et,e.scaleOutRight=rt,e.scaleOutBottom=ot,e.scaleOutLeft=tt,e.scaleOutCenter=Ye,e.scaleOutTr=it,e.scaleOutBr=qe,e.scaleOutBl=Xe,e.scaleOutTl=nt,e.scaleOutVerTop=Je,e.scaleOutVerBottom=Qe,e.scaleOutVerCenter=Ze,e.scaleOutHorCenter=st,e.scaleOutHorLeft=at,e.scaleOutHorRight=lt,e.slideInTop=dt,e.slideInRight=gt,e.slideInBottom=ft,e.slideInLeft=ht,e.slideInTr=mt,e.slideInBr=vt,e.slideInBl=xt,e.slideInTl=yt,e.slideOutTop=bt,e.slideOutBottom=wt,e.slideOutRight=Ct,e.slideOutLeft=_t,e.slideOutTr=St,e.slideOutBr=It,e.slideOutBl=Dt,e.slideOutTl=Et,e.swingInTopFwd=Rt,e.swingInRightFwd=kt,e.swingInLeftFwd=At,e.swingInBottomFwd=Lt,e.swingInTopBck=Ft,e.swingInRightBck=Mt,e.swingInBottomBck=Vt,e.swingInLeftBck=Ht,e.swingOutTopFwd=Bt,e.swingOutRightFwd=jt,e.swingOutBottomFwd=Nt,e.swingOutLefttFwd=Gt,e.swingOutTopBck=zt,e.swingOutRightBck=Wt,e.swingOutBottomBck=Ut,e.swingOutLeftBck=Kt,e.growVerIn=Xt,e.growVerOut=qt,e.IgxNavigationService=Zt,e.IgxNavigationToggleDirective=Jt,e.IgxNavigationCloseDirective=Qt,e.IgxNavigationModule=ei,e.IgxAutocompleteDirective=Ar,e.IgxAutocompleteModule=Fr,e.IgxButtonDirective=Mr,e.IgxButtonModule=Vr,e.IgxDividerType=Hr,e.IgxDividerDirective=jr,e.IgxDividerModule=Nr,e.RestrictDrag=Gr,e.IgxDragDirective=zr,e.IgxDropDirective=Wr,e.IgxDragDropModule=Ur,e.IgxFilterOptions=Kr,e.IgxFilterDirective=$r,e.IgxFilterPipe=Yr,e.IgxFilterModule=Xr,e.IgxFocusDirective=qr,e.IgxFocusModule=Zr,e.getTypeNameForDebugging=dr,e.IgxForOfDirective=ur,e.IgxGridForOfDirective=hr,e.IgxForOfModule=gr,e.IgxLayoutDirective=Jr,e.IgxFlexDirective=Qr,e.IgxLayoutModule=eo,e.IgxMaskDirective=co,e.IgxMaskModule=po,e.IgxRadioGroupDirective=bo,e.IgxRadioModule=Co,e.IgxRippleDirective=mo,e.IgxRippleModule=yo,e.IgxTextHighlightDirective=wo,e.IgxTextHighlightModule=_o,e.IgxTextSelectionDirective=So,e.IgxTextSelectionModule=Io,e.IgxToggleDirective=Hn,e.IgxToggleActionDirective=Bn,e.IgxOverlayOutletDirective=jn,e.IgxToggleModule=Nn,e.IgxTooltipTargetDirective=Do,e.IgxTooltipDirective=Oo,e.IgxTooltipModule=Po,e.FilteringLogic=Si,e.FilteringExpressionsTree=Ci,e.IgxFilteringOperand=To,e.IgxBooleanFilteringOperand=Ro,e.IgxDateFilteringOperand=ko,e.IgxNumberFilteringOperand=Lo,e.IgxStringFilteringOperand=Ao,e.InFilteringOperation=Fo,e.InDateFilteringOperation=Mo,e.filteringStateDefaults=Vo,e.BaseFilteringStrategy=Ii,e.FilteringStrategy=Di,e.GroupedRecords=Ho,e.IgxGrouping=xi,e.SortingDirection=fi,e.DefaultSortingStrategy=mi,e.IgxSorting=yi,e.IgxDataRecordSorting=vi,e.PagingError=bi,e.DataType=Pi,e.DataUtil=Ti,e.Size={SMALL:"small",MEDIUM:"medium",LARGE:"large"},e.AvatarType=Wo,e.IgxAvatarComponent=Uo,e.IgxAvatarModule=Ko,e.Type=Yo,e.IgxBadgeComponent=Xo,e.IgxBadgeModule=qo,e.IgxBannerComponent=ps,e.IgxBannerModule=us,e.ButtonGroupAlignment=ds,e.IgxButtonGroupComponent=gs,e.IgxButtonGroupModule=fs,e.range=vs,e.isLeap=xs,e.weekDay=bs,e.monthRange=Cs,e.isDateInRanges=ws,e.WEEKDAYS=_s,e.Calendar=Ss,e.IgxCalendarComponent=Ys,e.IgxDaysViewComponent=Ks,e.IgxMonthsViewComponent=js,e.CalendarHammerConfig=Gs,e.IgxYearsViewComponent=zs,e.IgxMonthPickerComponent=qs,e.IgxCalendarYearDirective=Is,e.IgxCalendarMonthDirective=Ds,e.IgxCalendarHeaderTemplateDirective=Es,e.IgxCalendarSubheaderTemplateDirective=Os,e.IgxCalendarScrollMonthDirective=Ps,e.IgxCalendarModule=Zs,e.IgxCardMediaDirective=Qs,e.IgxCardHeaderComponent=ea,e.IgxCardThumbnailDirective=ta,e.IgxCardHeaderTitleDirective=ia,e.IgxCardHeaderSubtitleDirective=na,e.IgxCardContentDirective=ra,e.IgxCardFooterDirective=oa,e.IgxCardType=sa,e.IgxCardComponent=aa,e.IgxCardActionsLayout=la,e.IgxCardActionsComponent=ca,e.IgxCardModule=pa,e.Direction=da,e.IgxCarouselComponent=ha,e.IgxSlideComponent=ga,e.IgxCarouselModule=fa,e.LabelPosition=ma,e.IgxCheckboxComponent=xa,e.IGX_CHECKBOX_REQUIRED_VALIDATOR=ba,e.IgxCheckboxRequiredDirective=Ca,e.IgxCheckboxModule=wa,e.IgxChipComponent=Sa,e.IgxChipsAreaComponent=Ia,e.IgxChipsModule=Da,e.IgxPrefixDirective=Dr,e.IgxPrefixModule=Er,e.IgxSuffixDirective=Or,e.IgxSuffixModule=Pr,e.IgxComboState=Xa,e.IgxComboComponent=Ja,e.IgxComboModule=Qa,e.PredefinedFormatOptions=cl,e.IgxDatePickerComponent=pl,e.IgxDatePickerModule=ul,e.IgxDialogComponent=fl,e.IgxDialogModule=ml,e.IgxDropDownModule=yr,e.IgxDropDownComponent=fr,e.IgxDropDownItemComponent=Qn,e.IgxDropDownItemNavigationDirective=mr,e.IgxDropDownBase=rr,e.IgxDropDownItemBase=Jn,e.IgxDropDownGroupComponent=Xn,e.ColumnDisplayOrder=Xl,e.GridBaseAPIService=_i,e.IgxGridCellComponent=Cl,e.IgxRowComponent=wl,e.IgxColumnComponent=zl,e.IgxColumnGroupComponent=Wl,e.IgxColumnLayoutComponent=Ul,e.IgxGridTransaction=Wc,e.GridSummaryPosition=Uc,e.GridSummaryCalculationMode=Kc,e.FilterMode=$c,e.GridKeydownTargetType=Yc,e.IgxGridBaseComponent=Xc,e.IgxResizeHandleDirective=Ol,e.IgxColumnResizerDirective=Pl,e.IgxFilterCellTemplateDirective=Tl,e.IgxCellTemplateDirective=Rl,e.IgxCellHeaderTemplateDirective=kl,e.IgxCellFooterTemplateDirective=Ll,e.IgxCellEditorTemplateDirective=Al,e.IgxColumnMovingService=Fl,e.DropPosition=Ml,e.IgxColumnMovingDragDirective=Vl,e.IgxColumnMovingDropDirective=Hl,e.IgxGridBodyDirective=Bl,e.IgxDatePipeComponent=jl,e.IgxDecimalPipeComponent=Nl,e.ContainerPositioningStrategy=Gl,e.IgxSummaryOperand=Sl,e.IgxNumberSummaryOperand=Il,e.IgxDateSummaryOperand=Dl,e.IgxGridCommonModule=Mp,e.IgxColumnHidingComponent=Jl,e.IgxColumnHidingModule=Ql,e.IgxColumnPinningItemDirective=ec,e.IgxColumnPinningComponent=tc,e.IgxColumnPinningModule=ic,e.IgxGridGroupByRowComponent=oc,e.IgxGridComponent=Wp,e.IgxGroupByRowTemplateDirective=Hp,e.IgxGroupAreaDropDirective=Bp,e.IgxGridModule=Jp,e.IgxGridAPIService=Vp,e.IgxGridRowComponent=qp,e.IgxTreeGridComponent=nu,e.IgxTreeGridModule=du,e.IgxTreeGridAPIService=Qp,e.IgxTreeGridRowComponent=ru,e.IgxTreeGridCellComponent=pu,e.hierarchicalTransactionServiceFactory=mu,e.IgxHierarchicalTransactionServiceFactory=fu,e.IgxHierarchicalGridBaseComponent=yu,e.IgxHierarchicalGridComponent=_u,e.IgxHierarchicalGridModule=Ou,e.IgxHierarchicalGridAPIService=vu,e.IgxHierarchicalRowComponent=Iu,e.IgxRowIslandAPIService=xu,e.IgxRowIslandComponent=bu,e.IgxIconModule=Go,e.IgxIconComponent=No,e.IgxIconService=Bo,e.IgxInputGroupComponent=kr,e.IgxInputGroupModule=Lr,e.IgxInputState=wr,e.IgxInputDirective=_r,e.IgxLabelDirective=Ir,e.IgxHintDirective=xr,e.IgxListThumbnailDirective=Sp,e.IgxListActionDirective=Ip,e.IgxListLineDirective=Dp,e.IgxListLineTitleDirective=Ep,e.IgxListLineSubTitleDirective=Op,e.IgxListComponent=Pp,e.IgxListModule=Tp,e.IgxListBase=fp,e.IgxListPanState=mp,e.IgxEmptyListTemplateDirective=yp,e.IgxDataLoadingTemplateDirective=vp,e.IgxListItemLeftPanningTemplateDirective=xp,e.IgxListItemRightPanningTemplateDirective=bp,e.IgxListItemComponent=wp,e.IgxExpansionPanelHeaderComponent=os,e.IgxExpansionPanelBodyComponent=Jo,e.IgxExpansionPanelComponent=as,e.IgxExpansionPanelModule=ls,e.IgxActionIconDirective=Pu,e.IgxNavbarComponent=Ru,e.IgxNavbarModule=ku,e.IgxNavigationDrawerComponent=Vu,e.IgxNavDrawerItemDirective=Lu,e.IgxNavDrawerTemplateDirective=Au,e.IgxNavDrawerMiniTemplateDirective=Fu,e.IgxNavigationDrawerModule=Hu,e.getValueInProperRange=op,e.convertInPercentage=sp,e.IgxTextAlign=Jc,e.IgxProgressType=Qc,e.BaseProgress=ep,e.IgxLinearProgressBarComponent=np,e.IgxCircularProgressBarComponent=rp,e.IgxProgressBarModule=ap,e.RadioLabelPosition=uo,e.IgxRadioComponent=fo,e.IgxSliderComponent=Ku,e.IgxSliderModule=$u,e.IgxThumbFromTemplateDirective=ju,e.IgxThumbToTemplateDirective=Nu,e.SliderType=Gu,e.SliderHandle=zu,e.IgxSnackbarComponent=Xu,e.IgxSnackbarModule=qu,e.SwitchLabelPosition=Zu,e.IgxSwitchComponent=ed,e.IGX_SWITCH_REQUIRED_VALIDATOR=td,e.IgxSwitchRequiredDirective=id,e.IgxSwitchModule=nd,e.IgxTabTemplateDirective=od,e.IgxBottomNavComponent=sd,e.IgxTabPanelComponent=ad,e.IgxTabComponent=ld,e.IgxBottomNavModule=cd,e.TabsType=xd,e.IgxTabsComponent=bd,e.IgxTabsModule=Cd,e.IgxTabItemComponent=ud,e.IgxTabsGroupComponent=vd,e.IgxRightButtonStyleDirective=fd,e.IgxLeftButtonStyleDirective=md,e.IgxTabItemTemplateDirective=yd,e.TimePickerHammerConfig=Fd,e.IgxTimePickerComponent=Md,e.IgxTimePickerModule=Vd,e.IgxToastComponent=Bd,e.IgxToastPosition=jd,e.IgxToastModule=Nd,e.IgxSelectGroupComponent=Gd,e.IgxSelectItemComponent=zd,e.IgxSelectToggleIconDirective=Kd,e.IgxSelectComponent=Yd,e.IgxSelectModule=qd,e.HorizontalAlignment=gn,e.VerticalAlignment=fn,e.Point=mn,e.IgxCsvExporterService=Vi,e.IgxCsvExporterOptions=Fi,e.CsvFileTypes=Mi,e.IgxExcelExporterService=dn,e.IgxExcelExporterOptions=hn,e.IgxBaseExporter=ki,e.IgxExporterOptionsBase=Ai,e.IgxOverlayService=En,e.GlobalPositionStrategy=bn,e.ConnectedPositioningStrategy=On,e.AutoPositionStrategy=Tn,e.ElasticPositionStrategy=Rn,e.ScrollStrategy=Cn,e.AbsoluteScrollStrategy=kn,e.BlockScrollStrategy=Ln,e.CloseScrollStrategy=An,e.NoOpScrollStrategy=wn,e.IgxTransactionService=Mn,e.IgxBaseTransactionService=Fn,e.TransactionType=wi,e.IgxHierarchicalTransactionService=Vn,e.DateRangeType=ms,e.DisplayDensity=er,e.DisplayDensityToken=tr,e.DisplayDensityBase=ir,e.g=i,e.h=a,e.r=cs,e.w=Ms,e.x=Ws,e.v=Hs,e.co=Sa,e.cn=Ia,e.bp=Ha,e.bb=Ba,e.bc=Ma,e.y=Fa,e.z=Va,e.bi=ka,e.bk=Aa,e.bg=Ta,e.be=Oa,e.bd=Ea,e.bh=Ra,e.bf=Pa,e.bj=La,e.bo=Wa,e.bl=ja,e.bn=za,e.bm=Ga,e.j=Sn,e.bz=xl,e.ca=bl,e.k=$n,e.dx=Cp,e.bs=al,e.bv=tl,e.br=ol,e.bq=rl,e.bt=il,e.bu=nl,e.by=hl,e.bx=dl,e.m=or,e.l=pr,e.o=sr,e.n=ar,e.p=lr,e.q=cr,e.cv=Bc,e.cw=Nc,e.dp=fr,e.a=Kn,e.f=Zo,e.t=es,e.u=ts,e.s=Qo,e.c=Zl,e.dg=$l,e.df=Kl,e.d=Yl,e.de=Hc,e.dv=gp,e.dq=Cc,e.ds=bc,e.dr=xc,e.dt=vc,e.dw=Rp,e.du=wc,e.cg=Dc,e.cf=Ic,e.ch=Ec,e.ce=Sc,e.ci=Oc,e.do=kp,e.cm=Tc,e.cu=zc,e.cl=mc,e.es=_i,e.cc=Gc,e.cd=El,e.dj=lp,e.dm=up,e.dk=cp,e.dl=pp,e.dn=dp,e.cj=Rc,e.ck=Pc,e.cp=lc,e.di=hp,e.cs=nc,e.ct=rc,e.cz=uc,e.da=dc,e.cx=cc,e.cy=pc,e.ef=Xp,e.ee=Yp,e.ed=$p,e.ec=Kp,e.eb=Up,e.eg=Zp,e.et=Cu,e.eu=Su,e.er=gu,e.ew=Eu,e.ev=Du,e.eq=hu,e.dz=Ap,e.dy=Lp,e.ea=Fp,e.dd=qc,e.db=Ac,e.cr=Fc,e.cq=Mc,e.eh=eu,e.ei=tu,e.eo=Oi,e.ek=su,e.ej=ou,e.em=lu,e.el=au,e.en=cu,e.ep=uu,e.cb=yc,e.i=br,e.dh=Zc,e.fj=Xd,e.dc=On,e.ex=Bu,e.ey=pd,e.ez=wd,e.fe=Dd,e.fc=Sd,e.fb=_d,e.fd=Id,e.fg=Od,e.ff=Ed,e.fh=Pd,e.fi=Td,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=igniteui-angular.umd.min.js.map